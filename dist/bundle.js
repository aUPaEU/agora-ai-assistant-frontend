/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={582:()=>{var t="1.2.5",e={name:"Set the name in the attribute of the html element <agora-app name='Your company name'>",host:"Set the host in the attribute of the html element <agora-app host='https://yourdomain.com'>",company_id:1,enabled_ai:!1,ai_host:"Set the ai_host in the attribute of the html element <agora-app ai_host='https://yourdomain.com'>, usually should be deployed on http://localhost:2020",translation_host:"Set the translation_host in the attribute of the html element <agora-app translation_host='https://yourdomain.com/translation'>",current_version:t};class n{static instance=null;constructor(){this.name=name;const t=this.constructor.instance;if(t)return t;this.styles=[],n.instance=this}registerCSS(t,e){this.styles[t]||(this.styles[t]=this.fetchCSS(e))}renderCSS(t){if(!this.styles[t])throw new Error(`The styles for ${t} have not been loaded. Please use the registerCSS method first to load the styles`);const e=document.createElement("style");return e.textContent=this.styles[t],e}fetchCSS(t){const e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e.responseText}}class r extends HTMLElement{constructor(t,e){super(),this.name=t,this.parentComponent=null,this.shadow=this.#t(),this.styles=this.#e(e),this.wrapper=this.#n(),this.signals=null,this.shadow.appendChild(this.styles),this.shadow.appendChild(this.wrapper)}connectedCallback(){this.render(),this.elementConnected()}disconnectedCallback(){this.elementDisconnected()}#t(){return this.attachShadow({mode:"open"})}#n(){const t=document.createElement("div");return t.classList.add(`${this.name}-wrapper`),t.setAttribute("plan","wrapper"),t}#e(t=null){t||console.warn(`You haven't defined any style path for the component ${this.name}. \n                This component won't have any styles embedded in the shadow DOM. \n                If you want to use encapsulated styles, please define a path to the stylesheet in the constructor`);const e=new n;return e.registerCSS(this.name,t),e.renderCSS(this.name)}$(t){return this.wrapper.querySelector(t)||null}$$(t){return this.wrapper.querySelectorAll(t)||null}render(){this.beforeRender(),this.wrapper.innerHTML=this.template(),this.#r(),this.listeners(),this.connectors(),this.afterRender()}#o(t,e){}#i(t,e){}#a(t){}template(){}listeners(){}connectors(){}elementConnected(){}elementDisconnected(){}beforeRender(){}afterRender(){}#r(){this.wrapper.querySelectorAll("*").forEach((t=>{t.parentComponent=this}))}}class o{static instances={};constructor(t,e,n=!0,r="session"){this.name=`${t}Context`;const i=o.instances[this.name];if(i)return n&&i.subscribe(e),i;this.subscribers=[],this.location=r,this.#s(),n&&this.subscribe(e),o.instances[this.name]=this}#s(){"session"===this.location?!sessionStorage.getItem(this.name)&&sessionStorage.setItem(this.name,JSON.stringify({})):"local"===this.location&&!localStorage.getItem(this.name)&&localStorage.setItem(this.name,JSON.stringify({}))}#c(){this.subscribers.forEach((t=>{t.render()}))}subscribe(t){this.subscribers.includes(t)||this.subscribers.push(t)}setData(t,e=!1){if("session"===this.location){let e=JSON.parse(sessionStorage.getItem(this.name));if(!e)return;e={...e,...t},sessionStorage.setItem(this.name,JSON.stringify(e))}else if("local"===this.location){let e=JSON.parse(localStorage.getItem(this.name));if(!e)return;e={...e,...t},localStorage.setItem(this.name,JSON.stringify(e))}e&&this.#c()}getData(t){return"session"===this.location?JSON.parse(sessionStorage.getItem(this.name))[t]:JSON.parse(localStorage.getItem(this.name))[t]}clear(){"session"===this.location?sessionStorage.removeItem(this.name):"local"===this.location&&localStorage.removeItem(this.name),delete o.instances[this.name]}}class i{constructor(t){if(!t)throw new Error("You need to specify the parent of the signal. Use 'this' as default.");this.parent=t,this.registered={}}register(t){if(this.registered[t])throw new Error(`'${t}' signal already exists.`);this.registered[t]=[]}emit(t,e=null){this.registered[t].forEach((t=>{t.element[t.callback.name]?e?t.element[t.callback.name](e):t.element[t.callback.name]():e?t.callback(e):t.callback()}))}connect(t,e,n){if(!t.signals.registered[e])throw new Error(`${t}:'${e}' signal does not exist. Maybe you're trying to connect to ${this.#l(e)}...`);t.signals.registered[e].push({element:this.parent,callback:n})}#l(t){let e=[];this.registered.keys().forEach((n=>{let r=0;t.split().forEach(((t,e)=>{n.length-1<=e&&n[e]===t&&r++})),e[n]=r}));let n=null,r=0;return e.forEach(((t,e)=>{e>r&&(r=e,n=t)})),n}}class a{#u;#f;#h;constructor(t,e){this.#u=e,this.#f=t,this.#h=t}setState(t,e=!0){this.#f=this.#h,this.#h=t,e&&this.#u.render()}getState(){return this.#h}getPrevState(){return this.#f}}var s="https://cdn.jsdelivr.net/gh/aUPaEU/agora-ai-assistant-frontend@".concat(e.current_version),c={SRC:"".concat(s,"/src"),DIST:"".concat(s,"/dist"),PUBLIC:"".concat(s,"/public"),BASE_COMPONENTS:"".concat(s,"/src/components/base"),MID_COMPONENTS:"".concat(s,"/src/components/mid"),COMPLEX_COMPONENTS:"".concat(s,"/src/components/complex"),LAYOUT_COMPONENTS:"".concat(s,"/src/components/layout"),PAGE_COMPONENTS:"".concat(s,"/src/components/page")},l=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((function(t,e,r){return t+e+(n[r]||"")}),"")};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(){f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:T(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",g="suspendedYield",v="executing",y="completed",m={};function b(){}function w(){}function _(){}var x={};l(x,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(D([])));S&&S!==n&&r.call(S,a)&&(x=S);var O=_.prototype=b.prototype=Object.create(x);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,i,a,s){var c=p(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=d;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=j(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=p(e,n,r);if("normal"===l.type){if(o=r.done?y:g,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(u(e)+" is not iterable")}return w.prototype=_,o(O,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=l(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},C(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(O),l(O,c,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function h(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)}))}}var d=function(){var t=p(f().mark((function t(e,n){var r,o,i,a,s=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:"auto",o=s.length>3&&void 0!==s[3]?s[3]:"en",t.prev=2,t.next=5,fetch("".concat(e,"/translate"),{method:"POST",body:JSON.stringify({q:n,source:r,target:o,format:"text",alternatives:1,api_key:""}),headers:{"Content-Type":"application/json"}});case 5:return i=t.sent,t.next=8,i.json();case 8:if((a=t.sent)&&a.translatedText){t.next=11;break}return t.abrupt("return",n);case 11:return t.abrupt("return",a.translatedText);case 14:return t.prev=14,t.t0=t.catch(2),console.warn("TRANSLATION SERVICE INFO\nThe translation service is not available.\nThe query will be searched in the original language.\nMore information: ".concat(t.t0,".\nProbably the host is blocking the request or doesn't have the service running.")),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=p(f().mark((function t(e){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e,"/translate"),{method:"POST",body:JSON.stringify({q:"ping",source:"auto",target:"en",format:"text",alternatives:1,api_key:""}),headers:{"Content-Type":"application/json"}});case 3:return n=t.sent,t.abrupt("return",n.ok);case 7:return t.prev=7,t.t0=t.catch(0),console.warn("TRANSLATION SERVICE INFO\nThe translation service is not available.\nMore information: ".concat(t.t0,".\nProbably the host is blocking the request or doesn't have the service running.")),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),v={ACCELERATION_SERVICE:"Acceleration Service",ACCELERATION_SUB_SERVICE:"Service",CATALOGUE:"Catalogue",SHOWCASE:"Showcase"},y=function(t,e){return"string"==typeof e?e.replace(/'/g,'"'):e};function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}var w,_,x,k,S,O,C,E,T,j,P,L,A,D,M,R,$,I,N,B,z,q,F,G,H,V,U,Z,W,Y,J,Q,X,K,tt,et,nt,rt=function(t,e){var n=[];return function t(r){for(var o in r)r.hasOwnProperty(o)&&(o===e&&n.push((i={},a=e,s=r[o],(a=function(t){var e=function(t){if("object"!=b(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}(a))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i)),"object"===b(r[o])&&null!==r[o]&&t(r[o]));var i,a,s}(t),n},ot=function(t,e){if(!t)return null;var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(Array.isArray(e)?e:[e]);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t[o])return t[o];for(var i in t)if(i.includes(o))return t[i]}}catch(t){r.e(t)}finally{r.f()}return null},it="error",at="warning",st=function(t,e){var n=document.createElement("agora-toast");n.wrapper.classList.add(e),n.toastType=e,n.toastTitle=e.slice(0,1).toUpperCase()+e.slice(1),n.textContent=t,document.body.appendChild(n)};function ct(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}l(w||(w=ct(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 34L2 18L18 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),l(_||(_=ct(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 34L18 18L2 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),l(x||(x=ct(['\n    <svg width="24" height="24" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 2L18 18L34 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n'])));var lt=l(k||(k=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 4V20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    </svg>\n']))),ut=l(S||(S=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    </svg>\n']))),ft=l(O||(O=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.9365 3.4896V1.6H16.7429V0H10.2921V1.6H11.0984V3.4928C8.66324 4.0648 6.46675 5.5048 5 7.5336L6.31032 8.4664C7.67698 6.58507 9.73496 5.31287 12.0394 4.9248C13.0182 4.75882 14.0183 4.75882 14.9971 4.9248C17.0667 5.26453 18.9468 6.32399 20.3009 7.91351C21.6549 9.50303 22.3946 11.5188 22.3873 13.6C22.3873 18.452 18.408 22.4 13.5175 22.4C12.1094 22.3985 10.7218 22.0653 9.46887 21.4279C8.21591 20.7905 7.13338 19.8671 6.31032 18.7336L5.00081 19.6664C5.97334 21.006 7.25252 22.0973 8.73313 22.8507C10.2137 23.6041 11.8535 23.998 13.5175 24C19.2974 24 24 19.3344 24 13.6C24 8.7288 20.6456 4.5856 15.9365 3.4896ZM12.7111 3.2344V1.6H14.3238V3.2344C13.7871 3.1929 13.2479 3.1929 12.7111 3.2344Z" fill="currentColor"/>\n    <path d="M0 12.7169H7.32115V14.4779H0V12.7169ZM1.62692 9.19486H8.94807V10.9559H1.62692V9.19486ZM1.62692 16.239H8.94807V18H1.62692V16.239ZM17.8498 8L14.8741 11.2209C14.5485 11.0487 14.1912 10.9581 13.8288 10.9559C12.4834 10.9559 11.3884 12.1411 11.3884 13.5974C11.3884 15.0538 12.4834 16.239 13.8288 16.239C15.1743 16.239 16.2692 15.0538 16.2692 13.5974C16.2692 13.1906 16.1773 12.8102 16.0252 12.466L19 9.24505L17.8498 8ZM13.8288 14.4779C13.3806 14.4779 13.0154 14.0826 13.0154 13.5974C13.0154 13.1123 13.3806 12.7169 13.8288 12.7169C14.277 12.7169 14.6423 13.1123 14.6423 13.5974C14.6423 14.0826 14.277 14.4779 13.8288 14.4779Z" fill="currentColor"/>\n    </svg>\n']))),ht=l(C||(C=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="4" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="4" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="4" y="16" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="16" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="16" width="4" height="4" fill="currentColor"/>\n    </svg>\n']))),pt=(l(E||(E=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 12C2 12 5.63636 5 12 5C18.3636 5 22 12 22 12C22 12 18.3636 19 12 19C5.63636 19 2 12 2 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),l(T||(T=ct(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q146 0 255.5 91.5T872-559h-82q-19-73-68.5-130.5T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h80v120h-40L168-552q-3 18-5.5 36t-2.5 36q0 131 92 225t228 95v80Zm364-20L716-228q-21 12-45 20t-51 8q-75 0-127.5-52.5T440-380q0-75 52.5-127.5T620-560q75 0 127.5 52.5T800-380q0 27-8 51t-20 45l128 128-56 56ZM620-280q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Z"/></svg>\n'])))),dt=l(j||(j=ct(['\n    <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0.0152381 30.6667L32 16.6667L0.0152381 2.66669L0 13.5556L22.8571 16.6667L0 19.7778L0.0152381 30.6667Z" fill="currentColor"/>\n    </svg>\n']))),gt=l(P||(P=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 7H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M10 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M14 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M6 7L7 19C7 19.5304 7.21071 20.0391 7.58579 20.4142C7.96086 20.7893 8.46957 21 9 21H15C15.5304 21 16.0391 20.7893 16.4142 20.4142C16.7893 20.0391 17 19.5304 17 19L18 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M9 7V4C9 3.73478 9.10536 3.48043 9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),vt=(l(L||(L=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 22C12 22 19 16 19 9.5C19 5.35786 15.866 2 12 2C8.13401 2 5 5.35786 5 9.5C5 16 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="9.5" r="2.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),l(A||(A=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 3H8C7.44772 3 7 3.44772 7 4V21L12 18L17 21V4C17 3.44772 16.5523 3 16 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n'])))),yt=l(D||(D=ct(['\n    <svg id="Capa_2" data-name="Capa 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 658.08 657.97">\n        <defs>\n            <style>\n                .cls-1 {\n                fill: #3a85fe;\n                }\n\n                .cls-2 {\n                fill: #febd0b;\n                }\n\n                .cls-3 {\n                fill: #fe006e;\n                }\n\n                .cls-4 {\n                fill: #8238eb;\n                }\n\n                .cls-5 {\n                fill: #fa5607;\n                }\n            </style>\n        </defs>\n        <g id="Capa_1-2" data-name="Capa 1">\n        <path class="cls-2" d="M318.49,229.28c89.04-7.92,144.11,93.15,88.17,163.02-44.78,55.93-135.14,46.33-167.52-17.41-31.65-62.3,9.58-139.4,79.34-145.61Z"/>\n        <path class="cls-5" d="M330.39,459.87l2.84.83c17.63,19.48,39.12,36.96,56.48,56.48,52.92,59.49,11,147.48-68.51,140.38-39.16-3.5-70.49-38.81-72.56-77.37-2.95-55.05,49.76-83.94,81.74-120.32Z"/>\n        <path class="cls-5" d="M316.49.48c76-7.75,121.11,79.38,71.23,137.11-17.65,20.43-40.91,38.6-58.98,58.96l-2.55,1.49-2.55-1.49c-37.16-42.18-95.3-71.92-76.22-138.18C256.21,27.88,284.72,3.72,316.49.48Z"/>\n        <path class="cls-3" d="M234.69,238.97c-27.69-1.31-56.98,1.76-84.49,0-113.78-7.32-100.41-171.77,8.03-164.88,35.63,2.26,76.46,36.06,76.46,73.47v91.42Z"/>\n        <path class="cls-1" d="M71.49,247.26c23.94-2.44,46.51,4.05,64.73,19.66l61.4,61.61-1.39,2.39c-42.26,36.94-72.35,96.51-138.97,76.84-83.95-24.78-72.52-151.67,14.23-160.5Z"/>\n        <path class="cls-1" d="M565.49,247.26c59.39-6.04,105.16,46.45,89.49,104.39-15.5,57.32-87.79,78.51-132.81,40.21l-62.4-62.61,1.39-2.39c32.04-26.68,59.42-75.04,104.33-79.6Z"/>\n        <path class="cls-4" d="M237.69,422.8v95.41c0,14.05-16.07,39.15-26.53,48.43-61.42,54.54-155.86-3.87-134.76-83.68,7.76-29.36,40.22-60.16,71.78-60.16h89.5Z"/>\n        <path class="cls-3" d="M422.69,419.8h93.5c25.66,0,55.74,27.24,64.98,49.97,31.93,78.52-59.75,148.36-126.94,96.85-14.97-11.48-31.54-37.09-31.54-56.41v-90.42Z"/>\n        <path class="cls-4" d="M419.69,234.97v-94.41c0-21.13,22.97-49.27,40.69-59.25,66.87-37.68,143.92,26.9,118.76,99.67-8.8,25.46-39.99,53.99-67.96,53.99h-91.5Z"/>\n        </g>\n        </svg>\n']))),mt=l(M||(M=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),bt=l(R||(R=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12 16V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="8" r="1" fill="currentColor"/>\n    </svg>\n']))),wt=l($||($=ct(['\n    <svg\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 24 24"\n    width="24"\n    height="24"\n    fill="currentColor"\n    >\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="12" y1="8" x2="12" y2="8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <line x1="12" y1="11" x2="12" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n']))),_t=l(I||(I=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),xt=l(N||(N=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),kt=l(B||(B=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),St=l(z||(z=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 15L12 9L6 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Ot=l(q||(q=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M16 16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Ct=l(F||(F=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Et=l(G||(G=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>\n    <path d="M3 8H21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M7 6H7.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <path d="M11 6H11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n']))),Tt=l(H||(H=ct(['\n    <svg \n        viewBox="0 0 24 24" \n        fill="none" \n        xmlns="http://www.w3.org/2000/svg"\n    >\n    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>\n    <g id="SVGRepo_iconCarrier"> \n        <path d="M18 20.75H6C5.27065 20.75 4.57118 20.4603 4.05546 19.9445C3.53973 19.4288 3.25 18.7293 3.25 18V6C3.25 5.27065 3.53973 4.57118 4.05546 4.05546C4.57118 3.53973 5.27065 3.25 6 3.25H12C12.1989 3.25 12.3897 3.32902 12.5303 3.46967C12.671 3.61032 12.75 3.80109 12.75 4C12.75 4.19891 12.671 4.38968 12.5303 4.53033C12.3897 4.67098 12.1989 4.75 12 4.75H6C5.66848 4.75 5.35054 4.8817 5.11612 5.11612C4.8817 5.35054 4.75 5.66848 4.75 6V18C4.75 18.3315 4.8817 18.6495 5.11612 18.8839C5.35054 19.1183 5.66848 19.25 6 19.25H18C18.3315 19.25 18.6495 19.1183 18.8839 18.8839C19.1183 18.6495 19.25 18.3315 19.25 18V12C19.25 11.8011 19.329 11.6103 19.4697 11.4697C19.6103 11.329 19.8011 11.25 20 11.25C20.1989 11.25 20.3897 11.329 20.5303 11.4697C20.671 11.6103 20.75 11.8011 20.75 12V18C20.75 18.7293 20.4603 19.4288 19.9445 19.9445C19.4288 20.4603 18.7293 20.75 18 20.75Z" fill="currentColor"></path>\n        <path d="M20 8.75C19.8019 8.74741 19.6126 8.66756 19.4725 8.52747C19.3324 8.38737 19.2526 8.19811 19.25 8V4.75H16C15.8011 4.75 15.6103 4.67098 15.4697 4.53033C15.329 4.38968 15.25 4.19891 15.25 4C15.25 3.80109 15.329 3.61032 15.4697 3.46967C15.6103 3.32902 15.8011 3.25 16 3.25H20C20.1981 3.25259 20.3874 3.33244 20.5275 3.47253C20.6676 3.61263 20.7474 3.80189 20.75 4V8C20.7474 8.19811 20.6676 8.38737 20.5275 8.52747C20.3874 8.66756 20.1981 8.74741 20 8.75Z" fill="currentColor"></path>\n        <path d="M13.5 11.25C13.3071 11.2352 13.1276 11.1455 13 11C12.877 10.8625 12.809 10.6845 12.809 10.5C12.809 10.3155 12.877 10.1375 13 10L19.5 3.5C19.5687 3.42631 19.6515 3.36721 19.7435 3.32622C19.8355 3.28523 19.9348 3.26319 20.0355 3.26141C20.1362 3.25963 20.2362 3.27816 20.3296 3.31588C20.423 3.3536 20.5078 3.40974 20.579 3.48096C20.6503 3.55218 20.7064 3.63701 20.7441 3.7304C20.7818 3.82379 20.8004 3.92382 20.7986 4.02452C20.7968 4.12523 20.7748 4.22454 20.7338 4.31654C20.6928 4.40854 20.6337 4.49134 20.56 4.56L14 11C13.8724 11.1455 13.6929 11.2352 13.5 11.25Z" fill="currentColor"></path>\n    </g>\n    </svg>\n']))),jt=l(V||(V=ct(['\n    <svg \n        fill="currentColor" \n        width="800px" \n        height="800px" \n        viewBox="0 0 32 32" \n        id="Camada_1" \n        version="1.1" \n        xml:space="preserve" \n        xmlns="http://www.w3.org/2000/svg" \n        xmlns:xlink="http://www.w3.org/1999/xlink"\n    >\n        <path d="M5,19.5c0-4.6,2.3-9.4,5-9.4c1.5,0,2.7,0.9,4.6,3.6c-1.8,2.8-2.9,4.5-2.9,4.5c-2.4,3.8-3.2,4.6-4.5,4.6  C5.9,22.9,5,21.7,5,19.5 M20.7,17.8L19,15c-0.4-0.7-0.9-1.4-1.3-2c1.5-2.3,2.7-3.5,4.2-3.5c3,0,5.4,4.5,5.4,10.1  c0,2.1-0.7,3.3-2.1,3.3S23.3,22,20.7,17.8 M16.4,11c-2.2-2.9-4.1-4-6.3-4C5.5,7,2,13.1,2,19.5c0,4,1.9,6.5,5.1,6.5  c2.3,0,3.9-1.1,6.9-6.3c0,0,1.2-2.2,2.1-3.7c0.3,0.5,0.6,1,0.9,1.6l1.4,2.4c2.7,4.6,4.2,6.1,6.9,6.1c3.1,0,4.8-2.6,4.8-6.7  C30,12.6,26.4,7,22.1,7C19.8,7,18,8.8,16.4,11"/>\n    </svg>\n']))),Pt=l(U||(U=ct(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor">\n        <path d="M200-313q10-3 19.5-5t20.5-2h40v-480h-40q-17 0-28.5 11.5T200-760v447Zm40 233q-50 0-85-35t-35-85v-560q0-50 35-85t85-35h280v80H360v480h240v-120h80v200H240q-17 0-28.5 11.5T200-200q0 17 11.5 28.5T240-160h520v-320h80v400H240Zm-40-233v-487 487Zm500-167q0-92 64-156t156-64q-92 0-156-64t-64-156q0 92-64 156t-156 64q92 0 156 64t64 156Z"/></svg>\n']))),Lt=l(Z||(Z=ct(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor"\n    ><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>\n']))),At=l(W||(W=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <rect x="1" y="1" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"/>\n    <rect x="5" y="5" width="14" height="14" fill="currentColor" opacity="0.65" />\n    </svg>\n']))),Dt=l(Y||(Y=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <rect x="1" y="1" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"/>\n    </svg>\n']))),Mt=l(J||(J=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8 18L1 22V6L8 2M8 18L16 22M8 18V2M16 22L23 18V2L16 6M16 22V6M16 6L8 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Rt=l(Q||(Q=ct(['\n    <svg width="24" height="24" viewBox="0 0 489.698 489.698" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M468.999,227.774c-11.4,0-20.8,8.3-20.8,19.8c-1,74.9-44.2,142.6-110.3,178.9c-99.6,54.7-216,5.6-260.6-61l62.9,13.1 c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-123.7-26c-7.2-1.7-26.1,3.5-23.9,22.9l15.6,124.8 c1,10.4,9.4,17.7,19.8,17.7c15.5,0,21.8-11.4,20.8-22.9l-7.3-60.9c101.1,121.3,229.4,104.4,306.8,69.3 c80.1-42.7,131.1-124.8,132.1-215.4C488.799,237.174,480.399,227.774,468.999,227.774z" fill="currentColor"/>\n        <path d="M20.599,261.874c11.4,0,20.8-8.3,20.8-19.8c1-74.9,44.2-142.6,110.3-178.9c99.6-54.7,216-5.6,260.6,61l-62.9-13.1 c-10.4-2.1-21.8,4.2-23.9,15.6c-2.1,10.4,4.2,21.8,15.6,23.9l123.8,26c7.2,1.7,26.1-3.5,23.9-22.9l-15.6-124.8 c-1-10.4-9.4-17.7-19.8-17.7c-15.5,0-21.8,11.4-20.8,22.9l7.2,60.9c-101.1-121.2-229.4-104.4-306.8-69.2 c-80.1,42.6-131.1,124.8-132.2,215.3C0.799,252.574,9.199,261.874,20.599,261.874z" fill="currentColor"/>\n    </g>\n    </svg>\n']))),$t=l(X||(X=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <g transform="scale(0.1875)">\n            \x3c!-- Parte superior y derecha del borde --\x3e\n            <path d="M38 20h52c9.941 0 18 8.059 18 18v20" \n                  fill="none" \n                  stroke="currentColor" \n                  stroke-width="8"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"/>\n            \n            \x3c!-- Parte izquierda e inferior del borde --\x3e\n            <path d="M20 38v52c0 9.941 8.059 18 18 18h35" \n                  fill="none" \n                  stroke="currentColor" \n                  stroke-width="8"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"/>\n            \n            \x3c!-- Letra A --\x3e\n            <path d="m49.7 43.72-12 37.44A1.39 1.39 0 0 0 39 83h3.36a1.39 1.39 0 0 0 1.33-1l1.88-6H62l-.23-.37L63.83 82a1.39 1.39 0 0 0 1.33 1h3.36a1.39 1.39 0 0 0 1.33-1.82l-12-37.44a1.4 1.4 0 0 0-1.33-1H51a1.39 1.39 0 0 0-1.3.98ZM47.57 70l6.19-19.27L60 70Z" fill="currentColor"/>\n            \n            \x3c!-- Letra I --\x3e\n            <rect width="6" height="40.24" x="79" y="42.75" rx="1.4" fill="currentColor"/>\n            \n            \x3c!-- Estrella --\x3e\n            <path d="m111.73 101.8 9.06-3.57a1 1 0 0 0 0-1.86l-9.06-3.57a12.61 12.61 0 0 1-7.09-7.09l-3.57-9a1 1 0 0 0-.93-.63 1 1 0 0 0-.93.63l-3.57 9a12.58 12.58 0 0 1-7.09 7.09l-9 3.57a1 1 0 0 0 0 1.86l9 3.57a12.58 12.58 0 0 1 7.09 7.09l3.57 9a1 1 0 0 0 .93.64 1 1 0 0 0 .93-.64l3.57-9a12.61 12.61 0 0 1 7.09-7.09Z" fill="currentColor"/>\n        </g>\n    </svg>\n']))),It=l(K||(K=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 3L2 21H22L12 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12 9V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12 17H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Nt=l(tt||(tt=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M9 9L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M15 9L9 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Bt=l(et||(et=ct(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),zt=l(nt||(nt=ct(['\n<svg width="200" height="200" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    \x3c!-- Gradiente central para la esfera --\x3e\n    <radialGradient id="coreGlow" cx="50%" cy="50%" r="50%">\n      <stop offset="0%" stop-color="rgb(212, 249, 255)" stop-opacity="1"/>\n      <stop offset="40%" stop-color="rgb(45, 195, 255)" stop-opacity="0.6"/>\n      <stop offset="100%" stop-color="rgba(174, 205, 240, 0)" stop-opacity="0.2"/>\n    </radialGradient>\n\n    \x3c!-- Filtro de desenfoque para nieblas --\x3e\n    <filter id="blur">\n      <feGaussianBlur in="SourceGraphic" stdDeviation="8" />\n    </filter>\n  </defs>\n\n  \x3c!-- Esfera central --\x3e\n  <circle cx="100" cy="100" r="40" fill="url(#coreGlow)" />\n\n  \x3c!-- Niebla 1 --\x3e\n  <circle cx="140" cy="100" r="25" fill="#00ffff" opacity="0.2" filter="url(#blur)">\n    <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="10s" repeatCount="indefinite" />\n  </circle>\n\n  \x3c!-- Niebla 2 --\x3e\n  <circle cx="60" cy="100" r="30" fill="#ffffff" opacity="0.15" filter="url(#blur)">\n    <animateTransform attributeName="transform" type="rotate" from="360 100 100" to="0 100 100" dur="12s" repeatCount="indefinite" />\n  </circle>\n\n  \x3c!-- Niebla 3 --\x3e\n  <circle cx="100" cy="40" r="20" fill="#8a2be2" opacity="0.2" filter="url(#blur)">\n    <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="-360 100 100" dur="14s" repeatCount="indefinite" />\n  </circle>\n\n  \x3c!-- Niebla 4 --\x3e\n  <circle cx="100" cy="160" r="18" fill="#ffffff" opacity="0.1" filter="url(#blur)">\n    <animateTransform attributeName="transform" type="rotate" from="360 100 100" to="0 100 100" dur="9s" repeatCount="indefinite" />\n  </circle>\n\n  \x3c!-- Pulso interior --\x3e\n  <circle cx="100" cy="100" r="40" fill="url(#coreGlow)" opacity="0.5">\n    <animate attributeName="opacity" values="0.4;0.8;0.4" dur="2s" repeatCount="indefinite"/>\n  </circle>\n</svg>\n'])));function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Ft(){Ft=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==qt(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(qt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Gt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ht(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Gt(i,r,o,a,s,"next",t)}function s(t){Gt(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Vt,Ut,Zt,Wt,Yt,Jt=function(){var t=Ht(Ft().mark((function t(e){var n,r,o;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(e,"/catalogue-api/v1/agoras"),t.next=4,fetch(n);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong while fetching Metagora services");case 7:return t.next=9,r.json();case 9:return o=t.sent,t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),Qt=function(){var t=Ht(Ft().mark((function t(e,n){var r,o,i;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="".concat(e,"/catalogue-api/v1/acceleration-services/").concat(n),t.next=4,fetch(r);case 4:if((o=t.sent).ok){t.next=7;break}throw new Error("Something went wrong while fetching Agora services");case 7:return t.next=9,o.json();case 9:return i=t.sent,t.abrupt("return",i);case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}(),Xt=function(){var t=Ht(Ft().mark((function t(e,n,r){var o,i,a,s,c,l;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="".concat(e,"/catalogue-api/v2/").concat(n,"/").concat(r),t.prev=2,i=localStorage.getItem("aida_ak")){t.next=6;break}throw new Error("AIDA API key not found. Please ensure you are properly authenticated.");case 6:return t.next=8,fetch(o,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(i)}});case 8:if((a=t.sent).ok){t.next=21;break}if(404!==a.status){t.next=15;break}return t.next=13,a.json();case 13:throw s=t.sent,new Error(JSON.stringify(s));case 15:if(401!==a.status&&403!==a.status){t.next=20;break}return t.next=18,a.json();case 18:throw c=t.sent,new Error(JSON.stringify(c));case 20:throw new Error("Something went wrong while fetching element");case 21:return t.next=23,a.json();case 23:return l=t.sent,t.abrupt("return",l);case 27:throw t.prev=27,t.t0=t.catch(2),t.t0;case 30:case"end":return t.stop()}}),t,null,[[2,27]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Kt=function(){var t=Ht(Ft().mark((function t(e,n){var r,o,i,a=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={message:n,history:a.length>2&&void 0!==a[2]?a[2]:[],context:a.length>3&&void 0!==a[3]?a[3]:"",model:a.length>4&&void 0!==a[4]?a[4]:"gpt-4o-mini",provider:a.length>5&&void 0!==a[5]?a[5]:"openai",temperature:a.length>6&&void 0!==a[6]?a[6]:.7},t.next=8,fetch("".concat(e,"/assistant/rag/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 8:if((o=t.sent).ok){t.next=11;break}throw new Error("Something went wrong while sending message");case 11:if(!(o.body instanceof ReadableStream)){t.next=17;break}return console.log("STREAMING RESPONSE",o),console.log("BOT RESPONSE IS STREAMING",o.body instanceof ReadableStream),t.abrupt("return",o);case 17:return t.next=19,o.json();case 19:return i=t.sent,t.abrupt("return",i);case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),te=function(){var t=Ht(Ft().mark((function t(e,n){var r,o,i,a,s,c=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:[],n&&0!==n.length){t.next=5;break}throw new Error("No query provided");case 5:if(0!==r.length){t.next=7;break}throw new Error("No models provided for the search");case 7:return o="".concat(e,"/elastic/search?query=").concat(n,"&models=").concat(r.join()),t.prev=8,t.next=11,fetch(o);case 11:if((i=t.sent).ok){t.next=18;break}if(404!==i.status){t.next=18;break}return t.next=16,i.json();case 16:throw a=t.sent,new Error(JSON.stringify(a));case 18:return t.next=20,i.json();case 20:return s=t.sent,t.abrupt("return",s);case 24:throw t.prev=24,t.t0=t.catch(8),t.t0;case 27:case"end":return t.stop()}}),t,null,[[8,24]])})));return function(e,n){return t.apply(this,arguments)}}(),ee=function(){var t=Ht(Ft().mark((function t(e,n){var r,o,i,a;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(e,"/elastic/ingest/").concat(n),t.prev=1,t.next=4,fetch(r);case 4:if((o=t.sent).ok){t.next=10;break}return t.next=8,o.json();case 8:throw i=t.sent,new Error(i.message);case 10:return t.next=12,o.json();case 12:return a=t.sent,t.abrupt("return",a);case 16:throw t.prev=16,t.t0=t.catch(1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}(),ne=function(){var t=Ht(Ft().mark((function t(e){var n,r,o,i,a,s,c,l,u,f=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:[],t.prev=1,r=new URLSearchParams,n&&n.length>0&&r.append("models",n.join(",")),o="".concat(e,"/catalogue-api/v2/api-key/aida").concat(r.toString()?"?".concat(r.toString()):""),t.next=7,fetch(o,{method:"GET",headers:{accept:"application/json"}});case 7:if((i=t.sent).ok){t.next=20;break}if(400!==i.status){t.next=14;break}return t.next=12,i.json();case 12:throw s=t.sent,new Error((null===(a=s.error)||void 0===a?void 0:a.message)||"Bad request when fetching API key");case 14:if(500!==i.status){t.next=19;break}return t.next=17,i.json();case 17:throw l=t.sent,new Error((null===(c=l.error)||void 0===c?void 0:c.message)||"Server error when fetching API key");case 19:throw new Error("Something went wrong while fetching AIDA API key");case 20:return t.next=22,i.json();case 22:return u=t.sent,t.abrupt("return",u);case 26:throw t.prev=26,t.t0=t.catch(1),t.t0;case 29:case"end":return t.stop()}}),t,null,[[1,26]])})));return function(e){return t.apply(this,arguments)}}();function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function oe(t){return function(t){if(Array.isArray(t))return ae(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ie(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(t,e){if(t){if("string"==typeof t)return ae(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(t,e):void 0}}function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function se(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ce(){ce=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==re(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(re(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function le(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ue(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){le(i,r,o,a,s,"next",t)}function s(t){le(i,r,o,a,s,"throw",t)}a(void 0)}))}}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,he(r.key),r)}}function he(t){var e=function(t){if("object"!=re(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==re(e)?e:e+""}function pe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pe=function(){return!!t})()}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},de(t)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}var ve,ye,me,be,we=function(t){function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,e,n){return e=de(e),function(t,e){if(e&&("object"==re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pe()?Reflect.construct(e,n||[],de(t).constructor):e.apply(t,n))}(this,n,["agora-navigator","".concat(c.BASE_COMPONENTS,"/Navigator/Navigator.css")])).signals=new i(t),t.signals.register("changed-agora"),t.signals.register("changed-filters"),t.companyContext=new o("company",t,!1),t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.serviceContext=new o("service",t,!1),t.metagoraContext=new o("metagora",t,!1),t.error=new a(null,t),t.items=new a(null,t),t.initialLoad=new a(!0,t),t.filters=new a([],t),t.fetchAttempts=0,t.maxFetchAttempts=3,t.ensureConfig(),t.fetchItems(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(n,t),r=n,s=[{key:"ensureConfig",value:(h=ue(ce().mark((function t(){var n,r,o,i,a,s,c,l;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=window.document.querySelector("agora-app"),l={name:null!==(n=c.getAttribute("name"))&&void 0!==n?n:e.name,host:null!==(r=null!==(o=c.getAttribute("host"))&&void 0!==o?o:window.location.origin)&&void 0!==r?r:e.host,company_id:null!==(i=c.getAttribute("company_id"))&&void 0!==i?i:e.company_id,enabled_ai:null!==(a=c.hasAttribute("enabled_ai"))&&void 0!==a?a:e.enabled_ai,ai_host:null!==(s=c.getAttribute("ai_host"))&&void 0!==s?s:e.ai_host,translation_host:c.getAttribute("translation_host"),current_version:e.current_version},this.configContext.setData(l);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"template",value:function(){var t,e=this;if(this.error.getState())return l(Vt||(Vt=se(['\n            <div class="error-wrapper">\n                <h1>Oops! Looks like an error...</h1>\n                <p>Something went wrong while connecting to the server.<br> Wait some seconds and try reloading the page.</p>\n            </div>\n        '])));if(!this.items.getState())return l(Ut||(Ut=se(['\n            <agora-base-loader width="100" height="100"></agora-base-loader>\n        '])));var n=this.resultContext.getData("data")?oe(new Set(this.resultContext.getData("data").map((function(t){return t.service})))):[];return l(Zt||(Zt=se(['\n            <div class="menu-unfold-button">','</div>\n            <ul class="menu">\n                ',"\n            </ul>\n            ","\n        "])),St,Object.entries(this.items.getState()).map((function(t){var r,o,i,a=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||ie(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),s=a[0],c=a[1];return l(Wt||(Wt=se(['\n                            <agora-navigator-item \n                                class="'," "," ",'"\n                                style="',"\"\n                                data-component='","'\n                                data-name='","'\n                                data-info='","'\n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),(o=c.fields.name,!(i=e.resultContext.getData("data"))||0===i.length||n.includes(o)?"":"not-in-result"),e.initialLoad.getState()?"initial-load":"",function(t){var r=e.resultContext.getData("data");return r&&0!==r.length?n.includes(t)?"selected":"unselectable":""}(c.fields.name),e.initialLoad.getState()?"animation-delay: ".concat(.2*s,"s;"):"",null===(r=c.fields.components)||void 0===r||null===(r=r.fields)||void 0===r?void 0:r.name,c.fields.name,JSON.stringify(c.fields,y),v.ACCELERATION_SERVICE)})).join(""),0===(null===(t=this.items.getState())||void 0===t?void 0:t.length)?l(Yt||(Yt=se(["<span >There are no currently available services for this Agora.</span>"]))):"")}},{key:"listeners",value:function(){var t=this;this.$$("agora-navigator-item").forEach((function(t){t.selected.getState()?t.addToFilters():t.removeFromFilters()})),this.$(".menu-unfold-button")&&(this.$(".menu-unfold-button").onclick=function(){return t.toogleMenu()})}},{key:"toogleMenu",value:function(){this.$(".menu").classList.toggle("expanded"),this.$(".menu").classList.contains("expanded")?this.$(".menu-unfold-button").innerHTML=kt:this.$(".menu-unfold-button").innerHTML=St}},{key:"fetchItems",value:(f=ue(ce().mark((function t(){var e;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"Metagora"!==this.configContext.getData("name")){t.next=7;break}return t.next=4,Jt(this.configContext.getData("host"));case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,Qt(this.configContext.getData("host"),this.configContext.getData("company_id"));case 9:e=t.sent;case 10:this.updateCompanyContext(e.items[0]),"Metagora"===this.configContext.getData("name")?this.updateMetagoraContext(e):this.updateServiceContext(e.items[0]),"Metagora"===this.configContext.getData("name")&&(this.$(".menu").style.display="none"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),this.fetchAttempts<this.maxFetchAttempts?(this.fetchAttempts++,this.fetchItems()):(st("There was an error while loading the services.\nProbably the service is down or is being restarted.",it),this.error.setState(t.t0),console.error("ERROR WHEN LOADING SERVICES\n".concat(t.t0,"\nProbably the service is down or is being restarted.")));case 18:case"end":return t.stop()}}),t,this,[[0,15]])}))),function(){return f.apply(this,arguments)})},{key:"updateAgora",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.initialLoad.setState(!0,!1),this.resultContext.setData({data:[],grouped:[],filters:[]},!1);var n=this.metagoraContext.getData("data"),r=n.agoras[t];e?this.updateCompanyContext(n):this.updateCompanyContext(r),e?this.updateMetagoraServices(n.agoras):this.updateServiceContext(r),e&&(this.$(".menu").style.display="none"),this.signals.emit("changed-agora")}},{key:"updateCompanyContext",value:function(t){var e=t.fields.company.fields.name,n=t.fields.primary_color,r=t.fields.secondary_color;this.companyContext.setData({info:{name:e,primary_color:n,secondary_color:r}},!0)}},{key:"updateMetagoraContext",value:function(t){var e=t.items[0].fields.sub_acceleration_services;this.metagoraContext.setData({data:{fields:{company:t.items[0].fields.company,primary_color:t.items[0].fields.primary_color,secondary_color:t.items[0].fields.secondary_color},agoras:e}},!1),this.updateMetagoraServices(e)}},{key:"updateMetagoraServices",value:function(t){var e=this;this.serviceContext.setData({services:[]},!1),t.forEach((function(t){e.updateServiceContext(t,!0)})),this.initialLoad.setState(!1,!1)}},{key:"updateServiceContext",value:(u=ue(ce().mark((function t(e){var n,r,o,i,a,s,c,l,u=arguments;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>1&&void 0!==u[1]&&u[1],a=[],void 0===(null===(n=e.fields.sub_acceleration_services)||void 0===n?void 0:n.length)?a=[e.fields.sub_acceleration_services]:(null===(r=e.fields.sub_acceleration_services)||void 0===r?void 0:r.length)>1&&(a=oe(e.fields.sub_acceleration_services)),a.sort((function(t,e){return t.fields.name<e.fields.name?-1:t.fields.name>e.fields.name?1:0})),a=a.filter((function(t){return"active"===t.fields.stage})),i&&(a=[].concat(oe(this.serviceContext.getData("services")),oe(a))),s=rt(a,"model").map((function(t){return t.model})),c=a.reduce((function(t,e){var n=rt(e.fields,"model");return t[e.fields.name]={models:n.map((function(t){return t.model})),description:e.fields.description},t}),{}),this.items.setState(a),i||this.initialLoad.setState(!1,!1),this.serviceContext.setData({services:a},!0),this.serviceContext.setData({models:s}),this.serviceContext.setData({modelsByService:c},!0),t.next=15,ne(this.configContext.getData("host"),s);case 15:if(null!=(l=t.sent)&&null!==(o=l.token)&&void 0!==o&&o.jwt_token){t.next=19;break}return st("There was an error while retrieving the assistant API key.\nPlease, contact the administrator.",it),t.abrupt("return");case 19:localStorage.setItem("aida_ak",l.token.jwt_token);case 20:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"initialDisplay",value:function(){Array.from(this.$(".menu").children).forEach((function(t){t.classList.remove("not-in-result")}))}},{key:"addFilter",value:function(t){t&&(this.filters.getState().find((function(e){return e.service===t.service}))||(this.filters.setState([].concat(oe(this.filters.getState()),[t]),!1),this.updateFilterContext()))}},{key:"removeFilter",value:function(t){var e,n;t&&t.service&&(0===(null===(e=this.resultContext.getData("data"))||void 0===e?void 0:e.length)&&0===(null===(n=this.filters.getState())||void 0===n?void 0:n.length)||(this.filters.setState(this.filters.getState().filter((function(e){return e.service!==t.service})),!1),this.updateFilterContext()))}},{key:"updateFilterContext",value:function(){var t,e;this.resultContext.setData({data:null!==(t=this.resultContext.getData("data"))&&void 0!==t?t:[],grouped:null!==(e=this.resultContext.getData("grouped"))&&void 0!==e?e:[],filters:this.filters.getState()}),this.signals.emit("changed-filters")}}],s&&fe(r.prototype,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,u,f,h}(r);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function xe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Se(r.key),r)}}function Se(t){var e=function(t){if("object"!=_e(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_e(e)?e:e+""}function Oe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Oe=function(){return!!t})()}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}window.customElements.define("agora-navigator",we);var Te,je,Pe,Le,Ae,De,Me,Re,$e,Ie,Ne,Be,ze,qe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ce(e),function(t,e){if(e&&("object"==_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Oe()?Reflect.construct(e,n||[],Ce(t).constructor):e.apply(t,n))}(this,e,["agora-metagora-navigator","".concat(c.BASE_COMPONENTS,"/MetagoraNavigator/MetagoraNavigator.css")])).signals=new i(t),t.signals.register("changed-agora"),t.serviceContext=new o("service",t,!1),t.resultContext=new o("result",t,!0),t.configContext=new o("config",t,!1),t.metagoraContext=new o("metagora",t,!1),t.currentSelected=new a(-1,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){var t=this;return l(ve||(ve=xe(['\n            <div class="agora-button-grid">\n                <button class="agora-selector metagora ','" title="Metagora">\n                    ',"\n                </button>\n                ","\n            </div>\n        "])),-1===this.currentSelected.getState()?"selected":"",jt,this.metagoraContext.getData("data").agoras.map((function(e,n){return l(ye||(ye=xe(['\n                            <button \n                                class="agora-selector agora'," ",'"\n                                title="','"\n                            >\n                                ',"\n                            </button>\n                        "])),0===n?"0":n,t.currentSelected.getState()===n?"selected":"",e.fields.name,e.fields.image?l(me||(me=xe(['<img src="',"",'" alt="','" />'])),t.configContext.getData("host"),e.fields.image,e.fields.name):l(be||(be=xe(['<span class="no-logo" style="color:','">',"</span>"])),e.fields.primary_color,e.fields.name[0].toLowerCase()))})).join(""))}},{key:"listeners",value:function(){var t=this;this.$(".metagora")&&(this.$(".metagora").onclick=function(e){return t.handleClick(t.$(".metagora"),-1,!0)}),Array.from(this.$$(".agora-selector:not(.metagora)")).forEach((function(e,n){e.onclick=function(){return t.handleClick(e,n,!1)}}))}},{key:"handleClick",value:function(t,e,n){this.animateClick(t),t.classList.contains("selected")||(this.signals.emit("changed-agora",{index:0===e?0:e,isMetagora:n}),this.currentSelected.setState(e,!1),this.toggleSelected(t))}},{key:"animateClick",value:function(t){t.classList.add("clicked"),t.onanimationend=function(){return t.classList.remove("clicked")}}},{key:"toggleSelected",value:function(t){this.$$(".agora-selector").forEach((function(t){return t.classList.remove("selected")})),t.classList.add("selected")}}])&&ke(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ve(r.key),r)}}function Ve(t){var e=function(t){if("object"!=Fe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fe(e)?e:e+""}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ue=function(){return!!t})()}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}function We(t,e){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},We(t,e)}window.customElements.define("agora-metagora-navigator",qe);var Ye,Je,Qe,Xe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ze(e),function(t,e){if(e&&("object"==Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ue()?Reflect.construct(e,n||[],Ze(t).constructor):e.apply(t,n))}(this,e,["agora-navigator-item","".concat(c.BASE_COMPONENTS,"/NavigatorItem/NavigatorItem.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.name=new a(t.dataset.name,t),t.info=new a(JSON.parse(t.dataset.info),t),t.type=new a(t.dataset.type,t),t.unfolded=new a(!1,t),t.selected=new a(t.classList.contains("selected"),t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&We(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){var t,e=this,n=this.name.getState(),r=this.info.getState(),o=this.info.getState().website?this.info.getState().website.fields:null,i=this.selected.getState()?l(Te||(Te=Ge(['<div class="selection-icon" title="Filter by this service">',"</div>"])),At):l(je||(je=Ge(['<div class="selection-icon ','" title="Filter by this service">',"</div>"])),this.classList.contains("unselectable")?"unselectable":"",Dt);i=(null===(t=this.resultContext.getData("data"))||void 0===t?void 0:t.length)>0?i:"";var a=l(Pe||(Pe=Ge(['\n            <div class="type-icon" title="','">',"\n            </div>\n        "])),this.getAttribute("data-component"),function(){switch(e.type.getState()){case v.ACCELERATION_SERVICE:switch(e.getAttribute("data-component")){case"Showcase":return pt;case"Catalogues":return Pt;case"Events":return Lt;default:return ft}case v.ACCELERATION_SUB_SERVICE:return ft;case v.CATALOGUE:return ht;case v.SHOWCASE:return pt}}()),s=[v.CATALOGUE,v.SHOWCASE].includes(this.type.getState())?"":l(Le||(Le=Ge(["\n                ","\n            "])),function(t){var e,n;return Object.entries(t.sub_acceleration_services).length>0||!!(Object.entries(null==t?void 0:t.catalogues)&&Object.entries(null==t?void 0:t.catalogues).length>0&&Object.entries(null==t||null===(e=t.catalogues)||void 0===e?void 0:e.websites)&&Object.entries(null==t||null===(n=t.catalogues)||void 0===n?void 0:n.websites).length>0)}(r)?l(Ae||(Ae=Ge(['<div class="unfold-icon">',"</div>"])),lt):l(De||(De=Ge([""])))),c=r&&o?l(Me||(Me=Ge(['<div class="showcase-icon">',"</div>"])),Tt):null,u=this.type.getState()===v.CATALOGUE?null:l(Re||(Re=Ge(['<div class="info-icon">',"</div>"])),wt);return l($e||($e=Ge(['\n            \x3c!-- Item --\x3e\n            <li class="item '," ",'">\n                \x3c!-- Item Type Icon --\x3e\n                ','\n\n                \x3c!-- Item Label --\x3e\n                <a \n                    class="label"\n                    target="_blank" \n                    ',"\n                    ",'\n                >\n                    <div class="label-content">\n                        ','\n                        <span class="label-title">','</span>\n                        <div class="label-subtitle">\n                            <span>','</span>\n                        </div>\n                    </div>\n                </a>\n                <a \n                    class="label hover"\n                    target="_blank" \n                    ',"\n                    ","\n                >\n                    ","\n                    <span>",'</span>\n                </a>\n\n                <div \n                    class="actions"\n                    style="','"\n                >\n                    ',"\n                    ","\n                    ",'\n                </div>\n\n                \x3c!-- Description --\x3e\n                <div class="description">','</div>\n            </li>\n\n            \n\n            \x3c!-- Submenu --\x3e\n            <ul class="submenu"></ul>\n        '])),this.type.getState().toLowerCase().replace(" ","-"),r&&o||r&&r.url?"has-showcase":"",a,r&&o?'href="'.concat(o.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",c,n,this.type.getState(),r&&o?'href="'.concat(o.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",n,this.type.getState(),c||u?"":"display: none;",u,s,i,this.info.getState().description)}},{key:"listeners",value:function(){var t=this;this.$(".label").onclick=function(){return t.navigateToShowcase()},this.$(".unfold-icon")&&(this.$(".unfold-icon").onclick=function(){return t.unfold()}),this.$(".showcase-icon")&&(this.$(".showcase-icon").onclick=function(){return t.navigateToShowcase()}),this.$(".selection-icon")&&(this.$(".selection-icon").onclick=function(){return t.toogleSelect()})}},{key:"toogleSelect",value:function(){(this.selected.getState()||this.$(".type-icon").classList.contains("unselected"))&&this.$(".type-icon").classList.toggle("unselected"),this.selected.setState(!this.selected.getState(),!1),this.$(".selection-icon").innerHTML=this.selected.getState()?At:Dt,this.selected.getState()?this.addToFilters():this.removeFromFilters()}},{key:"addToFilters",value:function(){var t,e,n=this.type.getState()===v.ACCELERATION_SERVICE?{service:null!==(t=this.name.getState())&&void 0!==t?t:null}:{model:null!==(e=this.info.getState().model)&&void 0!==e?e:null};this.parentComponent&&this.parentComponent.addFilter(n)}},{key:"removeFromFilters",value:function(){var t,e,n=this.type.getState()===v.ACCELERATION_SERVICE?{service:null!==(t=this.name.getState())&&void 0!==t?t:null}:{model:null!==(e=this.info.getState().model)&&void 0!==e?e:null};this.parentComponent&&this.parentComponent.removeFilter(n)}},{key:"unfold",value:function(){var t,e;if(this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".unfold-icon").innerHTML=this.unfolded.getState()?ut:lt,this.$(".submenu").innerHTML="",!this.unfolded.getPrevState()){var n=null!==(t=this.info.getState().sub_acceleration_services)&&void 0!==t?t:[],r=null!==(e=this.info.getState().catalogues.websites)&&void 0!==e?e:[];n.length>0&&(this.$(".submenu").innerHTML+=l(Ie||(Ie=Ge(["\n                ","\n            "])),n.map((function(t){return l(Ne||(Ne=Ge(["\n                            <agora-navigator-item \n                                data-name='","'\n                                data-info='","' \n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),t.fields.name,JSON.stringify(t.fields),v.ACCELERATION_SUB_SERVICE)})).join(""))),r.length>0&&(this.$(".submenu").innerHTML+=l(Be||(Be=Ge(["\n                ","\n            "])),r.map((function(t){return l(ze||(ze=Ge(["\n                        <agora-navigator-item \n                            data-name='","'\n                            data-info='","' \n                            data-type='","'>\n                        </agora-navigator-item>\n                    "])),t.name,JSON.stringify(t),v.CATALOGUE)})).join("")))}}},{key:"navigateToShowcase",value:function(){var t=this.$(".label");t.getAttribute("href")&&window.open(t.getAttribute("href"),"_blank").focus()}}])&&He(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function tn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nn(r.key),r)}}function nn(t){var e=function(t){if("object"!=Ke(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ke(e)?e:e+""}function rn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rn=function(){return!!t})()}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}window.customElements.define("agora-navigator-item",Xe);var sn=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=on(e),function(t,e){if(e&&("object"==Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rn()?Reflect.construct(e,n||[],on(t).constructor):e.apply(t,n))}(this,e,["agora-greetings","".concat(c.BASE_COMPONENTS,"/Greetings/Greetings.css")])).companyContext=new o("company",t,!0),t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.setInitialLoading(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(e,t),n=e,(r=[{key:"setInitialLoading",value:function(){this.wrapper.classList.add("initial-loading")}},{key:"template",value:function(){var t,e,n;return this.getAttribute("hidden")?this.wrapper.classList.add("hidden"):this.wrapper.classList.remove("hidden"),l(Ye||(Ye=tn(["\n            <style>\n                .agora-greetings-wrapper {\n                    --company-color: ",';\n                }\n            </style>\n            \x3c!-- Greetings --\x3e\n            <div class="welcome-message">\n                <span class="default-welcome">Welcome</span> \n                <div class="logo">\n                    <span class="agora-name">Agora</span>\n                    <span \n                        class="alliance-name" \n                    >','</span>\n                </div>\n                <span class="multilanguage-welcome">\n                    <span>WELCOME</span>\n                    <span style="animation-delay: 0.5s">BIENVENUE</span>\n                    <span style="animation-delay: 1s">TERVETULOA</span>\n                    <span style="animation-delay: 1s">BIENVENUE</span>\n                    <span style="animation-delay: 1.5s">BENVENUTI</span>\n                    <span style="animation-delay: 1.5s">BEM-VINDOS</span>\n                    <span style="animation-delay: 2s">WITAMY</span>\n                    <span style="animation-delay: 2s">BENVINGUTS</span>\n                    <span style="animation-delay: 2.5s">VLKOMMEN</span>\n                </span>\n            </div>\n            ',"\n        "])),this.companyContext.getData("info")&&null!==(t=this.companyContext.getData("info").primary_color)&&void 0!==t?t:"var(--text-accent-color)",this.companyContext.getData("info")?null!==(e=this.companyContext.getData("info").name)&&void 0!==e?e:"":null!==(n=this.configContext.getData("name"))&&void 0!==n?n:"",this.configContext.getData("ai_enabled")?l(Je||(Je=tn(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            You can navigate directly through our acceleration services \n                            or ask our assistant to guide you through the process of finding the right resources.\n                        </p>\n                    ']))):l(Qe||(Qe=tn(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            Use our search tool to quickly find the resources and acceleration services that you may\n                            need within the ',' Agora.\n                        </p>\n                        <p class="greetings-description" style="color: var(--text-tertiary-color);font-weight:100;">\n                            Enter your query to get started...\n                        </p>\n                    '])),this.companyContext.getData("info")?this.companyContext.getData("info").name:""))}},{key:"hide",value:function(){this.wrapper.classList.add("hidden")}},{key:"unhide",value:function(){this.wrapper.classList.remove("hidden")}}])&&en(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}window.customElements.define("agora-greetings",sn);var un,fn,hn,pn,dn,gn,vn,yn,mn,bn,wn,_n,xn,kn,Sn,On,Cn,En={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Tn={duration:.5,overwrite:!1,delay:0},jn=1e8,Pn=1e-8,Ln=2*Math.PI,An=Ln/4,Dn=0,Mn=Math.sqrt,Rn=Math.cos,$n=Math.sin,In=function(t){return"string"==typeof t},Nn=function(t){return"function"==typeof t},Bn=function(t){return"number"==typeof t},zn=function(t){return void 0===t},qn=function(t){return"object"==typeof t},Fn=function(t){return!1!==t},Gn=function(){return"undefined"!=typeof window},Hn=function(t){return Nn(t)||In(t)},Vn="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Un=Array.isArray,Zn=/(?:-?\.?\d|\.)+/gi,Wn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Yn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Jn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Qn=/[+-]=-?[.\d]+/,Xn=/[^,'"\[\]\s]+/gi,Kn=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,tr={},er={},nr=function(t){return(er=Lr(t,tr))&&Ai},rr=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},or=function(t,e){return!e&&console.warn(t)},ir=function(t,e){return t&&(tr[t]=e)&&er&&(er[t]=e)||tr},ar=function(){return 0},sr={suppressEvents:!0,isStart:!0,kill:!1},cr={suppressEvents:!0,kill:!1},lr={suppressEvents:!0},ur={},fr=[],hr={},pr={},dr={},gr=30,vr=[],yr="",mr=function(t){var e,n,r=t[0];if(qn(r)||Nn(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=vr.length;n--&&!vr[n].targetTest(r););e=vr[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Uo(t[n],e)))||t.splice(n,1);return t},br=function(t){return t._gsap||mr(co(t))[0]._gsap},wr=function(t,e,n){return(n=t[e])&&Nn(n)?t[e]():zn(n)&&t.getAttribute&&t.getAttribute(e)||n},_r=function(t,e){return(t=t.split(",")).forEach(e)||t},xr=function(t){return Math.round(1e5*t)/1e5||0},kr=function(t){return Math.round(1e7*t)/1e7||0},Sr=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},Or=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},Cr=function(){var t,e,n=fr.length,r=fr.slice(0);for(hr={},fr.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Er=function(t,e,n,r){fr.length&&!fn&&Cr(),t.render(e,n,r||fn&&e<0&&(t._initted||t._startAt)),fr.length&&!fn&&Cr()},Tr=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Xn).length<2?e:In(t)?t.trim():t},jr=function(t){return t},Pr=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Lr=function(t,e){for(var n in e)t[n]=e[n];return t},Ar=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=qn(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Dr=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Mr=function(t){var e,n=t.parent||pn,r=t.keyframes?(e=Un(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):Pr;if(Fn(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Rr=function(t,e,n,r,o){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i,a=t[r];if(o)for(i=e[o];a&&a[o]>i;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},$r=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o=e._prev,i=e._next;o?o._next=i:t[n]===e&&(t[n]=i),i?i._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},Ir=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Nr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Br=function(t,e,n,r){return t._startAt&&(fn?t._startAt.revert(cr):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},zr=function t(e){return!e||e._ts&&t(e.parent)},qr=function(t){return t._repeat?Fr(t._tTime,t=t.duration()+t._rDelay)*t:0},Fr=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Gr=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Hr=function(t){return t._end=kr(t._start+(t._tDur/Math.abs(t._ts||t._rts||Pn)||0))},Vr=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=kr(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Hr(t),n._dirty||Nr(n,t)),t},Ur=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Gr(t.rawTime(),e),(!e._dur||oo(0,e.totalDuration(),n)-e._tTime>Pn)&&e.render(n,!0)),Nr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Zr=function(t,e,n,r){return e.parent&&Ir(e),e._start=kr((Bn(n)?n:n||t!==pn?eo(t,n,e):t._time)+e._delay),e._end=kr(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Rr(t,e,"_first","_last",t._sort?"_start":0),Qr(e)||(t._recent=e),r||Ur(t,e),t._ts<0&&Vr(t,t._tTime),t},Wr=function(t,e){return(tr.ScrollTrigger||rr("scrollTrigger",e))&&tr.ScrollTrigger.create(e,t)},Yr=function(t,e,n,r,o){return ti(t,e,o),t._initted?!n&&t._pt&&!fn&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&mn!==Do.frame?(fr.push(t),t._lazy=[o,r],1):void 0:1},Jr=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Qr=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Xr=function(t,e,n,r){var o=t._repeat,i=kr(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=i/t._dur),t._dur=i,t._tDur=o?o<0?1e10:kr(i*(o+1)+t._rDelay*o):i,a>0&&!r&&Vr(t,t._tTime=t._tDur*a),t.parent&&Hr(t),n||Nr(t.parent,t),t},Kr=function(t){return t instanceof Wo?Nr(t):Xr(t,t._dur)},to={_start:0,endTime:ar,totalDuration:ar},eo=function t(e,n,r){var o,i,a,s=e.labels,c=e._recent||to,l=e.duration()>=jn?c.endTime(!1):e._dur;return In(n)&&(isNaN(n)||n in s)?(i=n.charAt(0),a="%"===n.substr(-1),o=n.indexOf("="),"<"===i||">"===i?(o>=0&&(n=n.replace(/=/,"")),("<"===i?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(o<0?c:r).totalDuration()/100:1)):o<0?(n in s||(s[n]=l),s[n]):(i=parseFloat(n.charAt(o-1)+n.substr(o+1)),a&&r&&(i=i/100*(Un(r)?r[0]:r).totalDuration()),o>1?t(e,n.substr(0,o-1),r)+i:l+i)):null==n?l:+n},no=function(t,e,n){var r,o,i=Bn(e[1]),a=(i?2:1)+(t<2?0:1),s=e[a];if(i&&(s.duration=e[1]),s.parent=n,t){for(r=s,o=n;o&&!("immediateRender"in r);)r=o.vars.defaults||{},o=Fn(o.vars.inherit)&&o.parent;s.immediateRender=Fn(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[a-1]}return new ii(e[0],s,e[a+1])},ro=function(t,e){return t||0===t?e(t):e},oo=function(t,e,n){return n<t?t:n>e?e:n},io=function(t,e){return In(t)&&(e=Kn.exec(t))?e[1]:""},ao=[].slice,so=function(t,e){return t&&qn(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&qn(t[0]))&&!t.nodeType&&t!==dn},co=function(t,e,n){return hn&&!e&&hn.selector?hn.selector(t):!In(t)||n||!gn&&Mo()?Un(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return In(t)&&!e||so(t,1)?(r=n).push.apply(r,co(t)):n.push(t)}))||n}(t,n):so(t)?ao.call(t,0):t?[t]:[]:ao.call((e||vn).querySelectorAll(t),0)},lo=function(t){return t=co(t)[0]||or("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return co(e,n.querySelectorAll?n:n===t?or("Invalid scope")||vn.createElement("div"):t)}},uo=function(t){return t.sort((function(){return.5-Math.random()}))},fo=function(t){if(Nn(t))return t;var e=qn(t)?t:{each:t},n=qo(e.ease),r=e.from||0,o=parseFloat(e.base)||0,i={},a=r>0&&r<1,s=isNaN(r)||a,c=e.axis,l=r,u=r;return In(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(l=r[0],u=r[1]),function(t,a,f){var h,p,d,g,v,y,m,b,w,_=(f||e).length,x=i[_];if(!x){if(!(w="auto"===e.grid?0:(e.grid||[1,jn])[1])){for(m=-jn;m<(m=f[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(x=i[_]=[],h=s?Math.min(w,_)*l-.5:r%w,p=w===jn?0:s?_*u/w-.5:r/w|0,m=0,b=jn,y=0;y<_;y++)d=y%w-h,g=p-(y/w|0),x[y]=v=c?Math.abs("y"===c?g:d):Mn(d*d+g*g),v>m&&(m=v),v<b&&(b=v);"random"===r&&uo(x),x.max=m-b,x.min=b,x.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(w>_?_-1:c?"y"===c?_/w:w:Math.max(w,_/w))||0)*("edges"===r?-1:1),x.b=_<0?o-_:o,x.u=io(e.amount||e.each)||0,n=n&&_<0?Bo(n):n}return _=(x[t]-x.min)/x.max||0,kr(x.b+(n?n(_):_)*x.v)+x.u}},ho=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=kr(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(Bn(n)?0:io(n))}},po=function(t,e){var n,r,o=Un(t);return!o&&qn(t)&&(n=o=t.radius||jn,t.values?(t=co(t.values),(r=!Bn(t[0]))&&(n*=n)):t=ho(t.increment)),ro(e,o?Nn(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var o,i,a=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),c=jn,l=0,u=t.length;u--;)(o=r?(o=t[u].x-a)*o+(i=t[u].y-s)*i:Math.abs(t[u]-a))<c&&(c=o,l=u);return l=!n||c<=n?t[l]:e,r||l===e||Bn(e)?l:l+io(e)}:ho(t))},go=function(t,e,n,r){return ro(Un(t)?!e:!0===n?!!(n=0):!r,(function(){return Un(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},vo=function(t,e,n){return ro(n,(function(n){return t[~~e(n)]}))},yo=function(t){for(var e,n,r,o,i=0,a="";~(e=t.indexOf("random(",i));)r=t.indexOf(")",e),o="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(o?Xn:Zn),a+=t.substr(i,e-i)+go(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),i=r+1;return a+t.substr(i,t.length-i)},mo=function(t,e,n,r,o){var i=e-t,a=r-n;return ro(o,(function(e){return n+((e-t)/i*a||0)}))},bo=function(t,e,n){var r,o,i,a=t.labels,s=jn;for(r in a)(o=a[r]-e)<0==!!n&&o&&s>(o=Math.abs(o))&&(i=r,s=o);return i},wo=function(t,e,n){var r,o,i,a=t.vars,s=a[e],c=hn,l=t._ctx;if(s)return r=a[e+"Params"],o=a.callbackScope||t,n&&fr.length&&Cr(),l&&(hn=l),i=r?s.apply(o,r):s.call(o),hn=c,i},_o=function(t){return Ir(t),t.scrollTrigger&&t.scrollTrigger.kill(!!fn),t.progress()<1&&wo(t,"onInterrupt"),t},xo=[],ko=function(t){if(t)if(t=!t.name&&t.default||t,Gn()||t.headless){var e=t.name,n=Nn(t),r=e&&!n&&t.init?function(){this._props=[]}:t,o={init:ar,render:di,add:Xo,kill:vi,modifier:gi,rawVars:0},i={targetTest:0,get:0,getSetter:ui,aliases:{},register:0};if(Mo(),t!==r){if(pr[e])return;Pr(r,Pr(Dr(t,o),i)),Lr(r.prototype,Lr(o,Dr(t,i))),pr[r.prop=e]=r,t.targetTest&&(vr.push(r),ur[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ir(e,r),t.register&&t.register(Ai,r,bi)}else xo.push(t)},So=255,Oo={aqua:[0,So,So],lime:[0,So,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,So],navy:[0,0,128],white:[So,So,So],olive:[128,128,0],yellow:[So,So,0],orange:[So,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[So,0,0],pink:[So,192,203],cyan:[0,So,So],transparent:[So,So,So,0]},Co=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*So+.5|0},Eo=function(t,e,n){var r,o,i,a,s,c,l,u,f,h,p=t?Bn(t)?[t>>16,t>>8&So,t&So]:0:Oo.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Oo[t])p=Oo[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),i=t.charAt(3),t="#"+r+r+o+o+i+i+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&So,p&So,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&So,t&So]}else if("hsl"===t.substr(0,3))if(p=h=t.match(Zn),e){if(~t.indexOf("="))return p=t.match(Wn),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,s=+p[1]/100,r=2*(c=+p[2]/100)-(o=c<=.5?c*(s+1):c+s-c*s),p.length>3&&(p[3]*=1),p[0]=Co(a+1/3,r,o),p[1]=Co(a,r,o),p[2]=Co(a-1/3,r,o);else p=t.match(Zn)||Oo.transparent;p=p.map(Number)}return e&&!h&&(r=p[0]/So,o=p[1]/So,i=p[2]/So,c=((l=Math.max(r,o,i))+(u=Math.min(r,o,i)))/2,l===u?a=s=0:(f=l-u,s=c>.5?f/(2-l-u):f/(l+u),a=l===r?(o-i)/f+(o<i?6:0):l===o?(i-r)/f+2:(r-o)/f+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*s+.5),p[2]=~~(100*c+.5)),n&&p.length<4&&(p[3]=1),p},To=function(t){var e=[],n=[],r=-1;return t.split(Po).forEach((function(t){var o=t.match(Yn)||[];e.push.apply(e,o),n.push(r+=o.length+1)})),e.c=n,e},jo=function(t,e,n){var r,o,i,a,s="",c=(t+s).match(Po),l=e?"hsla(":"rgba(",u=0;if(!c)return t;if(c=c.map((function(t){return(t=Eo(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(i=To(t),(r=n.c).join(s)!==i.c.join(s)))for(a=(o=t.replace(Po,"1").split(Yn)).length-1;u<a;u++)s+=o[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(i.length?i:c.length?c:n).shift());if(!o)for(a=(o=t.split(Po)).length-1;u<a;u++)s+=o[u]+c[u];return s+o[a]},Po=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Oo)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Lo=/hsl[a]?\(/,Ao=function(t){var e,n=t.join(" ");if(Po.lastIndex=0,Po.test(n))return e=Lo.test(n),t[1]=jo(t[1],e),t[0]=jo(t[0],e,To(t[1])),!0},Do=function(){var t,e,n,r,o,i,a=Date.now,s=500,c=33,l=a(),u=l,f=1e3/240,h=f,p=[],d=function n(d){var g,v,y,m,b=a()-u,w=!0===d;if((b>s||b<0)&&(l+=b-c),((g=(y=(u+=b)-l)-h)>0||w)&&(m=++r.frame,o=y-1e3*r.time,r.time=y/=1e3,h+=g+(g>=f?4:f-g),v=1),w||(t=e(n)),v)for(i=0;i<p.length;i++)p[i](y,o,m,d)};return r={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(t){return o/(1e3/(t||60))},wake:function(){yn&&(!gn&&Gn()&&(dn=gn=window,vn=dn.document||{},tr.gsap=Ai,(dn.gsapVersions||(dn.gsapVersions=[])).push(Ai.version),nr(er||dn.GreenSockGlobals||!dn.gsap&&dn||{}),xo.forEach(ko)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,h-1e3*r.time+1|0)},wn=1,d(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),wn=0,e=ar},lagSmoothing:function(t,e){s=t||1/0,c=Math.min(e||33,s)},fps:function(t){f=1e3/(t||240),h=1e3*r.time+f},add:function(t,e,n){var o=e?function(e,n,i,a){t(e,n,i,a),r.remove(o)}:t;return r.remove(t),p[n?"unshift":"push"](o),Mo(),o},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&i>=e&&i--},_listeners:p}}(),Mo=function(){return!wn&&Do.wake()},Ro={},$o=/^[\d.\-M][\d.\-,\s]/,Io=/["']/g,No=function(t){for(var e,n,r,o={},i=t.substr(1,t.length-3).split(":"),a=i[0],s=1,c=i.length;s<c;s++)n=i[s],e=s!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),o[a]=isNaN(r)?r.replace(Io,"").trim():+r,a=n.substr(e+1).trim();return o},Bo=function(t){return function(e){return 1-t(1-e)}},zo=function t(e,n){for(var r,o=e._first;o;)o instanceof Wo?t(o,n):!o.vars.yoyoEase||o._yoyo&&o._repeat||o._yoyo===n||(o.timeline?t(o.timeline,n):(r=o._ease,o._ease=o._yEase,o._yEase=r,o._yoyo=n)),o=o._next},qo=function(t,e){return t&&(Nn(t)?t:Ro[t]||function(t){var e,n,r,o,i=(t+"").split("("),a=Ro[i[0]];return a&&i.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[No(i[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),o=e.indexOf("(",n),e.substring(n,~o&&o<r?e.indexOf(")",r+1):r)).split(",").map(Tr)):Ro._CE&&$o.test(t)?Ro._CE("",t):a}(t))||e},Fo=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var o,i={easeIn:e,easeOut:n,easeInOut:r};return _r(t,(function(t){for(var e in Ro[t]=tr[t]=i,Ro[o=t.toLowerCase()]=n,i)Ro[o+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ro[t+"."+e]=i[e]})),i},Go=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ho=function t(e,n,r){var o=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),a=i/Ln*(Math.asin(1/o)||0),s=function(t){return 1===t?1:o*Math.pow(2,-10*t)*$n((t-a)*i)+1},c="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Go(s);return i=Ln/i,c.config=function(n,r){return t(e,n,r)},c},Vo=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},o="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Go(r);return o.config=function(n){return t(e,n)},o};_r("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Fo(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Ro.Linear.easeNone=Ro.none=Ro.Linear.easeIn,Fo("Elastic",Ho("in"),Ho("out"),Ho()),_n=7.5625,Sn=2*(kn=1/(xn=2.75)),On=2.5*kn,Fo("Bounce",(function(t){return 1-Cn(1-t)}),Cn=function(t){return t<kn?_n*t*t:t<Sn?_n*Math.pow(t-1.5/xn,2)+.75:t<On?_n*(t-=2.25/xn)*t+.9375:_n*Math.pow(t-2.625/xn,2)+.984375}),Fo("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Fo("Circ",(function(t){return-(Mn(1-t*t)-1)})),Fo("Sine",(function(t){return 1===t?1:1-Rn(t*An)})),Fo("Back",Vo("in"),Vo("out"),Vo()),Ro.SteppedEase=Ro.steps=tr.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),o=e?1:0;return function(t){return((r*oo(0,.99999999,t)|0)+o)*n}}},Tn.ease=Ro["quad.out"],_r("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return yr+=t+","+t+"Params,"}));var Uo=function(t,e){this.id=Dn++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:wr,this.set=e?e.getSetter:ui},Zo=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Xr(this,+t.duration,1,1),this.data=t.data,hn&&(this._ctx=hn,hn.data.push(this)),wn||Do.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Xr(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Mo(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Vr(this,t),!n._dp||n.parent||Ur(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Zr(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Pn||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Er(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+qr(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+qr(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Fr(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Gr(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(oo(-Math.abs(this._delay),this._tDur,n),!1!==e),Hr(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Pn&&(this._tTime-=Pn)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Zr(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Fn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Gr(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=lr);var e=fn;return fn=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),fn=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Kr(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Kr(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(eo(this,t),Fn(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Fn(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-Pn))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=Nn(t)?t:jr,o=function(){var t=e.then;e.then=null,Nn(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?o():e._prom=o}))},e.kill=function(){_o(this)},t}();Pr(Zo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Wo=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=Fn(e.sortChildren),pn&&Zr(e.parent||pn,cn(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&Wr(cn(r),e.scrollTrigger),r}ln(e,t);var n=e.prototype;return n.to=function(t,e,n){return no(0,arguments,this),this},n.from=function(t,e,n){return no(1,arguments,this),this},n.fromTo=function(t,e,n,r){return no(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Mr(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ii(t,e,eo(this,n),1),this},n.call=function(t,e,n){return Zr(this,ii.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,o,i,a){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=i,n.onCompleteParams=a,n.parent=this,new ii(t,n,eo(this,o)),this},n.staggerFrom=function(t,e,n,r,o,i,a){return n.runBackwards=1,Mr(n).immediateRender=Fn(n.immediateRender),this.staggerTo(t,e,n,r,o,i,a)},n.staggerFromTo=function(t,e,n,r,o,i,a,s){return r.startAt=n,Mr(r).immediateRender=Fn(r.immediateRender),this.staggerTo(t,e,r,o,i,a,s)},n.render=function(t,e,n){var r,o,i,a,s,c,l,u,f,h,p,d,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,m=t<=0?0:kr(t),b=this._zTime<0!=t<0&&(this._initted||!y);if(this!==pn&&m>v&&t>=0&&(m=v),m!==this._tTime||n||b){if(g!==this._time&&y&&(m+=this._time-g,t+=this._time-g),r=m,f=this._start,c=!(u=this._ts),b&&(y||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,s=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(r=kr(m%s),m===v?(a=this._repeat,r=y):((a=~~(m/s))&&a===m/s&&(r=y,a--),r>y&&(r=y)),h=Fr(this._tTime,s),!g&&this._tTime&&h!==a&&this._tTime-h*s-this._dur<=0&&(h=a),p&&1&a&&(r=y-r,d=1),a!==h&&!this._lock){var w=p&&1&h,_=w===(p&&1&a);if(a<h&&(w=!w),g=w?0:m%y?y:m,this._lock=1,this.render(g||(d?0:kr(a*s)),e,!y)._lock=0,this._tTime=m,!e&&this.parent&&wo(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,_&&(this._lock=2,g=w?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;zo(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,kr(g),kr(r)),l&&(m-=r-(r=l._start))),this._tTime=m,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&r&&!e&&!a&&(wo(this,"onStart"),this._tTime!==m))return this;if(r>=g&&t>=0)for(o=this._first;o;){if(i=o._next,(o._act||r>=o._start)&&o._ts&&l!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,e,n),r!==this._time||!this._ts&&!c){l=0,i&&(m+=this._zTime=-1e-8);break}}o=i}else{o=this._last;for(var x=t<0?t:r;o;){if(i=o._prev,(o._act||x<=o._end)&&o._ts&&l!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(x-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(x-o._start)*o._ts,e,n||fn&&(o._initted||o._startAt)),r!==this._time||!this._ts&&!c){l=0,i&&(m+=this._zTime=x?-1e-8:Pn);break}}o=i}}if(l&&!e&&(this.pause(),l.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=f,Hr(this),this.render(t,e,n);this._onUpdate&&!e&&wo(this,"onUpdate",!0),(m===v&&this._tTime>=this.totalDuration()||!m&&g)&&(f!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((t||!y)&&(m===v&&this._ts>0||!m&&this._ts<0)&&Ir(this,1),e||t<0&&!g||!m&&!g&&v||(wo(this,m===v&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(Bn(e)||(e=eo(this,e,t)),!(t instanceof Zo)){if(Un(t))return t.forEach((function(t){return n.add(t,e)})),this;if(In(t))return this.addLabel(t,e);if(!Nn(t))return this;t=ii.delayedCall(0,t)}return this!==t?Zr(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-jn);for(var o=[],i=this._first;i;)i._start>=r&&(i instanceof ii?e&&o.push(i):(n&&o.push(i),t&&o.push.apply(o,i.getChildren(!0,e,n)))),i=i._next;return o},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return In(t)?this.removeLabel(t):Nn(t)?this.killTweensOf(t):($r(this,t),t===this._recent&&(this._recent=this._last),Nr(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=kr(Do.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=eo(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=ii.delayedCall(0,e||ar,n);return r.data="isPause",this._hasPause=1,Zr(this,r,eo(this,t))},n.removePause=function(t){var e=this._first;for(t=eo(this,t);e;)e._start===t&&"isPause"===e.data&&Ir(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),o=r.length;o--;)Yo!==r[o]&&r[o].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],o=co(t),i=this._first,a=Bn(e);i;)i instanceof ii?Or(i._targets,o)&&(a?(!Yo||i._initted&&i._ts)&&i.globalTime(0)<=e&&i.globalTime(i.totalDuration())>e:!e||i.isActive())&&r.push(i):(n=i.getTweensOf(o,e)).length&&r.push.apply(r,n),i=i._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,o=eo(r,t),i=e,a=i.startAt,s=i.onStart,c=i.onStartParams,l=i.immediateRender,u=ii.to(r,Pr({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:e.duration||Math.abs((o-(a&&"time"in a?a.time:r._time))/r.timeScale())||Pn,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((o-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==t&&Xr(u,t,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,c||[])}},e));return l?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Pr({startAt:{time:eo(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),bo(this,eo(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),bo(this,eo(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Pn)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,o=this._first,i=this.labels;o;)o._start>=n&&(o._start+=t,o._end+=t),o=o._next;if(e)for(r in i)i[r]>=n&&(i[r]+=t);return Nr(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Nr(this)},n.totalDuration=function(t){var e,n,r,o=0,i=this,a=i._last,s=jn;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-t:t));if(i._dirty){for(r=i.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>s&&i._sort&&a._ts&&!i._lock?(i._lock=1,Zr(i,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(o-=n,(!r&&!i._dp||r&&r.smoothChildTiming)&&(i._start+=n/i._ts,i._time-=n,i._tTime-=n),i.shiftChildren(-n,!1,-Infinity),s=0),a._end>o&&a._ts&&(o=a._end),a=e;Xr(i,i===pn&&i._time>o?i._time:o,1,1),i._dirty=0}return i._tDur},e.updateRoot=function(t){if(pn._ts&&(Er(pn,Gr(t,pn)),mn=Do.frame),Do.frame>=gr){gr+=En.autoSleep||120;var e=pn._first;if((!e||!e._ts)&&En.autoSleep&&Do._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Do.sleep()}}},e}(Zo);Pr(Wo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Yo,Jo,Qo=function(t,e,n,r,o,i,a){var s,c,l,u,f,h,p,d,g=new bi(this._pt,t,e,0,1,pi,null,o),v=0,y=0;for(g.b=n,g.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=yo(r)),i&&(i(d=[n,r],t,e),n=d[0],r=d[1]),c=n.match(Jn)||[];s=Jn.exec(r);)u=s[0],f=r.substring(v,s.index),l?l=(l+1)%5:"rgba("===f.substr(-5)&&(l=1),u!==c[y++]&&(h=parseFloat(c[y-1])||0,g._pt={_next:g._pt,p:f||1===y?f:",",s:h,c:"="===u.charAt(1)?Sr(h,u)-h:parseFloat(u)-h,m:l&&l<4?Math.round:0},v=Jn.lastIndex);return g.c=v<r.length?r.substring(v,r.length):"",g.fp=a,(Qn.test(r)||p)&&(g.e=0),this._pt=g,g},Xo=function(t,e,n,r,o,i,a,s,c,l){Nn(r)&&(r=r(o||0,t,i));var u,f=t[e],h="get"!==n?n:Nn(f)?c?t[e.indexOf("set")||!Nn(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():f,p=Nn(f)?c?ci:si:ai;if(In(r)&&(~r.indexOf("random(")&&(r=yo(r)),"="===r.charAt(1)&&((u=Sr(h,r)+(io(h)||0))||0===u)&&(r=u)),!l||h!==r||Jo)return isNaN(h*r)||""===r?(!f&&!(e in t)&&rr(e,r),Qo.call(this,t,e,h,r,p,s||En.stringFilter,c)):(u=new bi(this._pt,t,e,+h||0,r-(h||0),"boolean"==typeof f?hi:fi,0,p),c&&(u.fp=c),a&&u.modifier(a,this,t),this._pt=u)},Ko=function(t,e,n,r,o,i){var a,s,c,l;if(pr[t]&&!1!==(a=new pr[t]).init(o,a.rawVars?e[t]:function(t,e,n,r,o){if(Nn(t)&&(t=ni(t,o,e,n,r)),!qn(t)||t.style&&t.nodeType||Un(t)||Vn(t))return In(t)?ni(t,o,e,n,r):t;var i,a={};for(i in t)a[i]=ni(t[i],o,e,n,r);return a}(e[t],r,o,i,n),n,r,i)&&(n._pt=s=new bi(n._pt,o,t,0,1,a.render,a,0,a.priority),n!==bn))for(c=n._ptLookup[n._targets.indexOf(o)],l=a._props.length;l--;)c[a._props[l]]=s;return a},ti=function t(e,n,r){var o,i,a,s,c,l,u,f,h,p,d,g,v,y=e.vars,m=y.ease,b=y.startAt,w=y.immediateRender,_=y.lazy,x=y.onUpdate,k=y.runBackwards,S=y.yoyoEase,O=y.keyframes,C=y.autoRevert,E=e._dur,T=e._startAt,j=e._targets,P=e.parent,L=P&&"nested"===P.data?P.vars.targets:j,A="auto"===e._overwrite&&!un,D=e.timeline;if(D&&(!O||!m)&&(m="none"),e._ease=qo(m,Tn.ease),e._yEase=S?Bo(qo(!0===S?m:S,Tn.ease)):0,S&&e._yoyo&&!e._repeat&&(S=e._yEase,e._yEase=e._ease,e._ease=S),e._from=!D&&!!y.runBackwards,!D||O&&!y.stagger){if(g=(f=j[0]?br(j[0]).harness:0)&&y[f.prop],o=Dr(y,ur),T&&(T._zTime<0&&T.progress(1),n<0&&k&&w&&!C?T.render(-1,!0):T.revert(k&&E?cr:sr),T._lazy=0),b){if(Ir(e._startAt=ii.set(j,Pr({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!T&&Fn(_),startAt:null,delay:0,onUpdate:x&&function(){return wo(e,"onUpdate")},stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(fn||!w&&!C)&&e._startAt.revert(cr),w&&E&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(k&&E&&!T)if(n&&(w=!1),a=Pr({overwrite:!1,data:"isFromStart",lazy:w&&!T&&Fn(_),immediateRender:w,stagger:0,parent:P},o),g&&(a[f.prop]=g),Ir(e._startAt=ii.set(j,a)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(fn?e._startAt.revert(cr):e._startAt.render(-1,!0)),e._zTime=n,w){if(!n)return}else t(e._startAt,Pn,Pn);for(e._pt=e._ptCache=0,_=E&&Fn(_)||_&&!E,i=0;i<j.length;i++){if(u=(c=j[i])._gsap||mr(j)[i]._gsap,e._ptLookup[i]=p={},hr[u.id]&&fr.length&&Cr(),d=L===j?i:L.indexOf(c),f&&!1!==(h=new f).init(c,g||o,e,d,L)&&(e._pt=s=new bi(e._pt,c,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){p[t]=s})),h.priority&&(l=1)),!f||g)for(a in o)pr[a]&&(h=Ko(a,o,e,d,c,L))?h.priority&&(l=1):p[a]=s=Xo.call(e,c,a,"get",o[a],d,L,0,y.stringFilter);e._op&&e._op[i]&&e.kill(c,e._op[i]),A&&e._pt&&(Yo=e,pn.killTweensOf(c,p,e.globalTime(n)),v=!e.parent,Yo=0),e._pt&&_&&(hr[u.id]=1)}l&&mi(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!v,O&&n<=0&&D.render(jn,!0,!0)},ei=function(t,e,n,r){var o,i,a=e.ease||r||"power1.inOut";if(Un(e))i=n[t]||(n[t]=[]),e.forEach((function(t,n){return i.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(o in e)i=n[o]||(n[o]=[]),"ease"===o||i.push({t:parseFloat(t),v:e[o],e:a})},ni=function(t,e,n,r,o){return Nn(t)?t.call(e,n,r,o):In(t)&&~t.indexOf("random(")?yo(t):t},ri=yr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oi={};_r(ri+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return oi[t]=1}));var ii=function(t){function e(e,n,r,o){var i;"number"==typeof n&&(r.duration=n,n=r,r=null);var a,s,c,l,u,f,h,p,d=(i=t.call(this,o?n:Mr(n))||this).vars,g=d.duration,v=d.delay,y=d.immediateRender,m=d.stagger,b=d.overwrite,w=d.keyframes,_=d.defaults,x=d.scrollTrigger,k=d.yoyoEase,S=n.parent||pn,O=(Un(e)||Vn(e)?Bn(e[0]):"length"in n)?[e]:co(e);if(i._targets=O.length?mr(O):or("GSAP target "+e+" not found. https://gsap.com",!En.nullTargetWarn)||[],i._ptLookup=[],i._overwrite=b,w||m||Hn(g)||Hn(v)){if(n=i.vars,(a=i.timeline=new Wo({data:"nested",defaults:_||{},targets:S&&"nested"===S.data?S.vars.targets:O})).kill(),a.parent=a._dp=cn(i),a._start=0,m||Hn(g)||Hn(v)){if(l=O.length,h=m&&fo(m),qn(m))for(u in m)~ri.indexOf(u)&&(p||(p={}),p[u]=m[u]);for(s=0;s<l;s++)(c=Dr(n,oi)).stagger=0,k&&(c.yoyoEase=k),p&&Lr(c,p),f=O[s],c.duration=+ni(g,cn(i),s,f,O),c.delay=(+ni(v,cn(i),s,f,O)||0)-i._delay,!m&&1===l&&c.delay&&(i._delay=v=c.delay,i._start+=v,c.delay=0),a.to(f,c,h?h(s,f,O):0),a._ease=Ro.none;a.duration()?g=v=0:i.timeline=0}else if(w){Mr(Pr(a.vars.defaults,{ease:"none"})),a._ease=qo(w.ease||n.ease||"none");var C,E,T,j=0;if(Un(w))w.forEach((function(t){return a.to(O,t,">")})),a.duration();else{for(u in c={},w)"ease"===u||"easeEach"===u||ei(u,w[u],c,w.easeEach);for(u in c)for(C=c[u].sort((function(t,e){return t.t-e.t})),j=0,s=0;s<C.length;s++)(T={ease:(E=C[s]).e,duration:(E.t-(s?C[s-1].t:0))/100*g})[u]=E.v,a.to(O,T,j),j+=T.duration;a.duration()<g&&a.to({},{duration:g-a.duration()})}}g||i.duration(g=a.duration())}else i.timeline=0;return!0!==b||un||(Yo=cn(i),pn.killTweensOf(O),Yo=0),Zr(S,cn(i),r),n.reversed&&i.reverse(),n.paused&&i.paused(!0),(y||!g&&!w&&i._start===kr(S._time)&&Fn(y)&&zr(cn(i))&&"nested"!==S.data)&&(i._tTime=-1e-8,i.render(Math.max(0,-v)||0)),x&&Wr(cn(i),x),i}ln(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,o,i,a,s,c,l,u,f,h=this._time,p=this._tDur,d=this._dur,g=t<0,v=t>p-Pn&&!g?p:t<Pn?0:t;if(d){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(r=v,u=this.timeline,this._repeat){if(a=d+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+t,e,n);if(r=kr(v%a),v===p?(i=this._repeat,r=d):((i=~~(v/a))&&i===kr(v/a)&&(r=d,i--),r>d&&(r=d)),(c=this._yoyo&&1&i)&&(f=this._yEase,r=d-r),s=Fr(this._tTime,a),r===h&&!n&&this._initted&&i===s)return this._tTime=v,this;i!==s&&(u&&this._yEase&&zo(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==a&&this._initted&&(this._lock=n=1,this.render(kr(a*i),!0).invalidate()._lock=0))}if(!this._initted){if(Yr(this,g?t:r,n,e,v))return this._tTime=0,this;if(!(h===this._time||n&&this.vars.repeatRefresh&&i!==s))return this;if(d!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(f||this._ease)(r/d),this._from&&(this.ratio=l=1-l),r&&!h&&!e&&!i&&(wo(this,"onStart"),this._tTime!==v))return this;for(o=this._pt;o;)o.r(l,o.d),o=o._next;u&&u.render(t<0?t:u._dur*u._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&Br(this,t,0,n),wo(this,"onUpdate")),this._repeat&&i!==s&&this.vars.onRepeat&&!e&&this.parent&&wo(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(g&&!this._onUpdate&&Br(this,t,0,!0),(t||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Ir(this,1),e||g&&!h||!(v||h||c)||(wo(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var o,i,a,s=t.ratio,c=e<0||!e&&(!t._start&&Jr(t)&&(t._initted||!Qr(t))||(t._ts<0||t._dp._ts<0)&&!Qr(t))?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=oo(0,t._tDur,e),i=Fr(u,l),t._yoyo&&1&i&&(c=1-c),i!==Fr(t._tTime,l)&&(s=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==s||fn||r||t._zTime===Pn||!e&&t._zTime){if(!t._initted&&Yr(t,e,r,n,u))return;for(a=t._zTime,t._zTime=e||(n?Pn:0),n||(n=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=u,o=t._pt;o;)o.r(c,o.d),o=o._next;e<0&&Br(t,e,0,!0),t._onUpdate&&!n&&wo(t,"onUpdate"),u&&t._repeat&&!n&&t.parent&&wo(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&Ir(t,1),n||fn||(wo(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,o){wn||Do.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ti(this,i),function(t,e,n,r,o,i,a,s){var c,l,u,f,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],u=t._ptLookup,f=t._targets.length;f--;){if((c=u[f][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return Jo=1,t.vars[e]="+=0",ti(t,a),Jo=0,s?or(e+" not eligible for reset"):1;h.push(c)}for(f=h.length;f--;)(c=(l=h[f])._pt||l).s=!r&&0!==r||o?c.s+(r||0)+i*c.c:r,c.c=n-c.s,l.e&&(l.e=xr(n)+io(l.e)),l.b&&(l.b=c.s+io(l.b))}(this,t,e,n,r,this._ease(i/this._dur),i,o)?this.resetTo(t,e,n,r,1):(Vr(this,0),this.parent||Rr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?_o(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Yo&&!0!==Yo.vars.overwrite)._first||_o(this),this.parent&&n!==this.timeline.totalDuration()&&Xr(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,i,a,s,c,l,u=this._targets,f=t?co(t):u,h=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,f))return"all"===e&&(this._pt=0),_o(this);for(r=this._op=this._op||[],"all"!==e&&(In(e)&&(s={},_r(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,r,o,i,a=t[0]?br(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(r in n=Lr({},e),s)if(r in n)for(o=(i=s[r].split(",")).length;o--;)n[i[o]]=n[r];return n}(u,e)),l=u.length;l--;)if(~f.indexOf(u[l]))for(s in o=h[l],"all"===e?(r[l]=e,a=o,i={}):(i=r[l]=r[l]||{},a=e),a)(c=o&&o[s])&&("kill"in c.d&&!0!==c.d.kill(s)||$r(this,c,"_pt"),delete o[s]),"all"!==i&&(i[s]=1);return this._initted&&!this._pt&&p&&_o(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return no(1,arguments)},e.delayedCall=function(t,n,r,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},e.fromTo=function(t,e,n){return no(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return pn.killTweensOf(t,e,n)},e}(Zo);Pr(ii.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_r("staggerTo,staggerFrom,staggerFromTo",(function(t){ii[t]=function(){var e=new Wo,n=ao.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var ai=function(t,e,n){return t[e]=n},si=function(t,e,n){return t[e](n)},ci=function(t,e,n,r){return t[e](r.fp,n)},li=function(t,e,n){return t.setAttribute(e,n)},ui=function(t,e){return Nn(t[e])?si:zn(t[e])&&t.setAttribute?li:ai},fi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},hi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},pi=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},di=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},gi=function(t,e,n,r){for(var o,i=this._pt;i;)o=i._next,i.p===r&&i.modifier(t,e,n),i=o},vi=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?$r(this,r,"_pt"):r.dep||(e=1),r=n;return!e},yi=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},mi=function(t){for(var e,n,r,o,i=t._pt;i;){for(e=i._next,n=r;n&&n.pr>i.pr;)n=n._next;(i._prev=n?n._prev:o)?i._prev._next=i:r=i,(i._next=n)?n._prev=i:o=i,i=e}t._pt=r},bi=function(){function t(t,e,n,r,o,i,a,s,c){this.t=e,this.s=r,this.c=o,this.p=n,this.r=i||fi,this.d=a||this,this.set=s||ai,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=yi,this.m=t,this.mt=n,this.tween=e},t}();_r(yr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ur[t]=1})),tr.TweenMax=tr.TweenLite=ii,tr.TimelineLite=tr.TimelineMax=Wo,pn=new Wo({sortChildren:!1,defaults:Tn,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),En.stringFilter=Ao;var wi=[],_i={},xi=[],ki=0,Si=0,Oi=function(t){return(_i[t]||xi).map((function(t){return t()}))},Ci=function(){var t=Date.now(),e=[];t-ki>2&&(Oi("matchMediaInit"),wi.forEach((function(t){var n,r,o,i,a=t.queries,s=t.conditions;for(r in a)(n=dn.matchMedia(a[r]).matches)&&(o=1),n!==s[r]&&(s[r]=n,i=1);i&&(t.revert(),o&&e.push(t))})),Oi("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),ki=t,Oi("matchMedia"))},Ei=function(){function t(t,e){this.selector=e&&lo(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Si++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){Nn(t)&&(n=e,e=t,t=Nn);var r=this,o=function(){var t,o=hn,i=r.selector;return o&&o!==r&&o.data.push(r),n&&(r.selector=lo(n)),hn=r,t=e.apply(r,arguments),Nn(t)&&r._r.push(t),hn=o,r.selector=i,r.isReverted=!1,t};return r.last=o,t===Nn?o(r,(function(t){return r.add(null,t)})):t?r[t]=o:o},e.ignore=function(t){var e=hn;hn=null,t(this),hn=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof ii&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),o=n.data.length;o--;)"isFlip"===(e=n.data[o]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));for(r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),o=n.data.length;o--;)(e=n.data[o])instanceof Wo?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof ii)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var r=wi.length;r--;)wi[r].id===this.id&&wi.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),Ti=function(){function t(t){this.contexts=[],this.scope=t,hn&&hn.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){qn(t)||(t={matches:t});var r,o,i,a=new Ei(0,n||this.scope),s=a.conditions={};for(o in hn&&!a.selector&&(a.selector=hn.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===o?i=1:(r=dn.matchMedia(t[o]))&&(wi.indexOf(a)<0&&wi.push(a),(s[o]=r.matches)&&(i=1),r.addListener?r.addListener(Ci):r.addEventListener("change",Ci));return i&&e(a,(function(t){return a.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),ji={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return ko(t)}))},timeline:function(t){return new Wo(t)},getTweensOf:function(t,e){return pn.getTweensOf(t,e)},getProperty:function(t,e,n,r){In(t)&&(t=co(t)[0]);var o=br(t||{}).get,i=n?jr:Tr;return"native"===n&&(n=""),t?e?i((pr[e]&&pr[e].get||o)(t,e,n,r)):function(e,n,r){return i((pr[e]&&pr[e].get||o)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=co(t)).length>1){var r=t.map((function(t){return Ai.quickSetter(t,e,n)})),o=r.length;return function(t){for(var e=o;e--;)r[e](t)}}t=t[0]||{};var i=pr[e],a=br(t),s=a.harness&&(a.harness.aliases||{})[e]||e,c=i?function(e){var r=new i;bn._pt=0,r.init(t,n?e+n:e,bn,0,[t]),r.render(1,r),bn._pt&&di(1,bn)}:a.set(t,s);return i?c:function(e){return c(t,s,n?e+n:e,a,1)}},quickTo:function(t,e,n){var r,o=Ai.to(t,Lr(((r={})[e]="+=0.1",r.paused=!0,r),n||{})),i=function(t,n,r){return o.resetTo(e,t,n,r)};return i.tween=o,i},isTweening:function(t){return pn.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=qo(t.ease,Tn.ease)),Ar(Tn,t||{})},config:function(t){return Ar(En,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,o=t.defaults,i=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!pr[t]&&!tr[t]&&or(e+" effect requires "+t+" plugin.")})),dr[e]=function(t,e,r){return n(co(t),Pr(e||{},o),r)},i&&(Wo.prototype[e]=function(t,n,r){return this.add(dr[e](t,qn(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Ro[t]=qo(e)},parseEase:function(t,e){return arguments.length?qo(t,e):Ro},getById:function(t){return pn.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,o=new Wo(t);for(o.smoothChildTiming=Fn(t.smoothChildTiming),pn.remove(o),o._dp=0,o._time=o._tTime=pn._time,n=pn._first;n;)r=n._next,!e&&!n._dur&&n instanceof ii&&n.vars.onComplete===n._targets[0]||Zr(o,n,n._start-n._delay),n=r;return Zr(pn,o,0),o},context:function(t,e){return t?new Ei(t,e):hn},matchMedia:function(t){return new Ti(t)},matchMediaRefresh:function(){return wi.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||Ci()},addEventListener:function(t,e){var n=_i[t]||(_i[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=_i[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var o=n-e;return Un(e)?vo(e,t(0,e.length),n):ro(r,(function(t){return(o+(t-e)%o)%o+e}))},wrapYoyo:function t(e,n,r){var o=n-e,i=2*o;return Un(e)?vo(e,t(0,e.length-1),n):ro(r,(function(t){return e+((t=(i+(t-e)%i)%i||0)>o?i-t:t)}))},distribute:fo,random:go,snap:po,normalize:function(t,e,n){return mo(t,e,0,1,n)},getUnit:io,clamp:function(t,e,n){return ro(n,(function(n){return oo(t,e,n)}))},splitColor:Eo,toArray:co,selector:lo,mapRange:mo,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||io(n))}},interpolate:function t(e,n,r,o){var i=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!i){var a,s,c,l,u,f=In(e),h={};if(!0===r&&(o=1)&&(r=null),f)e={p:e},n={p:n};else if(Un(e)&&!Un(n)){for(c=[],l=e.length,u=l-2,s=1;s<l;s++)c.push(t(e[s-1],e[s]));l--,i=function(t){t*=l;var e=Math.min(u,~~t);return c[e](t-e)},r=n}else o||(e=Lr(Un(e)?[]:{},e));if(!c){for(a in n)Xo.call(h,e,a,"get",n[a]);i=function(t){return di(t,h)||(f?e.p:e)}}}return ro(r,i)},shuffle:uo},install:nr,effects:dr,ticker:Do,updateRoot:Wo.updateRoot,plugins:pr,globalTimeline:pn,core:{PropTween:bi,globals:ir,Tween:ii,Timeline:Wo,Animation:Zo,getCache:br,_removeLinkedListItem:$r,reverting:function(){return fn},context:function(t){return t&&hn&&(hn.data.push(t),t._ctx=hn),hn},suppressOverwrites:function(t){return un=t}}};_r("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return ji[t]=ii[t]})),Do.add(Wo.updateRoot),bn=ji.to({},{duration:0});var Pi=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},Li=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(In(n)&&(r={},_r(n,(function(t){return r[t]=1})),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,r,o,i=t._targets;for(n in e)for(r=i.length;r--;)(o=t._ptLookup[r][n])&&(o=o.d)&&(o._pt&&(o=Pi(o,n)),o&&o.modifier&&o.modifier(e[n],t,i[r],n))}(t,n)}}}},Ai=ji.registerPlugin({name:"attr",init:function(t,e,n,r,o){var i,a,s;for(i in this.tween=n,e)s=t.getAttribute(i)||"",(a=this.add(t,"setAttribute",(s||0)+"",e[i],r,o,0,0,i)).op=i,a.b=s,this._props.push(i)},render:function(t,e){for(var n=e._pt;n;)fn?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Li("roundProps",ho),Li("modifiers"),Li("snap",po))||ji;ii.version=Wo.version=Ai.version="3.12.5",yn=1,Gn()&&Mo(),Ro.Power0,Ro.Power1,Ro.Power2,Ro.Power3,Ro.Power4,Ro.Linear,Ro.Quad,Ro.Cubic,Ro.Quart,Ro.Quint,Ro.Strong,Ro.Elastic,Ro.Back,Ro.SteppedEase,Ro.Bounce,Ro.Sine,Ro.Expo,Ro.Circ;var Di,Mi,Ri,$i,Ii,Ni,Bi,zi,qi={},Fi=180/Math.PI,Gi=Math.PI/180,Hi=Math.atan2,Vi=/([A-Z])/g,Ui=/(left|right|width|margin|padding|x)/i,Zi=/[\s,\(]\S/,Wi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Yi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ji=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Qi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Xi=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Ki=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ta=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},ea=function(t,e,n){return t.style[e]=n},na=function(t,e,n){return t.style.setProperty(e,n)},ra=function(t,e,n){return t._gsap[e]=n},oa=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},ia=function(t,e,n,r,o){var i=t._gsap;i.scaleX=i.scaleY=n,i.renderTransform(o,i)},aa=function(t,e,n,r,o){var i=t._gsap;i[e]=n,i.renderTransform(o,i)},sa="transform",ca=sa+"Origin",la=function t(e,n){var r=this,o=this.target,i=o.style,a=o._gsap;if(e in qi&&i){if(this.tfm=this.tfm||{},"transform"===e)return Wi.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(~(e=Wi[e]||e).indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=Ea(o,t)})):this.tfm[e]=a.x?a[e]:Ea(o,e),e===ca&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(sa)>=0)return;a.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(ca,n,"")),e=sa}(i||n)&&this.props.push(e,n,i[e])},ua=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},fa=function(){var t,e,n=this.props,r=this.target,o=r.style,i=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?r[n[t]]=n[t+2]:n[t+2]?o[n[t]]=n[t+2]:o.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Vi,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)i[e]=this.tfm[e];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=Bi())&&t.isStart||o[sa]||(ua(o),i.zOrigin&&o[ca]&&(o[ca]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},ha=function(t,e){var n={target:t,props:[],revert:fa,save:la};return t._gsap||Ai.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},pa=function(t,e){var n=Mi.createElementNS?Mi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Mi.createElement(t);return n&&n.style?n:Mi.createElement(t)},da=function t(e,n,r){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(Vi,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&t(e,va(n)||n,1)||""},ga="O,Moz,ms,Ms,Webkit".split(","),va=function(t,e,n){var r=(e||Ii).style,o=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(ga[o]+t in r););return o<0?null:(3===o?"ms":o>=0?ga[o]:"")+t},ya=function(){"undefined"!=typeof window&&window.document&&(Di=window,Mi=Di.document,Ri=Mi.documentElement,Ii=pa("div")||{style:{}},pa("div"),sa=va(sa),ca=sa+"Origin",Ii.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",zi=!!va("perspective"),Bi=Ai.core.reverting,$i=1)},ma=function t(e){var n,r=pa("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=this.parentNode,i=this.nextSibling,a=this.style.cssText;if(Ri.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return o&&(i?o.insertBefore(this,i):o.appendChild(this)),Ri.removeChild(r),this.style.cssText=a,n},ba=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},wa=function(t){var e;try{e=t.getBBox()}catch(n){e=ma.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===ma||(e=ma.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+ba(t,["x","cx","x1"])||0,y:+ba(t,["y","cy","y1"])||0,width:0,height:0}},_a=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!wa(t))},xa=function(t,e){if(e){var n,r=t.style;e in qi&&e!==ca&&(e=sa),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Vi,"-$1").toLowerCase())):r.removeAttribute(e)}},ka=function(t,e,n,r,o,i){var a=new bi(t._pt,e,n,0,1,i?ta:Ki);return t._pt=a,a.b=r,a.e=o,t._props.push(n),a},Sa={deg:1,rad:1,turn:1},Oa={grid:1,flex:1},Ca=function t(e,n,r,o){var i,a,s,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",f=Ii.style,h=Ui.test(n),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(h?"Width":"Height"),g=100,v="px"===o,y="%"===o;if(o===u||!l||Sa[o]||Sa[u])return l;if("px"!==u&&!v&&(l=t(e,n,r,"px")),c=e.getCTM&&_a(e),(y||"%"===u)&&(qi[n]||~n.indexOf("adius")))return i=c?e.getBBox()[h?"width":"height"]:e[d],xr(y?l/i*g:l/100*i);if(f[h?"width":"height"]=g+(v?u:o),a=~n.indexOf("adius")||"em"===o&&e.appendChild&&!p?e:e.parentNode,c&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Mi&&a.appendChild||(a=Mi.body),(s=a._gsap)&&y&&s.width&&h&&s.time===Do.time&&!s.uncache)return xr(l/s.width*g);if(!y||"height"!==n&&"width"!==n)(y||"%"===u)&&!Oa[da(a,"display")]&&(f.position=da(e,"position")),a===e&&(f.position="static"),a.appendChild(Ii),i=Ii[d],a.removeChild(Ii),f.position="absolute";else{var m=e.style[n];e.style[n]=g+o,i=e[d],m?e.style[n]=m:xa(e,n)}return h&&y&&((s=br(a)).time=Do.time,s.width=a[d]),xr(v?i*l/g:i&&l?g/i*l:0)},Ea=function(t,e,n,r){var o;return $i||ya(),e in Wi&&"transform"!==e&&~(e=Wi[e]).indexOf(",")&&(e=e.split(",")[0]),qi[e]&&"transform"!==e?(o=Na(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Ba(da(t,ca))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=La[e]&&La[e](t,e,n)||da(t,e)||wr(t,e)||("opacity"===e?1:0)),n&&!~(o+"").trim().indexOf(" ")?Ca(t,e,o,n)+n:o},Ta=function(t,e,n,r){if(!n||"none"===n){var o=va(e,t,1),i=o&&da(t,o,1);i&&i!==n?(e=o,n=i):"borderColor"===e&&(n=da(t,"borderTopColor"))}var a,s,c,l,u,f,h,p,d,g,v,y=new bi(this._pt,t.style,e,0,1,pi),m=0,b=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(f=t.style[e],t.style[e]=r,r=da(t,e)||r,f?t.style[e]=f:xa(t,e)),Ao(a=[n,r]),r=a[1],c=(n=a[0]).match(Yn)||[],(r.match(Yn)||[]).length){for(;s=Yn.exec(r);)h=s[0],d=r.substring(m,s.index),u?u=(u+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(u=1),h!==(f=c[b++]||"")&&(l=parseFloat(f)||0,v=f.substr((l+"").length),"="===h.charAt(1)&&(h=Sr(l,h)+v),p=parseFloat(h),g=h.substr((p+"").length),m=Yn.lastIndex-g.length,g||(g=g||En.units[e]||v,m===r.length&&(r+=g,y.e+=g)),v!==g&&(l=Ca(t,e,f,g)||0),y._pt={_next:y._pt,p:d||1===b?d:",",s:l,c:p-l,m:u&&u<4||"zIndex"===e?Math.round:0});y.c=m<r.length?r.substring(m,r.length):""}else y.r="display"===e&&"none"===r?ta:Ki;return Qn.test(r)&&(y.e=0),this._pt=y,y},ja={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Pa=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,o,i=e.t,a=i.style,s=e.u,c=i._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(o=(s=s.split(",")).length;--o>-1;)n=s[o],qi[n]&&(r=1,n="transformOrigin"===n?ca:sa),xa(i,n);r&&(xa(i,sa),c&&(c.svg&&i.removeAttribute("transform"),Na(i,1),c.uncache=1,ua(a)))}},La={clearProps:function(t,e,n,r,o){if("isFromStart"!==o.data){var i=t._pt=new bi(t._pt,e,n,0,0,Pa);return i.u=r,i.pr=-10,i.tween=o,t._props.push(n),1}}},Aa=[1,0,0,1,0,0],Da={},Ma=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ra=function(t){var e=da(t,sa);return Ma(e)?Aa:e.substr(7).match(Wn).map(xr)},$a=function(t,e){var n,r,o,i,a=t._gsap||br(t),s=t.style,c=Ra(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(o=t.transform.baseVal.consolidate().matrix).a,o.b,o.c,o.d,o.e,o.f]).join(",")?Aa:c:(c!==Aa||t.offsetParent||t===Ri||a.svg||(o=s.display,s.display="block",(n=t.parentNode)&&t.offsetParent||(i=1,r=t.nextElementSibling,Ri.appendChild(t)),c=Ra(t),o?s.display=o:xa(t,"display"),i&&(r?n.insertBefore(t,r):n?n.appendChild(t):Ri.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Ia=function(t,e,n,r,o,i){var a,s,c,l=t._gsap,u=o||$a(t,!0),f=l.xOrigin||0,h=l.yOrigin||0,p=l.xOffset||0,d=l.yOffset||0,g=u[0],v=u[1],y=u[2],m=u[3],b=u[4],w=u[5],_=e.split(" "),x=parseFloat(_[0])||0,k=parseFloat(_[1])||0;n?u!==Aa&&(s=g*m-v*y)&&(c=x*(-v/s)+k*(g/s)-(g*w-v*b)/s,x=x*(m/s)+k*(-y/s)+(y*w-m*b)/s,k=c):(x=(a=wa(t)).x+(~_[0].indexOf("%")?x/100*a.width:x),k=a.y+(~(_[1]||_[0]).indexOf("%")?k/100*a.height:k)),r||!1!==r&&l.smooth?(b=x-f,w=k-h,l.xOffset=p+(b*g+w*y)-b,l.yOffset=d+(b*v+w*m)-w):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=k,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!n,t.style[ca]="0px 0px",i&&(ka(i,l,"xOrigin",f,x),ka(i,l,"yOrigin",h,k),ka(i,l,"xOffset",p,l.xOffset),ka(i,l,"yOffset",d,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+k)},Na=function(t,e){var n=t._gsap||new Uo(t);if("x"in n&&!e&&!n.uncache)return n;var r,o,i,a,s,c,l,u,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O,C,E,T,j,P,L,A,D,M,R=t.style,$=n.scaleX<0,I="px",N="deg",B=getComputedStyle(t),z=da(t,ca)||"0";return r=o=i=c=l=u=f=h=p=0,a=s=1,n.svg=!(!t.getCTM||!_a(t)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(R[sa]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[sa]?B[sa]:"")),R.scale=R.rotate=R.translate="none"),v=$a(t,n.svg),n.svg&&(n.uncache?(E=t.getBBox(),z=n.xOrigin-E.x+"px "+(n.yOrigin-E.y)+"px",C=""):C=!e&&t.getAttribute("data-svg-origin"),Ia(t,C||z,!!C||n.originIsAbsolute,!1!==n.smooth,v)),d=n.xOrigin||0,g=n.yOrigin||0,v!==Aa&&(w=v[0],_=v[1],x=v[2],k=v[3],r=S=v[4],o=O=v[5],6===v.length?(a=Math.sqrt(w*w+_*_),s=Math.sqrt(k*k+x*x),c=w||_?Hi(_,w)*Fi:0,(f=x||k?Hi(x,k)*Fi+c:0)&&(s*=Math.abs(Math.cos(f*Gi))),n.svg&&(r-=d-(d*w+g*x),o-=g-(d*_+g*k))):(M=v[6],A=v[7],j=v[8],P=v[9],L=v[10],D=v[11],r=v[12],o=v[13],i=v[14],l=(y=Hi(M,L))*Fi,y&&(C=S*(m=Math.cos(-y))+j*(b=Math.sin(-y)),E=O*m+P*b,T=M*m+L*b,j=S*-b+j*m,P=O*-b+P*m,L=M*-b+L*m,D=A*-b+D*m,S=C,O=E,M=T),u=(y=Hi(-x,L))*Fi,y&&(m=Math.cos(-y),D=k*(b=Math.sin(-y))+D*m,w=C=w*m-j*b,_=E=_*m-P*b,x=T=x*m-L*b),c=(y=Hi(_,w))*Fi,y&&(C=w*(m=Math.cos(y))+_*(b=Math.sin(y)),E=S*m+O*b,_=_*m-w*b,O=O*m-S*b,w=C,S=E),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),a=xr(Math.sqrt(w*w+_*_+x*x)),s=xr(Math.sqrt(O*O+M*M)),y=Hi(S,O),f=Math.abs(y)>2e-4?y*Fi:0,p=D?1/(D<0?-D:D):0),n.svg&&(C=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Ma(da(t,sa)),C&&t.setAttribute("transform",C))),Math.abs(f)>90&&Math.abs(f)<270&&($?(a*=-1,f+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,f+=f<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+I,n.y=o-((n.yPercent=o&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-o)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+I,n.z=i+I,n.scaleX=xr(a),n.scaleY=xr(s),n.rotation=xr(c)+N,n.rotationX=xr(l)+N,n.rotationY=xr(u)+N,n.skewX=f+N,n.skewY=h+N,n.transformPerspective=p+I,(n.zOrigin=parseFloat(z.split(" ")[2])||!e&&n.zOrigin||0)&&(R[ca]=Ba(z)),n.xOffset=n.yOffset=0,n.force3D=En.force3D,n.renderTransform=n.svg?Ua:zi?Va:qa,n.uncache=0,n},Ba=function(t){return(t=t.split(" "))[0]+" "+t[1]},za=function(t,e,n){var r=io(e);return xr(parseFloat(e)+parseFloat(Ca(t,"x",n+"px",r)))+r},qa=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Va(t,e)},Fa="0deg",Ga="0px",Ha=") ",Va=function(t,e){var n=e||this,r=n.xPercent,o=n.yPercent,i=n.x,a=n.y,s=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,f=n.skewX,h=n.skewY,p=n.scaleX,d=n.scaleY,g=n.transformPerspective,v=n.force3D,y=n.target,m=n.zOrigin,b="",w="auto"===v&&t&&1!==t||!0===v;if(m&&(u!==Fa||l!==Fa)){var _,x=parseFloat(l)*Gi,k=Math.sin(x),S=Math.cos(x);x=parseFloat(u)*Gi,_=Math.cos(x),i=za(y,i,k*_*-m),a=za(y,a,-Math.sin(x)*-m),s=za(y,s,S*_*-m+m)}g!==Ga&&(b+="perspective("+g+Ha),(r||o)&&(b+="translate("+r+"%, "+o+"%) "),(w||i!==Ga||a!==Ga||s!==Ga)&&(b+=s!==Ga||w?"translate3d("+i+", "+a+", "+s+") ":"translate("+i+", "+a+Ha),c!==Fa&&(b+="rotate("+c+Ha),l!==Fa&&(b+="rotateY("+l+Ha),u!==Fa&&(b+="rotateX("+u+Ha),f===Fa&&h===Fa||(b+="skew("+f+", "+h+Ha),1===p&&1===d||(b+="scale("+p+", "+d+Ha),y.style[sa]=b||"translate(0, 0)"},Ua=function(t,e){var n,r,o,i,a,s=e||this,c=s.xPercent,l=s.yPercent,u=s.x,f=s.y,h=s.rotation,p=s.skewX,d=s.skewY,g=s.scaleX,v=s.scaleY,y=s.target,m=s.xOrigin,b=s.yOrigin,w=s.xOffset,_=s.yOffset,x=s.forceCSS,k=parseFloat(u),S=parseFloat(f);h=parseFloat(h),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),h+=d),h||p?(h*=Gi,p*=Gi,n=Math.cos(h)*g,r=Math.sin(h)*g,o=Math.sin(h-p)*-v,i=Math.cos(h-p)*v,p&&(d*=Gi,a=Math.tan(p-d),o*=a=Math.sqrt(1+a*a),i*=a,d&&(a=Math.tan(d),n*=a=Math.sqrt(1+a*a),r*=a)),n=xr(n),r=xr(r),o=xr(o),i=xr(i)):(n=g,i=v,r=o=0),(k&&!~(u+"").indexOf("px")||S&&!~(f+"").indexOf("px"))&&(k=Ca(y,"x",u,"px"),S=Ca(y,"y",f,"px")),(m||b||w||_)&&(k=xr(k+m-(m*n+b*o)+w),S=xr(S+b-(m*r+b*i)+_)),(c||l)&&(a=y.getBBox(),k=xr(k+c/100*a.width),S=xr(S+l/100*a.height)),a="matrix("+n+","+r+","+o+","+i+","+k+","+S+")",y.setAttribute("transform",a),x&&(y.style[sa]=a)},Za=function(t,e,n,r,o){var i,a,s=360,c=In(o),l=parseFloat(o)*(c&&~o.indexOf("rad")?Fi:1)-r,u=r+l+"deg";return c&&("short"===(i=o.split("_")[1])&&(l%=s)!=l%180&&(l+=l<0?s:-360),"cw"===i&&l<0?l=(l+36e9)%s-~~(l/s)*s:"ccw"===i&&l>0&&(l=(l-36e9)%s-~~(l/s)*s)),t._pt=a=new bi(t._pt,e,n,r,l,Ji),a.e=u,a.u="deg",t._props.push(n),a},Wa=function(t,e){for(var n in e)t[n]=e[n];return t},Ya=function(t,e,n){var r,o,i,a,s,c,l,u=Wa({},n._gsap),f=n.style;for(o in u.svg?(i=n.getAttribute("transform"),n.setAttribute("transform",""),f[sa]=e,r=Na(n,1),xa(n,sa),n.setAttribute("transform",i)):(i=getComputedStyle(n)[sa],f[sa]=e,r=Na(n,1),f[sa]=i),qi)(i=u[o])!==(a=r[o])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(o)<0&&(s=io(i)!==(l=io(a))?Ca(n,o,i,l):parseFloat(i),c=parseFloat(a),t._pt=new bi(t._pt,r,o,s,c-s,Yi),t._pt.u=l||0,t._props.push(o));Wa(r,u)};_r("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",o="Bottom",i="Left",a=(e<3?[n,r,o,i]:[n+i,n+r,o+r,o+i]).map((function(n){return e<2?t+n:"border"+n+t}));La[e>1?"border"+t:t]=function(t,e,n,r,o){var i,s;if(arguments.length<4)return i=a.map((function(e){return Ea(t,e,n)})),5===(s=i.join(" ")).split(i[0]).length?i[0]:s;i=(r+"").split(" "),s={},a.forEach((function(t,e){return s[t]=i[e]=i[e]||i[(e-1)/2|0]})),t.init(e,s,o)}}));var Ja,Qa,Xa={name:"css",register:ya,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,o){var i,a,s,c,l,u,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O=this._props,C=t.style,E=n.vars.startAt;for(f in $i||ya(),this.styles=this.styles||ha(t),w=this.styles.props,this.tween=n,e)if("autoRound"!==f&&(a=e[f],!pr[f]||!Ko(f,e,n,r,t,o)))if(l=typeof a,u=La[f],"function"===l&&(l=typeof(a=a.call(n,r,t,o))),"string"===l&&~a.indexOf("random(")&&(a=yo(a)),u)u(this,t,f,a,n)&&(b=1);else if("--"===f.substr(0,2))i=(getComputedStyle(t).getPropertyValue(f)+"").trim(),a+="",Po.lastIndex=0,Po.test(i)||(h=io(i),p=io(a)),p?h!==p&&(i=Ca(t,f,i,p)+p):h&&(a+=h),this.add(C,"setProperty",i,a,r,o,0,0,f),O.push(f),w.push(f,0,C[f]);else if("undefined"!==l){if(E&&f in E?(i="function"==typeof E[f]?E[f].call(n,r,t,o):E[f],In(i)&&~i.indexOf("random(")&&(i=yo(i)),io(i+"")||"auto"===i||(i+=En.units[f]||io(Ea(t,f))||""),"="===(i+"").charAt(1)&&(i=Ea(t,f))):i=Ea(t,f),c=parseFloat(i),(d="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),f in Wi&&("autoAlpha"===f&&(1===c&&"hidden"===Ea(t,"visibility")&&s&&(c=0),w.push("visibility",0,C.visibility),ka(this,C,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==f&&"transform"!==f&&~(f=Wi[f]).indexOf(",")&&(f=f.split(",")[0])),g=f in qi)if(this.styles.save(f),v||((y=t._gsap).renderTransform&&!e.parseTransform||Na(t,e.parseTransform),m=!1!==e.smoothOrigin&&y.smooth,(v=this._pt=new bi(this._pt,C,sa,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new bi(this._pt,y,"scaleY",y.scaleY,(d?Sr(y.scaleY,d+s):s)-y.scaleY||0,Yi),this._pt.u=0,O.push("scaleY",f),f+="X";else{if("transformOrigin"===f){w.push(ca,0,C[ca]),x=void 0,k=void 0,S=void 0,k=(x=(_=a).split(" "))[0],S=x[1]||"50%","top"!==k&&"bottom"!==k&&"left"!==S&&"right"!==S||(_=k,k=S,S=_),x[0]=ja[k]||k,x[1]=ja[S]||S,a=x.join(" "),y.svg?Ia(t,a,0,m,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&ka(this,y,"zOrigin",y.zOrigin,p),ka(this,C,f,Ba(i),Ba(a)));continue}if("svgOrigin"===f){Ia(t,a,1,m,0,this);continue}if(f in Da){Za(this,y,f,c,d?Sr(c,d+a):a);continue}if("smoothOrigin"===f){ka(this,y,"smooth",y.smooth,a);continue}if("force3D"===f){y[f]=a;continue}if("transform"===f){Ya(this,a,t);continue}}else f in C||(f=va(f)||f);if(g||(s||0===s)&&(c||0===c)&&!Zi.test(a)&&f in C)s||(s=0),(h=(i+"").substr((c+"").length))!==(p=io(a)||(f in En.units?En.units[f]:h))&&(c=Ca(t,f,i,p)),this._pt=new bi(this._pt,g?y:C,f,c,(d?Sr(c,d+s):s)-c,g||"px"!==p&&"zIndex"!==f||!1===e.autoRound?Yi:Xi),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=i,this._pt.r=Qi);else if(f in C)Ta.call(this,t,f,i,d?d+a:a);else if(f in t)this.add(t,f,i||t[f],d?d+a:a,r,o);else if("parseTransform"!==f){rr(f,a);continue}g||(f in C?w.push(f,0,C[f]):w.push(f,1,i||t[f])),O.push(f)}b&&mi(this)},render:function(t,e){if(e.tween._time||!Bi())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:Ea,aliases:Wi,getSetter:function(t,e,n){var r=Wi[e];return r&&r.indexOf(",")<0&&(e=r),e in qi&&e!==ca&&(t._gsap.x||Ea(t,"x"))?n&&Ni===n?"scale"===e?oa:ra:(Ni=n||{})&&("scale"===e?ia:aa):t.style&&!zn(t.style[e])?ea:~e.indexOf("-")?na:ui(t,e)},core:{_removeProperty:xa,_getMatrix:$a}};Ai.utils.checkPrefix=va,Ai.core.getStyleSaver=ha,Qa=_r("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Ja="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){qi[t]=1})),_r(Ja,(function(t){En.units[t]="deg",Da[t]=1})),Wi[Qa[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ja,_r("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Wi[e[1]]=Qa[e[0]]})),_r("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){En.units[t]="px"})),Ai.registerPlugin(Xa);var Ka,ts,es,ns,rs,os,is,as,ss,cs,ls=Ai.registerPlugin(Xa)||Ai;function us(t){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(t)}function fs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ps(r.key),r)}}function ps(t){var e=function(t){if("object"!=us(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=us(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==us(e)?e:e+""}function ds(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ds=function(){return!!t})()}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vs(t,e)}ls.core.Tween,ls.registerPlugin(Xa);var ys,ms=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=gs(e),function(t,e){if(e&&("object"==us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ds()?Reflect.construct(e,n||[],gs(t).constructor):e.apply(t,n))}(this,e,["agora-landing","".concat(c.BASE_COMPONENTS,"/Landing/Landing.css")])).signals=new i(t),t.configContext=new o("config",t,!0),t.servicesContext=new o("service",t,!0),t.resultContext=new o("result",t,!0),t.companyContext=new o("company",t,!0),t.metagoraContext=new o("metagora",t,!1),t.servicesContext.setData({services:[]}),t.lastShown=new a(-1,t),t.updateTime=new a(1e4,t),t.serviceTree=new a(null,t),t.isAnimating=new a(!1,t),t.greetingsDuration=new a(7500,t),t.isGreeting=new a(!1,t),t.isGreeted=new a(!1,t),t.greetingTimeout=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=this;if(this.isGreeted.getState()||this.isGreeting.getState()||(this.isGreeting.setState(!0,!1),this.greetingTimeout=setTimeout((function(){var e=t.$("agora-greetings");ls.to(e,{opacity:0,duration:1,onComplete:function(){t.isGreeting.setState(!1,!1),t.isGreeted.setState(!0,!0)}})}),this.greetingsDuration.getState())),this.isGreeting.getState()&&!this.isGreeted.getState()||0===this.servicesContext.getData("services").length)return l(Ka||(Ka=fs(["\n            <agora-greetings></agora-greetings>\n        "])));var e=this.servicesContext.getData("services");if(!e||!this.resultContext.getData("data")||this.resultContext.getData("data").length>0)return this.parentElement.style.display="none","";var n=this.companyContext.getData("info")&&"Metagora"===this.companyContext.getData("info").name,r=this.displayOrderedService(e),o=this.getServiceParentAgora(r);if(!r)return"";var i=Array.from(new Set(r.fields.suggested_search_terms.split(","))).map((function(t){return t.trim()})),a=!r.fields.website||r.fields.website instanceof Array||!r.fields.website.fields.domain?l(es||(es=fs([""]))):l(ts||(ts=fs(['<agora-text-button \n                    class="learn-more-button" \n                    href="','"\n                >Learn more</agora-text-button>'])),r.fields.website.fields.domain),s=function(t){switch(null===(t=r.fields.components)||void 0===t||null===(t=t.fields)||void 0===t?void 0:t.name){case"Showcase":return pt;case"Catalogues":return Pt;case"Events":return Lt;default:return ft}}();return l(ns||(ns=fs(['\n            <div class="showcase-card-wrapper first-fade-in ','">\n                \x3c!-- Node Connection Rendering Canvas --\x3e\n                <canvas class="node-connection-canvas"></canvas>\n\n                \x3c!-- Banner Image --\x3e\n                <div class="banner-image default-image">\n                    <h1>','</h1>\n                    <span class="icon">\n                        ','\n                    </span>\n                </div>\n\n                \x3c!-- Item Image --\x3e\n                <div class="item-image-wrapper">\n                    ','\n                </div>\n\n                \x3c!-- Item Info --\x3e\n                <div class="item-info">\n                    <p>','</p>\n                </div>\n\n                \x3c!-- Item Structure --\x3e\n                <span class="node-view-label">Service Content</span>\n                <div class="node-wrapper">','</div>\n\n                \x3c!-- Suggested Search Terms Tags --\x3e\n                <span class="search-tags-label">Suggested Search Terms</span>\n                <div class="search-terms-wrapper">\n                    ','\n                </div>\n\n                \x3c!-- Learn More Button --\x3e\n                <div class="item-link">\n                    <span>',"</span>\n                </div>\n            </div>\n        "])),n?"showcase-metagora-display":"",r.fields.name,n?l(rs||(rs=fs(['<img src="',"",'" alt="','" />'])),this.configContext.getData("host"),o.agora.fields.image,o.agora.fields.name):s,r.fields.image?l(os||(os=fs(['<img class="item-image" src="',"",'" alt="','" />'])),this.configContext.getData("host"),r.fields.image,r.fields.name):"",r.fields.description,this.renderNodeView(r),i.map((function(t){return l(is||(is=fs(['<span class="search-term-tag">',"</span>"])),t)})).join(""),a)}},{key:"listeners",value:function(){var t=this;this.$(".learn-more-button")&&this.$(".learn-more-button").onClick.setState((function(){window.open(t.$(".learn-more-button").getAttribute("href"),"_blank")})),window.addEventListener("resize",(function(){t.drawConnections()}));var e=this.$$(".search-term-tag"),n=document.querySelector("agora-app").$("agora-layout-v2").$("agora-searchbar");e.forEach((function(t){t.onclick=function(){n.autocompleteFromSuggestedTag(t.innerText)}}))}},{key:"animateShowcaseCard",value:function(){var t=this;this.isAnimating.setState(!0,!1),setTimeout((function(){var e=t.$(".showcase-card-wrapper");e&&ls.to(e,{opacity:0,x:500,duration:.5,onComplete:function(){t.isAnimating.setState(!1,!1),t.render()}})}),this.updateTime.getState())}},{key:"getServiceParentAgora",value:function(t){var e;return(null!==(e=this.metagoraContext.getData("data"))&&void 0!==e?e:{agoras:[]}).agoras.map((function(t){return{agora:t,services:t.fields.sub_acceleration_services instanceof Array?Array.from(t.fields.sub_acceleration_services).map((function(t){return{id:t.id,name:t.fields.name}})):[{id:t.fields.sub_acceleration_services.id,name:t.fields.sub_acceleration_services.fields.name}]}})).find((function(e){return e.services.find((function(e){return e.id===t.id&&e.name===t.fields.name}))}))}},{key:"displayOrderedService",value:function(t){var e=this.lastShown.getState()+1;return e===t.length&&(e=0),this.isAnimating.getState()?t[this.lastShown.getState()]:(this.animateShowcaseCard(),t[e]?(this.lastShown.setState(e,!1),t[e]):void 0)}},{key:"renderNodeView",value:function(t){var e=this;setTimeout((function(){e.drawConnections()}),100);var n=function(t,e){var r={type:e,data:t.fields,children:[]},o=t.fields.sub_acceleration_services?Array.from(t.fields.sub_acceleration_services):[],i=t.fields.catalogues.websites?Array.from(t.fields.catalogues.websites):[];return o.length>0&&o.forEach((function(t){var e=n(t,"sub-service");e&&r.children.push(e)})),i.length>0&&i.forEach((function(t){var e={type:"catalogue",data:t};e&&r.children.push(e)})),r||null},r=n(t,"root-service");this.serviceTree.setState(r,!1);var o=[],i=function(t,e){o[e]||o.push([]),o[e].push(t),t.children&&Array.from(t.children).length>0&&Array.from(t.children).forEach((function(t){i(t,e+1)}))};return i(r,0),o.length<=1?"":l(as||(as=fs(["\n            ","\n        "])),o.map((function(t,e){return 0===e?"":l(ss||(ss=fs(['\n                        <div class="layer" data-layer="','">\n                            ',"\n                        </div>\n                    "])),e,t.map((function(t){return l(cs||(cs=fs(['\n                                        <div class="node ','" id="','">\n                                            <span class="node-name">','</span>\n                                            <span class="node-description">','</span>\n                                            <div class="node-actions">\n                                                <div class="node-actions-info">\n                                                    ','\n                                                </div>\n                                                <div class="node-actions-icons">\n                                                    \x3c!-- <span class="node-action-icon">',"</span> --\x3e\n                                                </div>\n                                            </div> \n                                        </div>\n                                    "])),t.type,t.data.name.toLowerCase().replaceAll(/ /g,"-"),t.data.name,t.data.description,"sub-service"===t.type?"Service":"Catalogue",Et)})).join(""))})).join(""))}},{key:"drawConnections",value:function(){var t=this,e=this.$(".node-connection-canvas");if(e){e.width=this.wrapper.clientWidth,e.height=this.wrapper.clientHeight;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);var r=this.serviceTree.getState();if(r){var o=function(e){e.children&&e.children.length>0&&e.children.forEach((function(r){var i=e.data.name.toLowerCase().replaceAll(/ /g,"-"),a=r.data.name.toLowerCase().replaceAll(/ /g,"-"),s=t.$('[id="'.concat(i,'"]')),c=t.$('[id="'.concat(a,'"]'));s&&c&&t.drawNodeConnectionBetween(s,c,n),o(r)}))};r.children&&r.children.length>0&&r.children.forEach((function(t){o(t)}))}}}},{key:"drawNodeConnectionBetween",value:function(t,e,n){var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.wrapper.getBoundingClientRect(),a=r.left+r.width-1-i.left,s=r.top+r.height/2-i.top,c=o.left-1-i.left,l=o.top+o.height/2-i.top,u=a+60,f=s,h=c-60,p=l;n.beginPath(),n.moveTo(a,s),n.bezierCurveTo(u,f,h,p,c,l),n.strokeStyle="grey",n.lineWidth=3,n.stroke()}},{key:"reset",value:function(){clearTimeout(this.greetingTimeout),this.greetingTimeout=null,this.isGreeting.setState(!1,!1),this.isGreeted.setState(!1,!0)}},{key:"hide",value:function(){this.style.display="none"}},{key:"show",value:function(){this.style.display="block"}}],r&&hs(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function bs(t){return bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(t)}function ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_s(r.key),r)}}function _s(t){var e=function(t){if("object"!=bs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bs(e)?e:e+""}function xs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xs=function(){return!!t})()}function ks(t){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ks(t)}function Ss(t,e){return Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ss(t,e)}window.customElements.define("agora-landing",ms);var Os,Cs=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ks(e),function(t,e){if(e&&("object"==bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xs()?Reflect.construct(e,n||[],ks(t).constructor):e.apply(t,n))}(this,e,["agora-map-visualizer","".concat(c.BASE_COMPONENTS,"/MapVisualizer/MapVisualizer.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ss(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(ys||(t=['\n            <img class="map" src="','/assets/svg/europe-map.svg" alt="Europe map">\n        '],e||(e=t.slice(0)),ys=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),c.PUBLIC);var t,e}}],r&&ws(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Es(t){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(t)}function Ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,js(r.key),r)}}function js(t){var e=function(t){if("object"!=Es(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Es(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Es(e)?e:e+""}function Ps(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ps=function(){return!!t})()}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(t)}function As(t,e){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},As(t,e)}window.customElements.define("agora-map-visualizer",Cs);var Ds,Ms,Rs=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ls(e),function(t,e){if(e&&("object"==Es(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ps()?Reflect.construct(e,n||[],Ls(t).constructor):e.apply(t,n))}(this,e,["agora-text-button","".concat(c.BASE_COMPONENTS,"/TextButton/TextButton.css")])).onClick=new a(null,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(Os||(t=['\n            <button class="button">\n                <div>\n                    <span class="text">','</span>\n                    <span class="text">',"</span>\n                </div>\n            </button>\n        "],e||(e=t.slice(0)),Os=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),this.textContent,this.textContent);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".button").onclick=function(){return t.onClick.getState()()}}}],r&&Ts(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Is(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bs(r.key),r)}}function Bs(t){var e=function(t){if("object"!=$s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$s(e)?e:e+""}function zs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zs=function(){return!!t})()}function qs(t){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qs(t)}function Fs(t,e){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fs(t,e)}window.customElements.define("agora-text-button",Rs);var Gs,Hs=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=qs(e),function(t,e){if(e&&("object"==$s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zs()?Reflect.construct(e,n||[],qs(t).constructor):e.apply(t,n))}(this,e,["agora-action-bar","".concat(c.BASE_COMPONENTS,"/ActionBar/ActionBar.css")])).signals=new i(t),t.signals.register("results-updated"),t.resultContext=new o("result",t,!1),t.configContext=new o("config",t,!0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fs(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){var t="true"===this.configContext.getData("enabled_ai")?l(Ds||(Ds=Is(['\n            <button class="action-button ai-assistant-button" aria-label="Switch to AI assistant">\n                ',"\n            </button>\n        "])),$t):"";return l(Ms||(Ms=Is(['\n            <div class="action-bar-container">\n                <button class="action-button map-button" disabled title="Resource map will be available soon" aria-label="Open resource map">\n                    ','\n                </button>\n                <button class="action-button refresh-button" aria-label="Refresh results">\n                    ','\n                </button>\n\n                <div class="action-toogle ai-searcher-toogle">\n                    ','\n                    <button class="action-button search-button selected" aria-label="Switch to search">\n                        ',"\n                    </button>\n                </div>\n            </div>\n        "])),Mt,Rt,t,Ot)}},{key:"listeners",value:function(){var t=this,e=this.$(".map-button"),n=this.$(".refresh-button"),r=this.$(".ai-assistant-button"),o=this.$(".search-button");e&&e.addEventListener("click",(function(){return t.openMapWindow()})),n&&n.addEventListener("click",(function(){return t.clear()})),r&&r.addEventListener("click",(function(){return t.toggle(t.$(".ai-searcher-toogle"))})),o&&o.addEventListener("click",(function(){return t.toggle(t.$(".ai-searcher-toogle"))}))}},{key:"refresh",value:function(){this.resultContext.setData({data:[],grouped:[],filters:[]},!0)}},{key:"toggle",value:function(t){var e=t.querySelector(".action-button.selected"),n=t.querySelector(".action-button:not(.selected)");e.classList.remove("selected"),n.classList.add("selected"),this.parentComponent.toogleSearchbar()}},{key:"openMapWindow",value:function(){var t=this.parentComponent.$("agora-result-map");t&&t.toogleMapWindow()}},{key:"clear",value:function(){this.resultContext.setData({data:[],grouped:[],filters:[]},!0),this.signals.emit("results-updated")}}])&&Ns(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Vs(t){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(t)}function Us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Us(Object(n),!0).forEach((function(e){Ws(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ws(t,e,n){return(e=rc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ys(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||Xs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(){Js=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Vs(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Vs(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Qs(t){return function(t){if(Array.isArray(t))return Ks(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(t,e){if(t){if("string"==typeof t)return Ks(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(t,e):void 0}}function Ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tc(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ec(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){tc(i,r,o,a,s,"next",t)}function s(t){tc(i,r,o,a,s,"throw",t)}a(void 0)}))}}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rc(r.key),r)}}function rc(t){var e=function(t){if("object"!=Vs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vs(e)?e:e+""}function oc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oc=function(){return!!t})()}function ic(t){return ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ic(t)}function ac(t,e){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ac(t,e)}window.customElements.define("agora-action-bar",Hs);var sc,cc,lc,uc,fc=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=ic(e),function(t,e){if(e&&("object"==Vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oc()?Reflect.construct(e,n||[],ic(t).constructor):e.apply(t,n))}(this,e,["agora-chat","".concat(c.COMPLEX_COMPONENTS,"/Chat/Chat.css")])).signals=new i(t),t.signals.register("results-updated"),t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.chatContext=new o("chat",t,!1),t.serviceContext=new o("service",t,!1),t.shouldResetResults=new a(!1,t),t.mockBotResponse=new a(-1,t),t.messageBuffer=new a("",t),t.PROVIDERS={OPENAI:"openai",ANTHROPIC:"anthropic",GEMINI:"gemini",GROQ:"groq",OLLAMA:"ollama"},t.RESPONSE={MESSAGE:"message",RESULTS:"results",PROCESS_STARTED:"process_started",PROCESS_FINISHED:"process_finished",ERROR:"error"},t.chatHistoryIsEmpty()&&t.fold(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ac(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(Gs||(t=["\n            <agora-chat-process-update></agora-chat-process-update>\n            <agora-chat-window></agora-chat-window>\n            <agora-chat-input></agora-chat-input>\n        "],e||(e=t.slice(0)),Gs=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"listeners",value:function(){this.boundHandleClick=this.handleClick.bind(this),document.addEventListener("click",this.boundHandleClick)}},{key:"handleClick",value:function(t){t.composedPath().includes(this)||this.wrapper.classList.contains("folded")||this.fold()}},{key:"unfold",value:function(){this.wrapper.classList.remove("folded")}},{key:"fold",value:function(){this.wrapper.classList.add("folded")}},{key:"toogleFold",value:function(){this.wrapper.classList.toggle("folded")}},{key:"sendMessage",value:(u=ec(Js().mark((function t(e){var n,r,o,i,a,s,c,l,u,f,h,p,d,g,v,y,m;return Js().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.$("agora-chat-window").addMessage(e,"user"),t.prev=2,this.storeMessageInContext(e,"user"),this.formatAvailableModels(),n=this.formatMessageHistory(),this.formatResultHistory(),1===n.length&&n[0].content===e&&(n=[]),r=this.resultContext.getData("filters"),o=this.resultContext.getData("grouped"),i=o.length>0&&r.length>0?o.filter((function(t){return r.some((function(e){return e.service===t.service}))})):o,!((a=i.map((function(t){return["\n> Service: ".concat(t.service,"\n")].concat(Qs(t.items.map((function(t){return" >> Resource: ".concat(JSON.stringify(t),"\n")})))).join("\n")}))).length>0)||["These resources are being displayed in the user screen (take them into account when answering and proposing follow-up questions):",a.join("\n"),"Take into account the user's previous messages and the context provided by these resources when formulating your response."].join("\n"),t.next=15,Kt(this.configContext.getData("ai_host"),e,n,["You are a helpful assistant working for the university alliance ".concat(this.configContext.getData("name"),"."),"This site is the alliance Agora.","An Agora is a service that serves as a central hub that provides access to services and resources offered by the alliance members.","If the user asks for more information about the alliance, verify your response on the internet and provide accurate information.","If the user ask for resources or related information use your retrieve capabilities to find the most relevant information.\n","Use the provided context to answer the user's question as accurately as possible.","If you don't know the answer, just say you don't know.","Do not make up an answer.","Always keep your answers concise and to the point.\n","".concat(a)].join("\n"));case 15:s=t.sent,c=s.body.getReader(),l=new TextDecoder,u="",f=!0;case 20:return t.next=23,c.read();case 23:if(h=t.sent,p=h.done,d=h.value,!p){t.next=28;break}return t.abrupt("break",34);case 28:g=l.decode(d,{stream:!p}),u+=g,v=null,g.includes("[$artifact]:")?(y=JSON.parse(g.replace("[$artifact]:","").replace(/'/g,'"')),v={type:this.RESPONSE.RESULTS,results:y},this.handleResponse(v)):g.includes("[$done]:")?((m=g.split("[$done]:")[0])&&(v={type:this.RESPONSE.MESSAGE,is_first_chunk:f,is_last_chunk:!1,message:m},this.handleResponse(v),f&&(f=!1)),v={type:this.RESPONSE.MESSAGE,is_first_chunk:!1,is_last_chunk:!0,message:""},this.handleResponse(v)):(v={type:this.RESPONSE.MESSAGE,is_first_chunk:f,is_last_chunk:!1,message:g},this.handleResponse(v),f&&(f=!1)),t.next=20;break;case 34:!u.includes("[$done]:")&&this.messageBuffer.getState()&&(this.storeMessageInContext(this.messageBuffer.getState(),"bot"),this.messageBuffer.setState("",!1)),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(2),this.handleError(t.t0);case 40:return t.prev=40,this.shouldResetResults.setState(!0,!1),t.finish(40);case 43:case"end":return t.stop()}}),t,this,[[2,37,40,43]])}))),function(t){return u.apply(this,arguments)})},{key:"setLoading",value:function(t){this.$("agora-chat-window").loading.setState(t),this.$("agora-chat-input").$("input").classList.toggle("blocked",t),this.$("agora-chat-input").$("input").disabled=t,this.$("agora-chat-input").$("input").setAttribute("placeholder",t?"Waiting for response...":"Type your message...")}},{key:"storeMessageInContext",value:function(t,e){if(t&&""!==t.trim()){var n=this.chatContext.getData("history");n?(n.push({content:t,author:e,time:(new Date).toLocaleTimeString()}),this.chatContext.setData({history:n})):this.chatContext.setData({history:[{content:t,author:e,time:(new Date).toLocaleTimeString()}]})}}},{key:"chatHistoryIsEmpty",value:function(){return!this.chatContext.getData("history")||0===this.chatContext.getData("history").length}},{key:"formatAvailableModels",value:function(){return Object.entries(this.serviceContext.getData("modelsByService")).map((function(t){var e=Ys(t,2),n=e[0],r=e[1];return 0===r.models.length?[]:r.models.map((function(t){return{name:t,description:"This model belongs to the service ".concat(n,". Service description: ").concat(r.description)}}))})).flat()}},{key:"formatMessageHistory",value:function(){var t=this.chatContext.getData("history");return t?t.map((function(t){return{role:"user"===t.author?"user":"ai",content:t.content}})):[]}},{key:"formatResultHistory",value:function(){return[]}},{key:"handleResponse",value:function(t){switch(t.type){case this.RESPONSE.MESSAGE:this.handleMessage(t);break;case this.RESPONSE.RESULTS:this.handleResultsV2(t.results);break;case this.RESPONSE.PROCESS_STARTED:this.handleProcessUpdate(t.message);break;case this.RESPONSE.PROCESS_FINISHED:this.handleProcessUpdate();break;case this.RESPONSE.ERROR:this.handleError(t)}}},{key:"handleMessage",value:function(t){t.is_first_chunk&&(this.$("agora-chat-window").addMessage("","bot"),this.setLoading(!1));try{if(t.is_last_chunk)return console.log("Storing message from `handleMessage` final chunk.\n ".concat(this.messageBuffer.getState(),' "\n" + ').concat(JSON.stringify(t))),this.storeMessageInContext(this.messageBuffer.getState()+t.message,"bot"),void this.messageBuffer.setState("",!1);this.messageBuffer.setState(this.messageBuffer.getState()+t.message,!1),t.message&&this.$("agora-chat-window").updateStreamingMessage(t.message)}catch(t){console.error("Error handling message:",t)}}},{key:"handleResultsV2",value:(s=ec(Js().mark((function t(e){var n,r,o,i,a,s,c,l,u=this;return Js().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.length){t.next=2;break}return t.abrupt("return");case 2:return n={grouped:[],data:[]},this.shouldResetResults.getState()||(n.data=this.resultContext.getData("data")||[],n.grouped=this.resultContext.getData("grouped")||[]),this.shouldResetResults.getState()&&this.shouldResetResults.setState(!1,!1),r=rt(this.serviceContext.getData("services"),"websites"),o=r.flatMap((function(t){return t.websites})),i={},a=e.map(function(){var t=ec(Js().mark((function t(e){var n,r,a,s,c,l,f,h,p;return Js().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i[e.model]=(null===(n=o.find((function(t){return t.model===e.model})))||void 0===n?void 0:n.name)||null,c=e.model,l=null,u.serviceContext.getData("services").forEach((function(t){var e,n=null===(e=t.fields)||void 0===e||null===(e=e.catalogues)||void 0===e?void 0:e.websites;if(!n)return!1;var r={};n.forEach((function(t){if(t.model&&t.model===c){var e={model:t.model,model_verbose_name:t.model_verbose_name,model_website:t.website,model_view_url:t.url,model_view_id:t.view_id};r[t.model]=e}})),c in r&&(l={service:t.fields.name,models:r})})),l){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,Xt(u.configContext.getData("host"),e.model,Number(e.source_id));case 8:if(f=t.sent){t.next=11;break}return t.abrupt("return",null);case 11:return Object.entries(f.fields).forEach((function(t){var e=Ys(t,2),n=e[0],r=e[1];if(r.startsWith("[")||r.startsWith("{"))try{var o=[],i=r.replace(/\bTrue\b/g,"true").replace(/\bFalse\b/g,"false").replace(/\bNone\b/g,"null").replace(/"((?:[^"\\]|\\.)*)"/g,(function(t,e){return o.push(e),"<<<".concat(o.length-1,">>>")})).replace(/'((?:[^'\\]|\\.)*)'/g,(function(t,e){var n=e.replace(/\\'/g,"'").replace(/"/g,'\\"');return'"'.concat(n,'"')})).replace(/<<<(\d+)>>>/g,(function(t,e){return'"'.concat(o[e],'"')})),a=JSON.parse(i);f.fields[n]=a.name||r}catch(t){console.warn("Could not parse field ".concat(n," with value ").concat(r," as JSON:"),t)}})),(h=(null===(r=f.fields)||void 0===r?void 0:r.x_image)||null)&&(h=h.replace(u.configContext.getData("host"),"")),p=null!==(a=f.fields)&&void 0!==a&&a.detail_url?l.models[c].model_website+l.models[c].model_view_url:null,t.abrupt("return",{data:Zs(Zs({},f.fields),{},{id:f.id,image:h}),featured:(null===(s=f.fields)||void 0===s?void 0:s.featured)||!1,featured_fields:["web_link","url","website"],model:e.model,model_verbose_name:i[e.model]||null,model_view_url:p,roots:[],score:{absolute:null,relative:null},service:l.service});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=11,Promise.all(a);case 11:s=t.sent.filter((function(t){return null!==t})),n.data=n.data.concat(s),c=Qs(new Set(n.data.map((function(t){return t.service})))).sort(),l=c.map((function(t){var e=n.data.filter((function(e){return e.service===t}));return{service:t,items:e}})),this.resultContext.setData({grouped:l,data:n.data},!0),this.signals.emit("results-updated",l);case 17:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"handleResults",value:function(t){var e=this,n={grouped:[],data:[]};if(this.shouldResetResults.getState()||(n.data=this.resultContext.getData("data")||[],n.grouped=this.resultContext.getData("grouped")||[]),this.shouldResetResults.getState()&&this.shouldResetResults.setState(!1,!1),t.length>0){var r=[];t.forEach((function(t){var n=t.properties._source_model,o=null;if(e.serviceContext.getData("services").forEach((function(t){var e,r=null===(e=t.fields)||void 0===e||null===(e=e.catalogues)||void 0===e?void 0:e.websites;if(!r)return!1;var i={};r.forEach((function(t){if(t.model&&t.model===n){var e={model:t.model,model_verbose_name:t.model_verbose_name,model_website:t.website,model_view_url:t.url,model_view_id:t.view_id};i[t.model]=e}})),n in i&&(o={service:t.fields.name,models:i})})),o&&![!1,"false",0,"0",null,void 0].includes(t.rag.include)){var i={model:n,model_verbose_name:o.models[n].model,model_view_url:o.models[n].model_website+o.models[n].model_view_url,service:o.service,featured_fields:t.rag.relevant_fields,featured:!1,data:Zs(Zs({},t.properties),{},{id:t.properties._source_id,image:"/web/image?model=".concat(o.models[n].model,"&id=").concat(t.properties._source_id,"&field=x_image"),rag:t.rag}),roots:[],score:{absolute:Number(t.rag.score)/10,relative:Number(t.rag.score)/10}};r.push(i)}})),n.data=n.data.concat(r);var o=Qs(new Set(n.data.map((function(t){return t.service})))).sort().map((function(t){var e=n.data.filter((function(e){return e.service===t}));return{service:t,items:e}}));this.resultContext.setData({grouped:o,data:n.data},!0),this.signals.emit("results-updated",o)}}},{key:"handleProcessUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?this.$("agora-chat-process-update").update(t):this.$("agora-chat-process-update").clear()}},{key:"handleError",value:function(t){st("Error sending message to the AI server.\nPlease try again later.",it),console.error("Error sending message:",t),this.storeMessageInContext(message,"user"),this.setLoading(!1)}}],r&&nc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s,u}(r);function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function gc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vc(r.key),r)}}function vc(t){var e=function(t){if("object"!=hc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=hc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hc(e)?e:e+""}function yc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yc=function(){return!!t})()}function mc(t){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mc(t)}function bc(t,e){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bc(t,e)}window.customElements.define("agora-chat",fc);var wc=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=mc(e),function(t,e){if(e&&("object"==hc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yc()?Reflect.construct(e,n||[],mc(t).constructor):e.apply(t,n))}(this,e,["agora-chat-window","".concat(c.MID_COMPONENTS,"/ChatWindow/ChatWindow.css")])).chatContext=new o("chat",t,!1),t.loading=new a(!1,t),t.messages=new a([],t),t.defaultPrompts=["Show me infrastructures","How can you help me?","I'm looking for projects","I want the latest featured projects","Show me courses"],t.signals=new i(t),t.signals.register("results-updated"),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bc(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return l(sc||(sc=dc(['\n            <div \n                class="actions-wrapper"\n                style="','"\n            >\n                \x3c!-- Clear chat button --\x3e\n                <div class="clear-chat-button ','">\n                    ','\n                </div>\n            </div>\n\n            \x3c!-- Chat container --\x3e\n            <div class="chat-container">\n                ',"\n                ",'\n            </div>\n            \n            \x3c!-- Default prompts --\x3e\n            <div \n                class="default-prompt-wrapper"\n                style="','"\n            >\n                ',"\n            </div>\n        "])),this.messages.getState().length>0?"":"display: none;",1===this.messages.getState().length?"fade-in":"",gt,this.messages.getState().map((function(t){return l(cc||(cc=dc(['\n                    <agora-chat-bubble \n                        author="','" \n                        time="','"\n                    >\n                        ',"\n                    </agora-chat-bubble>\n                "])),t.author,t.time,t.content)})).join(""),this.loading.getState()?l(lc||(lc=dc(["<agora-chat-loader></agora-chat-loader>"]))):"",this.messages.getState().length>0?"display: none;":"",this.defaultPrompts.map((function(t){return l(uc||(uc=dc(['\n                    <span class="prompt">',"</span>\n                "])),t)})).join(""))}},{key:"afterRender",value:function(){this.$(".chat-container")&&this.$(".chat-container").scrollHeight>0&&(this.$(".chat-container").scrollTop=this.$(".chat-container").scrollHeight)}},{key:"listeners",value:function(){var t=this;this.$(".clear-chat-button").onclick=function(){return t.clear()},this.$$(".prompt").forEach((function(e){e.onclick=function(){return t.addPrompt(e.innerText)}}))}},{key:"addPrompt",value:function(t){this.parentComponent.sendMessage(t)}},{key:"addMessage",value:function(t,e){var n={content:t,time:(new Date).toLocaleTimeString(),author:e};this.messages.setState([].concat(function(t){return function(t){if(Array.isArray(t))return pc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.messages.getState()),[n])),this.scrollToBottom(!0)}},{key:"updateStreamingMessage",value:function(t){this.messages.getState()[this.messages.getState().length-1].content+=t,this.messages.setState(this.messages.getState())}},{key:"scrollToBottom",value:function(t){var e=this;setTimeout((function(){var n=e.$(".chat-container");n.scrollTo({top:n.scrollHeight,behavior:t?"smooth":"auto"})}),100)}},{key:"load",value:function(){var t=this.chatContext.getData("history");t&&(this.messages.setState(t,!1),this.scrollToBottom(!1))}},{key:"clear",value:function(){this.chatContext.setData({history:[]},!1),this.messages.setState([]),this.signals.emit("results-updated")}}])&&gc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);window.customElements.define("agora-chat-window",wc);let _c={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function xc(t){_c=t}const kc={exec:()=>null};function Sc(t,e=""){let n="string"==typeof t?t:t.source;const r={replace:(t,e)=>{let o="string"==typeof e?e:e.source;return o=o.replace(Oc.caret,"$1"),n=n.replace(t,o),r},getRegex:()=>new RegExp(n,e)};return r}const Oc={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Cc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ec=/(?:[*+-]|\d{1,9}[.)])/,Tc=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,jc=Sc(Tc).replace(/bull/g,Ec).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Pc=Sc(Tc).replace(/bull/g,Ec).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Lc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ac=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Dc=Sc(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ac).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Mc=Sc(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ec).getRegex(),Rc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$c=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ic=Sc("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",$c).replace("tag",Rc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Nc=Sc(Lc).replace("hr",Cc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rc).getRegex(),Bc={blockquote:Sc(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Nc).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Dc,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Cc,html:Ic,lheading:jc,list:Mc,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Nc,table:kc,text:/^[^\n]+/},zc=Sc("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Cc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rc).getRegex(),qc={...Bc,lheading:Pc,table:zc,paragraph:Sc(Lc).replace("hr",Cc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zc).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Rc).getRegex()},Fc={...Bc,html:Sc("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",$c).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sc(Lc).replace("hr",Cc).replace("heading"," *#{1,6} *[^\n]").replace("lheading",jc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Gc=/^( {2,}|\\)\n(?!\s*$)/,Hc=/[\p{P}\p{S}]/u,Vc=/[\s\p{P}\p{S}]/u,Uc=/[^\s\p{P}\p{S}]/u,Zc=Sc(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Vc).getRegex(),Wc=/(?!~)[\p{P}\p{S}]/u,Yc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Jc=Sc(Yc,"u").replace(/punct/g,Hc).getRegex(),Qc=Sc(Yc,"u").replace(/punct/g,Wc).getRegex(),Xc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Kc=Sc(Xc,"gu").replace(/notPunctSpace/g,Uc).replace(/punctSpace/g,Vc).replace(/punct/g,Hc).getRegex(),tl=Sc(Xc,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,Wc).getRegex(),el=Sc("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Uc).replace(/punctSpace/g,Vc).replace(/punct/g,Hc).getRegex(),nl=Sc(/\\(punct)/,"gu").replace(/punct/g,Hc).getRegex(),rl=Sc(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ol=Sc($c).replace("(?:--\x3e|$)","--\x3e").getRegex(),il=Sc("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ol).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),al=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,sl=Sc(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",al).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cl=Sc(/^!?\[(label)\]\[(ref)\]/).replace("label",al).replace("ref",Ac).getRegex(),ll=Sc(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ac).getRegex(),ul={_backpedal:kc,anyPunctuation:nl,autolink:rl,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:Gc,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:kc,emStrongLDelim:Jc,emStrongRDelimAst:Kc,emStrongRDelimUnd:el,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:sl,nolink:ll,punctuation:Zc,reflink:cl,reflinkSearch:Sc("reflink|nolink(?!\\()","g").replace("reflink",cl).replace("nolink",ll).getRegex(),tag:il,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:kc},fl={...ul,link:Sc(/^!?\[(label)\]\((.*?)\)/).replace("label",al).getRegex(),reflink:Sc(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",al).getRegex()},hl={...ul,emStrongRDelimAst:tl,emStrongLDelim:Qc,url:Sc(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pl={...hl,br:Sc(Gc).replace("{2,}","*").getRegex(),text:Sc(hl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},dl={normal:Bc,gfm:qc,pedantic:Fc},gl={normal:ul,gfm:hl,breaks:pl,pedantic:fl},vl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yl=t=>vl[t];function ml(t,e){if(e){if(Oc.escapeTest.test(t))return t.replace(Oc.escapeReplace,yl)}else if(Oc.escapeTestNoEncode.test(t))return t.replace(Oc.escapeReplaceNoEncode,yl);return t}function bl(t){try{t=encodeURI(t).replace(Oc.percentDecode,"%")}catch{return null}return t}function wl(t,e){const n=t.replace(Oc.findPipe,((t,e,n)=>{let r=!1,o=e;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(Oc.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Oc.slashPipe,"|");return n}function _l(t,e,n){const r=t.length;if(0===r)return"";let o=0;for(;o<r&&t.charAt(r-o-1)===e;)o++;return t.slice(0,r-o)}function xl(t,e,n,r,o){const i=e.href,a=e.title||null,s=t[1].replace(o.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:a,text:s}}class kl{options;rules;lexer;constructor(t){this.options=t||_c}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:_l(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(null===r)return e;const o=r[1];return e.split("\n").map((t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[r]=e;return r.length>=o.length?t.slice(o.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=_l(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:_l(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=_l(e[0],"\n").split("\n"),n="",r="";const o=[];for(;t.length>0;){let e=!1;const i=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))i.push(t[a]),e=!0;else{if(e)break;i.push(t[a])}t=t.slice(a);const s=i.join("\n"),c=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${c}`:c;const l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,o,!0),this.lexer.state.top=l,0===t.length)break;const u=o.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){const e=u,i=e.raw+"\n"+t.join("\n"),a=this.blockquote(i);o[o.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,r=r.substring(0,r.length-e.text.length)+a.text;break}if("list"!==u?.type);else{const e=u,i=e.raw+"\n"+t.join("\n"),a=this.list(i);o[o.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,r=r.substring(0,r.length-e.raw.length)+a.raw,t=i.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let n=!1,r="",s="";if(!(e=i.exec(t)))break;if(this.rules.block.hr.test(t))break;r=e[0],t=t.substring(r.length);let c=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),l=t.split("\n",1)[0],u=!c.trim(),f=0;if(this.options.pedantic?(f=2,s=c.trimStart()):u?f=e[1].length+1:(f=e[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,s=c.slice(f),f+=e[1].length),u&&this.rules.other.blankLine.test(l)&&(r+=l+"\n",t=t.substring(l.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(f),n=this.rules.other.hrRegex(f),o=this.rules.other.fencesBeginRegex(f),i=this.rules.other.headingBeginRegex(f),a=this.rules.other.htmlBeginRegex(f);for(;t;){const h=t.split("\n",1)[0];let p;if(l=h,this.options.pedantic?(l=l.replace(this.rules.other.listReplaceNesting,"  "),p=l):p=l.replace(this.rules.other.tabCharGlobal,"    "),o.test(l))break;if(i.test(l))break;if(a.test(l))break;if(e.test(l))break;if(n.test(l))break;if(p.search(this.rules.other.nonSpaceChar)>=f||!l.trim())s+="\n"+p.slice(f);else{if(u)break;if(c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(c))break;if(i.test(c))break;if(n.test(c))break;s+="\n"+l}u||l.trim()||(u=!0),r+=h+"\n",t=t.substring(h.length+1),c=p.slice(f)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(s),p&&(h="[ ] "!==p[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:r,task:!!p,checked:h,loose:!1,text:s,tokens:[]}),o.raw+=r}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let t=0;t<o.items.length;t++)if(this.lexer.state.top=!1,o.items[t].tokens=this.lexer.blockTokens(o.items[t].text,[]),!o.loose){const e=o.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));o.loose=n}if(o.loose)for(let t=0;t<o.items.length;t++)o.items[t].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const n=wl(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const t of r)this.rules.other.tableAlignRight.test(t)?i.align.push("right"):this.rules.other.tableAlignCenter.test(t)?i.align.push("center"):this.rules.other.tableAlignLeft.test(t)?i.align.push("left"):i.align.push(null);for(let t=0;t<n.length;t++)i.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:i.align[t]});for(const t of o)i.rows.push(wl(t,i.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:i.align[e]}))));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=_l(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),xl(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return xl(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(r&&(!r[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,a=n,s=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=c.exec(e));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const e=[...r[0]][0].length,c=t.slice(0,n+r.index+e+i);if(Math.min(n,i)%2){const t=c.slice(1,-1);return{type:"em",raw:c,text:t,tokens:this.lexer.inlineTokens(t)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=e[0],n="mailto:"+t;else{let r;do{r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(r!==e[0]);t=e[0],n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class Sl{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_c,this.options.tokenizer=this.options.tokenizer||new kl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:Oc,block:dl.normal,inline:gl.normal};this.options.pedantic?(e.block=dl.pedantic,e.inline=gl.pedantic):this.options.gfm&&(e.block=dl.gfm,this.options.breaks?e.inline=gl.breaks:e.inline=gl.gfm),this.tokenizer.rules=e}static get rules(){return{block:dl,inline:gl}}static lex(t,e){return new Sl(e).lex(t)}static lexInline(t,e){return new Sl(e).inlineTokens(t)}lex(t){t=t.replace(Oc.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(Oc.tabCharGlobal,"    ").replace(Oc.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);const n=e.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}let o=t;if(this.options.extensions?.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const i=e.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):e.push(r),n=o.length!==t.length,t=t.substring(r.raw.length)}else if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,r=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)t.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,i="";for(;t;){let r;if(o||(i=""),o=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,n,i)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),e.push(r);continue}let a=t;if(this.options.extensions?.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(r=this.tokenizer.inlineText(a)){t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),o=!0;const n=e.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class Ol{options;parser;constructor(t){this.options=t||_c}space(t){return""}code({text:t,lang:e,escaped:n}){const r=(e||"").match(Oc.notSpaceStart)?.[0],o=t.replace(Oc.endingNewline,"")+"\n";return r?'<pre><code class="language-'+ml(r)+'">'+(n?o:ml(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:ml(o,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let r="";for(let e=0;e<t.items.length;e++){const n=t.items[e];r+=this.listitem(n)}const o=e?"ol":"ul";return"<"+o+(e&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+ml(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let r="";for(let e=0;e<t.rows.length;e++){const o=t.rows[e];n="";for(let t=0;t<o.length;t++)n+=this.tablecell(o[t]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+r+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ml(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),o=bl(t);if(null===o)return r;let i='<a href="'+(t=o)+'"';return e&&(i+=' title="'+ml(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n}){const r=bl(t);if(null===r)return ml(n);let o=`<img src="${t=r}" alt="${n}"`;return e&&(o+=` title="${ml(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ml(t.text)}}class Cl{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class El{options;renderer;textRenderer;constructor(t){this.options=t||_c,this.options.renderer=this.options.renderer||new Ol,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Cl}static parse(t,e){return new El(e).parse(t)}static parseInline(t,e){return new El(e).parseInline(t)}parse(t,e=!0){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=o,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const i=o;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let o=i,a=this.renderer.text(o);for(;r+1<t.length&&"text"===t[r+1].type;)o=t[++r],a+="\n"+this.renderer.text(o);n+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}parseInline(t,e=this.renderer){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=t||"";continue}}const i=o;switch(i.type){case"escape":case"text":n+=e.text(i);break;case"html":n+=e.html(i);break;case"link":n+=e.link(i);break;case"image":n+=e.image(i);break;case"strong":n+=e.strong(i);break;case"em":n+=e.em(i);break;case"codespan":n+=e.codespan(i);break;case"br":n+=e.br(i);break;case"del":n+=e.del(i);break;default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}}class Tl{options;block;constructor(t){this.options=t||_c}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Sl.lex:Sl.lexInline}provideParser(){return this.block?El.parse:El.parseInline}}const jl=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=El;Renderer=Ol;TextRenderer=Cl;Lexer=Sl;Tokenizer=kl;Hooks=Tl;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const t=r;for(const r of t.header)n=n.concat(this.walkTokens(r.tokens,e));for(const r of t.rows)for(const t of r)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=r;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=r;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((r=>{const o=t[r].flat(1/0);n=n.concat(this.walkTokens(o,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new Ol(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=t.renderer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new kl(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=t.tokenizer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new Tl;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=t.hooks[r],i=e[r];Tl.passThroughHooks.has(n)?e[r]=t=>{if(this.defaults.async)return Promise.resolve(o.call(e,t)).then((t=>i.call(e,t)));const n=o.call(e,t);return i.call(e,n)}:e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,r=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(r.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Sl.lex(t,e??this.defaults)}parser(t,e){return El.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const a=o.hooks?o.hooks.provideLexer():t?Sl.lex:Sl.lexInline,s=o.hooks?o.hooks.provideParser():t?El.parse:El.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(e):e).then((t=>a(t,o))).then((t=>o.hooks?o.hooks.processAllTokens(t):t)).then((t=>o.walkTokens?Promise.all(this.walkTokens(t,o.walkTokens)).then((()=>t)):t)).then((t=>s(t,o))).then((t=>o.hooks?o.hooks.postprocess(t):t)).catch(i);try{o.hooks&&(e=o.hooks.preprocess(e));let t=a(e,o);o.hooks&&(t=o.hooks.processAllTokens(t)),o.walkTokens&&this.walkTokens(t,o.walkTokens);let n=s(t,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(t){return i(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+ml(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function Pl(t,e){return jl.parse(t,e)}function Ll(t){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(t)}var Al,Dl,Ml;function Rl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Il(r.key),r)}}function Il(t){var e=function(t){if("object"!=Ll(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ll(e)?e:e+""}function Nl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nl=function(){return!!t})()}function Bl(t){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bl(t)}function zl(t,e){return zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zl(t,e)}Pl.options=Pl.setOptions=function(t){return jl.setOptions(t),Pl.defaults=jl.defaults,xc(Pl.defaults),Pl},Pl.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Pl.defaults=_c,Pl.use=function(...t){return jl.use(...t),Pl.defaults=jl.defaults,xc(Pl.defaults),Pl},Pl.walkTokens=function(t,e){return jl.walkTokens(t,e)},Pl.parseInline=jl.parseInline,Pl.Parser=El,Pl.parser=El.parse,Pl.Renderer=Ol,Pl.TextRenderer=Cl,Pl.Lexer=Sl,Pl.lexer=Sl.lex,Pl.Tokenizer=kl,Pl.Hooks=Tl,Pl.parse=Pl,Pl.options,Pl.setOptions,Pl.use,Pl.walkTokens,Pl.parseInline,El.parse,Sl.lex;var ql,Fl=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Bl(e),function(t,e){if(e&&("object"==Ll(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nl()?Reflect.construct(e,n||[],Bl(t).constructor):e.apply(t,n))}(this,e,["agora-chat-bubble","".concat(c.BASE_COMPONENTS,"/ChatBubble/ChatBubble.css")])).author=new a(t.getAttribute("author"),t),t.time=new a(t.getAttribute("time"),t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zl(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return l(Al||(Al=Rl(["\n            ",'\n            <div class="bubble ','">\n                <span class="bubble-content">','</span>\n                <div class="time">\n                    <span class="separator"></span>\n                    <span class="bubble-time">',"</span>\n                </div>\n            </div>\n            ","\n        "])),"bot"===this.author.getState()?l(Dl||(Dl=Rl(['<div class="little-bubble"></div>']))):"",this.author.getState(),this.formatMarkdown(this.textContent),this.formatTime(this.time.getState()),"user"===this.author.getState()?l(Ml||(Ml=Rl(['<div class="little-bubble"></div>']))):"")}},{key:"formatTime",value:function(t){var e,n=t.split(":")[0],r=t.split(":")[1],o=t.split(" ")[1];return"".concat(n,":").concat(r," ").concat(null!==(e=null==o?void 0:o.toLowerCase())&&void 0!==e?e:"")}},{key:"formatMarkdown",value:function(t){return Pl.setOptions({gfm:!0,breaks:!0}),Pl.parse(t.trim())}}])&&$l(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Gl(t){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(t)}function Hl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vl(r.key),r)}}function Vl(t){var e=function(t){if("object"!=Gl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gl(e)?e:e+""}function Ul(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ul=function(){return!!t})()}function Zl(t){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zl(t)}function Wl(t,e){return Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wl(t,e)}window.customElements.define("agora-chat-bubble",Fl);var Yl,Jl,Ql,Xl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Zl(e),function(t,e){if(e&&("object"==Gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ul()?Reflect.construct(e,n||[],Zl(t).constructor):e.apply(t,n))}(this,e,["agora-chat-input","".concat(c.BASE_COMPONENTS,"/ChatInput/ChatInput.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(ql||(t=['\n            <input type="text" placeholder="Type your message...">\n            \x3c!-- <button class="send-button">','</button> --\x3e\n            <button class="send-button" aria-label="Send message">\n                ',"\n            </button>\n        "],e||(e=t.slice(0)),ql=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),dt,yt);var t,e}},{key:"listeners",value:function(){var t=this;this.$("input").onkeydown=function(e){return t.handleIntro(e)},this.$("input").onfocus=function(){return t.parentComponent.unfold()},this.$(".send-button").onclick=function(){return t.parentComponent.toogleFold()}}},{key:"handleIntro",value:function(t){"Enter"===t.key&&this.sendMessage()}},{key:"sendMessage",value:function(){this.animateClick(),0!==this.$("input").value.length&&(this.parentComponent.sendMessage(this.$("input").value),this.$("input").value="")}},{key:"animateClick",value:function(){var t=this;this.$(".send-button").classList.add("clicked"),this.$(".send-button").onanimationend=function(){return t.$(".send-button").classList.remove("clicked")}}}],r&&Hl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Kl(t){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(t)}function tu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nu(r.key),r)}}function nu(t){var e=function(t){if("object"!=Kl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Kl(e)?e:e+""}function ru(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ru=function(){return!!t})()}function ou(t){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(t)}function iu(t,e){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iu(t,e)}window.customElements.define("agora-chat-input",Xl);var au=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=ou(e),function(t,e){if(e&&("object"==Kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ru()?Reflect.construct(e,n||[],ou(t).constructor):e.apply(t,n))}(this,e,["agora-chat-process-update","".concat(c.BASE_COMPONENTS,"/ChatProcessUpdate/ChatProcessUpdate.css")])).message=new a(null,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return this.message.getState()?l(Yl||(Yl=tu(["\n            ",'\n            \x3c!-- <video width="25" height="25" autoplay muted loop playsinline>\n                <source src="','/assets/videos/ai-assistant-loader.webm" type="video/webm">\n            </video> --\x3e\n            ',"\n        "])),this.message.getState().split("").map((function(t,e){return" "===t?l(Jl||(Jl=tu(['<div class="space">&nbsp</div>']))):l(Ql||(Ql=tu(['<div class="char" style="animation-delay: ','s">',"</div>"])),.1*e,t)})).join(""),c.PUBLIC,zt):""}},{key:"update",value:function(t){this.message.setState(t)}},{key:"clear",value:function(){this.message.setState(null)}}])&&eu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);window.customElements.define("agora-chat-process-update",au);var su,cu,lu,uu,fu,hu=function(){return"1"===new URLSearchParams(window.location.search).get("debug")};function pu(t){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(t)}function du(t){return function(t){if(Array.isArray(t))return gu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vu(){vu=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==pu(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(pu(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function yu(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function mu(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){yu(i,r,o,a,s,"next",t)}function s(t){yu(i,r,o,a,s,"throw",t)}a(void 0)}))}}function bu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_u(r.key),r)}}function _u(t){var e=function(t){if("object"!=pu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pu(e)?e:e+""}function xu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xu=function(){return!!t})()}function ku(t){return ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(t)}function Su(t,e){return Su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Su(t,e)}var Ou,Cu,Eu,Tu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=ku(e),function(t,e){if(e&&("object"==pu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xu()?Reflect.construct(e,n||[],ku(t).constructor):e.apply(t,n))}(this,e,["agora-searchbar","".concat(c.BASE_COMPONENTS,"/Searchbar/Searchbar.css")])).defaultTreshold=.135,t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.serviceContext=new o("service",t,!1),t.searchContext=new o("search",t,!1,"local"),t.languageContext=new o("language",t,!1,"local"),t.isLoading=new a(!1,t),t.currentSource=new a("all",t),t.currentQueryLanguage=new a({label:"English",value:"en"},t),t.queryLanguages=new a([{label:"English",value:"en"},{label:"Spanish",value:"es"},{label:"Catalan",value:"ca"},{label:"German",value:"de"},{label:"Italian",value:"it"},{label:"Portuguese",value:"pt"},{label:"Swedish",value:"sv"},{label:"French",value:"fr"},{label:"Fisnnish",value:"fi"},{label:"Polish",value:"pl"}],t),t.signals=new i(t),t.signals.register("results-updated"),t.signals.register("no-results"),t.signals.register("no-data-models"),t.loadPreferredLanguage(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Su(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t,e;return l(su||(su=bu(['\n        \x3c!-- Query Language Selector --\x3e\n        <div \n          class="language-selector"\n          style="','"\n        >\n          \x3c!-- Language Options --\x3e\n          \n          <ul class="query-language-selector hidden">\n            ','\n          </ul>\n\n          \x3c!-- Language Label --\x3e\n          <div class="query-language-selector-label-wrapper">\n            <span class="query-language-selector-label">','</span>\n            <span class="query-language-selector-hint">Select your search language for better results</span>\n          </div>\n        </div>\n\n        \x3c!-- Score Treshold --\x3e\n        <div class="treshold">\n          ','\n        </div>\n\n        \x3c!-- Searchbar Input --\x3e\n        <input \n          class="searchbar-input folded" \n          type="text" \n          placeholder="','"/>\n        <span class="agora-logo">','</span>\n        <button class="searchbar-button">','</button>\n\n        \x3c!-- Searchbar Spinner --\x3e\n        <div class="searchbar-spinner">\n          <div class="ball-1"></div>\n          <div class="ball-2"></div>\n          <div class="ball-3"></div>\n        </div>\n\n        \x3c!-- Autocomplete Dropdown --\x3e\n        <ul class="autocomplete-dropdown"></ul>\n    '])),this.configContext.getData("translation_host")?"":"display: none !important",this.queryLanguages.getState().map((function(t,e){var n=t.label,r=t.value;return l(cu||(cu=bu(['\n                  <li \n                    class="query-language-option slide-in" \n                    data-value=','\n                    style="animation-delay: ','s"\n                  >\n                    <span class="query-language-option-label">',"</span>\n                  </li>\n                "])),r,.02*e,n)})).join(""),null!==(t=null===(e=this.currentQueryLanguage.getState())||void 0===e?void 0:e.label)&&void 0!==t?t:"English",hu()?l(lu||(lu=bu(['\n                <input type="range" min="0" max="1" value="0.35" step="0.01" id="treshold"/>\n                <label class="treshold-label" for="treshold">A: 0.35</label>\n              ']))):l(uu||(uu=bu([""]))),this.searchContext.getData("current")&&this.searchContext.getData("current").length>0?"".concat(this.searchContext.getData("current").join(" ")):"Search...",yt,Ot)}},{key:"listeners",value:function(){var t=this;this.$(".searchbar-input").onkeydown=function(e){return t.handleKeyDown(e)},this.$(".searchbar-input").onfocus=function(){return t.unfold()},this.$(".searchbar-input").onblur=function(){return t.fold()},this.$(".searchbar-input").oninput=function(){return t.autocompleteWhileTyping()},this.$(".searchbar-button").onclick=function(){return t.query()},this.$("#treshold")&&(this.$("#treshold").oninput=function(e){return t.$(".treshold-label").innerHTML="A: ".concat(e.target.value)}),this.$(".query-language-selector-label").onclick=function(){return t.toggleLanguageSelector()},this.$$(".query-language-option").forEach((function(e){e.onclick=function(){return t.changeQueryLanguage(e.textContent,e.dataset.value)}}))}},{key:"changeQueryLanguage",value:function(t,e){this.$(".query-language-selector-label").textContent=t,this.toggleLanguageSelector(),this.languageContext.setData({label:t,value:e},!1),this.currentQueryLanguage.setState({label:t,value:e},!1)}},{key:"loadPreferredLanguage",value:function(){var t=this.languageContext.getData("label"),e=this.languageContext.getData("value");this.currentQueryLanguage.setState({label:t,value:e},!1)}},{key:"toggleLanguageSelector",value:function(){this.$(".query-language-selector").classList.toggle("hidden")}},{key:"query",value:(u=mu(vu().mark((function t(){var e,n,r,o,i,a,s,c,l,u,f,h;return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.$(".searchbar-input").value.length){t.next=2;break}return t.abrupt("return");case 2:if(this.showSpinner(),0!==(r=this.$(".searchbar-input").value).length){t.next=7;break}return this.hideSpinner(),t.abrupt("return");case 7:if(o=r.replace(/[^^A-Za-z0-9 ]/g,""),i=null!==(e=null===(n=this.currentQueryLanguage.getState())||void 0===n?void 0:n.value)&&void 0!==e?e:"en",!this.configContext.getData("translation_host")){t.next=15;break}return t.next=12,d(this.configContext.getData("translation_host"),o,i,"en");case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=o;case 16:if(a=t.t0,(s=this.serviceContext.getData("services"))&&0!==s.length){t.next=22;break}return this.signals.emit("no-data-models"),this.hideSpinner(),t.abrupt("return");case 22:if(0!==(c="all"===this.currentSource.getState()?rt(s,"model").map((function(t){return t.model})):[this.currentSource.getState()]).length){t.next=27;break}return this.signals.emit("no-data-models"),this.hideSpinner(),t.abrupt("return");case 27:return l={raw:o,translated:a},t.prev=28,t.next=31,te(this.configContext.getData("host"),l.translated,c);case 31:u=t.sent,t.next=56;break;case 34:if(t.prev=34,t.t1=t.catch(28),t.prev=36,!(f=JSON.parse(t.t1.message)).missing_model){t.next=48;break}return t.next=41,this.requestModelDataIngestion(f.missing_model);case 41:if(!(h=t.sent)){t.next=47;break}return st("There was an error while ingesting the missing model data.\nCheck the logs for more information.",it),console.error("ELASTICSEARCH INGESTION ERROR\n".concat(h)),this.hideSpinner(),t.abrupt("return");case 47:this.query();case 48:t.next=54;break;case 50:throw t.prev=50,t.t2=t.catch(36),st("There was an error while searching for the query.\nCheck the logs for more information.",it),t.t1;case 54:return this.hideSpinner(),t.abrupt("return");case 56:this.hideSpinner();try{this.handleResponse(l,u)}catch(t){st("There was an error while handling the response.\nCheck the logs for more information.",it),console.error("Error while handling the response: ",t)}this.$(".searchbar-input").placeholder=l.raw,this.$(".searchbar-input").value="";case 60:case"end":return t.stop()}}),t,this,[[28,34],[36,50]])}))),function(){return u.apply(this,arguments)})},{key:"requestModelDataIngestion",value:(s=mu(vu().mark((function t(e){return vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,st("Elasticsearch is ingesting the missing model data.\nIngesting missing data from the model: '".concat(e,"' into Elasticsearch"),at),console.warn("ELASTICSEARCH IS INGESTING\nIngesting missing data from the model: '".concat(e,"' into Elasticsearch")),t.next=5,ee(this.configContext.getData("host"),e);case 5:return t.abrupt("return",null);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return s.apply(this,arguments)})},{key:"showSpinner",value:function(){this.isLoading.setState(!0,!1),this.$(".searchbar-spinner").style.display="flex",this.$(".searchbar-button").classList.add("disabled")}},{key:"hideSpinner",value:function(){this.isLoading.setState(!1,!1),this.$(".searchbar-spinner").style.display="none",this.$(".searchbar-button").classList.remove("disabled")}},{key:"handleResponse",value:function(t,e){var n=this;if(0===e.results.length)return this.resultContext.setData({grouped:s,data:a},!0),void this.signals.emit("no-results");this.storeQueryInContext(t);var r=du(new Set(this.serviceContext.getData("services").map((function(t){return{service:t.fields.name,models:rt(t,"model").map((function(t){return t.model}))}}))));e.results.forEach((function(t){var e=r.find((function(e){return e.models.includes(t.model)})),n=e?e.service:void 0;n?t.service=n:(console.warn("No service found for model: ".concat(t.model)),t.service="unknown")}));var o=rt(this.serviceContext.getData("services"),"websites").flatMap((function(t){return t.websites})),i=e.results.sort((function(t,e){return e.score-t.score})).map((function(t){var r=o.find((function(e){return e.model===t.model})).name,i=o.find((function(e){return e.model===t.model})).website,a=o.find((function(e){return e.model===t.model})).url,s=i?"".concat(i).concat(a):"".concat(n.configContext.getData("host")).concat(a);return{model:t.model,model_verbose_name:r,model_view_url:s,service:t.service,featured_fields:t.featured_fields||["web_link","url","website"],featured:t.featured||!1,data:t.data,roots:t.roots,score:{absolute:Number(t.score/n.getMaxScore(e.results)).toFixed(2),relative:Number(t.score/n.getGroupMaxScore(e.results,t.service)).toFixed(2)}}})),a=this.applyScoreTreshold(i,"absolute"),s=du(new Set(a.map((function(t){return t.service})))).sort().map((function(t){var e=a.filter((function(e){return e.service===t}));return{service:t,items:e}}));this.resultContext.setData({grouped:s,data:a},!0),this.signals.emit("results-updated",s)}},{key:"getMaxScore",value:function(t){return Math.max.apply(Math,du(t.map((function(t){return t.score}))))}},{key:"getGroupMaxScore",value:function(t,e){return Math.max.apply(Math,du(t.filter((function(t){return t.service===e})).map((function(t){return t.score}))))}},{key:"applyScoreTreshold",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absolute",n=this.defaultTreshold;return hu()&&(n=this.$("#treshold").value),"absolute"===e?t.filter((function(t){return t.score.absolute>=n})):"relative"===e?t.filter((function(t){return t.score.relative>=n})):void 0}},{key:"storeQueryInContext",value:function(t){var e=this.searchContext.getData("history")||[];this.searchContext.setData({history:du(new Set([].concat(du(e),[t.raw]))),current:t.translated.split(" ")},!1)}},{key:"handleKeyDown",value:function(t){"Enter"===t.key&&(this.toogleAutocompleteDropdown("fold"),this.query()),"Tab"===t.key&&(t.preventDefault(),Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")}))?(this.autocompleteFromDropdown(),this.toogleAutocompleteDropdown("fold")):this.autocompleteFromPlaceholder(t)),"ArrowUp"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("up")),"ArrowDown"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("down"))}},{key:"unfold",value:function(){this.$(".searchbar-input").classList.remove("folded")}},{key:"fold",value:function(){var t=this;setTimeout((function(){t.$(".searchbar-input").classList.add("folded")}),100)}},{key:"autocompleteWhileTyping",value:function(){var t=this,e=this.searchContext.getData("history")||[],n=this.$(".autocomplete-dropdown");if(0!==e.length){var r=this.$(".searchbar-input").value;if(0!==r.length){var o=r.length,i=e.filter((function(t){return t.slice(0,o)===r}));n.innerHTML="",i.forEach((function(e){var r=document.createElement("li");r.innerHTML=l(fu||(fu=bu(['\n        <div class="match-container">\n          <span class="match highlighted">','</span>\n          <span class="match">','</span>\n        </div>\n        <span class="tab-word">TAB</span>\n      '])),e.slice(0,o),e.slice(o)),t.setupAutocompleteOptionListener(r),n.appendChild(r)}));var a=n.children[0];a&&a.classList.add("selected-match")}else n.innerHTML=""}}},{key:"autocompleteFromDropdown",value:function(){var t=Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")})).querySelector(".match-container").innerText;this.$(".searchbar-input").value=t,this.$(".searchbar-input").focus()}},{key:"autocompleteFromPlaceholder",value:function(){var t=this.$(".searchbar-input").placeholder;this.$(".searchbar-input").value=t,this.$(".searchbar-input").focus()}},{key:"autocompleteFromSuggestedTag",value:function(t){this.$(".searchbar-input").value=t}},{key:"setupAutocompleteOptionListener",value:function(t){var e=this;t.onmouseenter=function(){return e.handleMatchOptionHover(t)},t.onmouseleave=function(){return t.classList.remove("selected-match")},t.onclick=function(){e.autocompleteFromDropdown(),e.toogleAutocompleteDropdown("fold"),e.$(".searchbar-input").blur()}}},{key:"handleMatchOptionHover",value:function(t){var e=this.$(".autocomplete-dropdown");Array.from(e.children).forEach((function(t){t.classList.remove("selected-match")})),t.classList.add("selected-match")}},{key:"moveThroughAutocompleteOptions",value:function(t){var e=this.$(".autocomplete-dropdown"),n=Array.from(e.children).find((function(t){return t.classList.contains("selected-match")})),r=Array.from(e.children).indexOf(n);if(n){if("up"===t){if(0===r)return e.children[e.children.length-1].classList.add("selected-match"),void e.children[r].classList.remove("selected-match");e.children[r-1].classList.add("selected-match"),e.children[r].classList.remove("selected-match")}else if("down"===t){if(r===e.children.length-1)return e.children[0].classList.add("selected-match"),void e.children[r].classList.remove("selected-match");e.children[r+1].classList.add("selected-match"),e.children[r].classList.remove("selected-match")}}else e.children[0].classList.add("selected-match")}},{key:"toogleAutocompleteDropdown",value:function(t){"unfold"===t?this.$(".autocomplete-dropdown").style.height="100px":"fold"===t&&(this.$(".autocomplete-dropdown").innerHTML="")}},{key:"isDebugMode",value:function(){return"1"===new URLSearchParams(window.location.search).get("debug")}}],r&&wu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s,u}(r);function ju(t){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(t)}function Pu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Au(r.key),r)}}function Au(t){var e=function(t){if("object"!=ju(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ju(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ju(e)?e:e+""}function Du(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Du=function(){return!!t})()}function Mu(t){return Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(t)}function Ru(t,e){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ru(t,e)}window.customElements.define("agora-searchbar",Tu);var $u,Iu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Mu(e),function(t,e){if(e&&("object"==ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Du()?Reflect.construct(e,n||[],Mu(t).constructor):e.apply(t,n))}(this,e,["agora-layout-v2","".concat(c.LAYOUT_COMPONENTS,"/v2/v2.css")])).resultContext=new o("result",t,!1),t.configContext=new o("config",t,!1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ru(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return l(Ou||(Ou=Pu(['\n            <main class="main">\n                \x3c!-- Action Bar --\x3e\n                <agora-action-bar></agora-action-bar>\n\n                \x3c!-- Agora Result Map --\x3e\n                \x3c!-- <agora-result-map></agora-result-map> --\x3e\n\n                \x3c!-- Left Side --\x3e\n                <div class="left">\n                    \x3c!-- Navigator --\x3e\n                    <div class="navigator-wrapper">\n                        <agora-navigator></agora-navigator>\n                    </div>\n\n                    \x3c!-- Map Visualizer --\x3e\n                    <agora-map-visualizer></agora-map-visualizer>\n                </div>\n\n                \x3c!-- Right Side --\x3e\n                <div class="right">\n\n                    \x3c!-- Greetings and Showcase --\x3e\n                    ','\n                    \n\n                    \x3c!-- Results --\x3e\n                    <agora-result-window></agora-result-window>\n                </div>\n            </main>\n\n            \x3c!-- Chat or Searchbar --\x3e\n            <agora-chat class="chat ','"></agora-chat>\n            <agora-searchbar class="searchbar ','"></agora-searchbar>\n\n            \x3c!-- Pin Box --\x3e\n            \x3c!--\n            <div class="pinbox-unfold-button">','</div>\n            <agora-pin-box></agora-pin-box>\n            --\x3e\n\n            \x3c!-- Carousel --\x3e\n            <agora-card-info-carousel-v2></agora-card-info-carousel-v2>\n\n            \x3c!-- Bottom Fade --\x3e\n            <div class="bottom-fade"></div>\n\n            \x3c!-- Metagora Navigator --\x3e\n            ',"\n        "])),this.resultContext.getData("data")&&0!==this.resultContext.getData("data").length?"":l(Cu||(Cu=Pu(['\n                                <div class="showcase">\n                                    <agora-landing></agora-landing>\n                                </div>\n                            ']))),this.configContext.getData("enabled_ai")?"active":"",this.configContext.getData("enabled_ai")?"":"active",vt,"Metagora"===this.configContext.getData("name")?l(Eu||(Eu=Pu(["<agora-metagora-navigator></agora-metagora-navigator>"]))):"")}},{key:"listeners",value:function(){var t=this;this.$(".pinbox-unfold-button")&&(this.$(".pinbox-unfold-button").onclick=function(){return t.tooglePinBox()})}},{key:"tooglePinBox",value:function(){this.$(".pinbox-unfold-button").classList.toggle("unfolded"),this.$("agora-pin-box").toogleFold()}},{key:"toogleSearchbar",value:function(){var t=this.$(".searchbar"),e=this.$(".chat");t.classList.contains("active")?(t.classList.add("inactive"),t.classList.remove("active"),e.classList.add("active")):(e.classList.add("inactive"),e.classList.remove("active"),t.classList.add("active"))}}])&&Lu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Nu(t){return Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(t)}function Bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zu(r.key),r)}}function zu(t){var e=function(t){if("object"!=Nu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Nu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nu(e)?e:e+""}function qu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qu=function(){return!!t})()}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}function Gu(t,e){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gu(t,e)}window.customElements.define("agora-layout-v2",Iu);var Hu,Vu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Fu(e),function(t,e){if(e&&("object"==Nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qu()?Reflect.construct(e,n||[],Fu(t).constructor):e.apply(t,n))}(this,e,["agora-chat-loader","".concat(c.BASE_COMPONENTS,"/ChatLoader/ChatLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gu(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l($u||(t=['\n            <div class="circle a"></div>\n            <div class="circle b"></div>\n            <div class="circle c"></div>\n        '],e||(e=t.slice(0)),$u=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],r&&Bu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Uu(t){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(t)}function Zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wu(r.key),r)}}function Wu(t){var e=function(t){if("object"!=Uu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Uu(e)?e:e+""}function Yu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yu=function(){return!!t})()}function Ju(t){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(t)}function Qu(t,e){return Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qu(t,e)}window.customElements.define("agora-chat-loader",Vu);var Xu,Ku,tf,ef,nf,rf,of,af,sf,cf,lf=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ju(e),function(t,e){if(e&&("object"==Uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yu()?Reflect.construct(e,n||[],Ju(t).constructor):e.apply(t,n))}(this,e,["agora-base-loader","".concat(c.BASE_COMPONENTS,"/BaseLoader/BaseLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qu(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(Hu||(t=["\n            ","\n        "],e||(e=t.slice(0)),Hu=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),yt);var t,e}}],r&&Zu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function uf(t){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(t)}function ff(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pf(r.key),r)}}function pf(t){var e=function(t){if("object"!=uf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==uf(e)?e:e+""}function df(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(df=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gf(t)}function vf(t,e){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vf(t,e)}window.customElements.define("agora-base-loader",lf);var yf,mf,bf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=gf(e),function(t,e){if(e&&("object"==uf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,df()?Reflect.construct(e,n||[],gf(t).constructor):e.apply(t,n))}(this,e,["agora-dynamic-card","".concat(c.BASE_COMPONENTS,"/DynamicCard/DynamicCard.css")])).configContext=new o("config",t,!1),t.serviceContext=new o("service",t,!1),t.data=new a(null,t),t.enableDrag(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vf(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return this.highlightIfFeatured(),this.hideIfNotFeatured(),l(Xu||(Xu=ff(["\n            ","\n        "])),this.build())}},{key:"listeners",value:function(){var t=this;this.wrapper.ondragstart=function(e){return t.handleDrag(e)},this.wrapper.ondragend=function(e){return t.handleDrop(e)},this.wrapper.onclick=function(){return t.openInfoDialog()}}},{key:"build",value:function(){this.data.setState(JSON.parse(this.dataset.data),!1);var t=ot(this.data.getState(),"image")?l(Ku||(Ku=ff(['<img class="card-image" src="',"",'"/>'])),this.configContext.getData("host"),ot(this.data.getState(),"image")):l(tf||(tf=ff(['<div class="card-image default-image-0"></div>']))),e=ot(this.data.getState(),"name")?l(ef||(ef=ff(['<span class="card-name">',"</span>"])),ot(this.data.getState(),"name")):null,n=ot(this.data.getState(),["summary","abstract","description","info","details","content","text","body"])?l(nf||(nf=ff(['<span class="card-summary">',"</span>"])),ot(this.data.getState(),["summary","abstract","description","info","details","content","text","body"])):null,r=ot(this.data.getState(),["university_origin","home_partner_institution","origin","institution"]),o=r?l(rf||(rf=ff(['<span class="card-origin">',"</span>"])),r):null,i=Math.round(10*Number(this.getAttribute("absolute-score")));(isNaN(i)||0===i)&&(i=null);var a=ot(this.data.getState(),["featured","highlight","premium"]);return l(of||(of=ff(['\n            <div class="catalogue">',"</div>\n            ",'\n            <div class="card-content">\n                ',"\n                ",'\n                <div class="separator"></div>\n                ','\n                <div class="fill-space"></div>\n\n                <div class="additional-info">\n                    ',"\n                    ","\n                    ",'\n                </div>\n                <span \n                    class="score" \n                    title="(A)bsolute and (R)elative (to the group) scores"\n                    style="','"\n                >\n                        A: ',", R: ","\n                </span>\n            </div>\n        "])),this.getAttribute("model-verbose-name"),t,o,e,n,a?l(af||(af=ff(['\n                                <span title="This element is featured by Agora" class="featured-badge">\n                                    ',"\n                                </span>\n                            "])),yt):"",null!==i?l(sf||(sf=ff(['\n                                <div \n                                    class="public-score" \n                                    title="This score represents the relevance of this\nitem in the search results."\n                                    style="filter: hue-rotate(','deg);"\n                                >',"</div>\n                            "],['\n                                <div \n                                    class="public-score" \n                                    title="This score represents the relevance of this\\nitem in the search results."\n                                    style="filter: hue-rotate(','deg);"\n                                >',"</div>\n                            "])),20*(i-10),i):"",this.wrapper.classList.contains("featured")?l(cf||(cf=ff(['\n                                \x3c!-- <span title="This element is recommended by AIDA" class="featured-badge">\n                                    ',"\n                                </span>--\x3e"])),yt):"",hu()?"":"display:none",this.getAttribute("absolute-score"),this.getAttribute("relative-score"))}},{key:"openInfoDialog",value:function(){document.querySelector("agora-app").openCarousel(this.data.getState().id,this.getAttribute("service"))}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"getDefaultImageIndex",value:function(){return Math.floor(6*Math.random())}},{key:"highlightIfFeatured",value:function(){this.hasAttribute("featured")&&this.wrapper.classList.add("featured")}},{key:"hideIfNotFeatured",value:function(){this.hasAttribute("featured")||(this.style.display="none")}},{key:"enableDrag",value:function(){this.wrapper.draggable=!0}},{key:"handleDrag",value:function(t){this.wrapper.classList.add("ondrag"),t.dataTransfer.setData("data",JSON.stringify(this.data.getState())),t.dataTransfer.setData("id",this.id),t.dataTransfer.setData("model",this.getAttribute("model")),t.dataTransfer.setData("href",this.getAttribute("href")),t.dataTransfer.setData("featured-fields",this.getAttribute("featured-fields")),t.dataTransfer.setData("featured",this.hasAttribute("featured"))}},{key:"handleDrop",value:function(t){this.wrapper.classList.remove("ondrag")}}],r&&hf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function wf(t){return wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(t)}function _f(){_f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==wf(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(wf(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function xf(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function kf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Of(r.key),r)}}function Of(t){var e=function(t){if("object"!=wf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=wf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wf(e)?e:e+""}function Cf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cf=function(){return!!t})()}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ef(t)}function Tf(t,e){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tf(t,e)}window.customElements.define("agora-dynamic-card",bf);var jf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ef(e),function(t,e){if(e&&("object"==wf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cf()?Reflect.construct(e,n||[],Ef(t).constructor):e.apply(t,n))}(this,e,["agora-pin-card","".concat(c.BASE_COMPONENTS,"/PinCard/PinCard.css")])).configContext=new o("config",t,!1),t.data=new a(JSON.parse(t.dataset.data),t),t.loadAttributes(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=JSON.parse(this.dataset.data),e="".concat(this.configContext.getData("host"),"/web/image?model=").concat(t.model,"&id=").concat(t.id.split("-")[1],"&field=image");return l(yf||(yf=kf(['\n            <div class="image-wrapper">\n                <img class="image" src="','" />\n            </div>\n            <span class="name">','</span>\n            <div class="icon-wrapper">\n                <span class="info-icon">','</span>\n                <span class="delete-icon">',"</span>\n            </div>\n        "])),e,t.data.name,bt,mt)}},{key:"listeners",value:function(){var t=this;this.$(".info-icon").onclick=function(){return t.openInfo()},this.$(".delete-icon").onclick=function(){return t.delete()},this.$(".image").onload=function(){return t.replaceImageIfItsPlaceholder()}}},{key:"loadAttributes",value:function(){this.id=this.data.getState().id,this.setAttribute("model",this.data.getState().model),this.setAttribute("href",this.data.getState().href),this.setAttribute("featured-fields",this.data.getState().featured_fields),this.setAttribute("featured",this.data.getState().featured),this.data.setState(this.data.getState().data,!1)}},{key:"replaceImageIfItsPlaceholder",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xf(i,r,o,a,s,"next",t)}function s(t){xf(i,r,o,a,s,"throw",t)}a(void 0)}))}}(_f().mark((function t(){var e,n;return _f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:256===(e=this.$(".image")).naturalWidth&&256===e.naturalHeight&&(this.wrapper.classList.add("no-image"),(n=document.createElement("div")).classList.add("card-image"),n.classList.add("default-image"),e.remove(),this.$(".image-wrapper").appendChild(n));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"openInfo",value:function(){var t,e,n,r,o,i,a=document.querySelector("agora-app").$(".card-info-dialog");document.querySelector("agora-app").$(".carousel-controls").style.display="none",a.classList.add("fade-in"),a.classList.remove("no-image"),this.wrapper.classList.contains("no-image")&&a.classList.add("no-image"),a.querySelector(".card-info-image").src=null!==(t="".concat(this.configContext.getData("host"),"/web/image?model=").concat(this.getAttribute("model"),"&id=").concat(this.id.split("-")[1],"&field=image"))&&void 0!==t?t:"",a.querySelector(".card-info-name").textContent=null!==(e=this.data.getState().name)&&void 0!==e?e:"",a.querySelector(".card-info-lastname").innerHTML=null!==(n=this.data.getState().lastname)&&void 0!==n?n:"",a.querySelector(".card-info-summary").innerHTML=null!==(r=null!==(o=this.data.getState().summary)&&void 0!==o?o:this.data.getState().description)&&void 0!==r?r:"",a.querySelector(".card-info-origin").textContent=this.data.getState().university_origin?this.data.getState().university_origin[1]:"",a.querySelector(".card-info-explore-button").dataset.url=null!==(i=this.getAttribute("href"))&&void 0!==i?i:"",this.displayAdditionalFieldsInDialog(a),a.showModal(),a.scrollTo(0,0)}},{key:"displayAdditionalFieldsInDialog",value:function(t){var e=this,n=this.parseAdditionalFields();if(0===n.length&&t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").remove();else{if(t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").innerHTML="";else{var r=document.createElement("div");r.classList.add("card-info-additional-fields"),t.querySelector(".card-info-content").appendChild(r)}n.forEach((function(n){if(e.data.getState()[n]){var r=n.replace(/_/g," ");r=r.toUpperCase();var o=l(mf||(mf=kf(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),r,e.data.getState()[n]);t.querySelector(".card-info-additional-fields").innerHTML+=o}}))}}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"delete",value:function(){this.parentComponent.removePinnedCard(this.id)}}],r&&Sf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r);window.customElements.define("agora-pin-card",jf);var Pf,Lf,Af,Df,Mf;function Rf(t){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(t)}function $f(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function If(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bf(r.key),r)}}function Bf(t){var e=function(t){if("object"!=Rf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Rf(e)?e:e+""}function zf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zf=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qf(t)}function Ff(t,e){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ff(t,e)}var Gf,Hf,Vf,Uf,Zf,Wf,Yf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=qf(e),function(t,e){if(e&&("object"==Rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zf()?Reflect.construct(e,n||[],qf(t).constructor):e.apply(t,n))}(this,e,["agora-result-window","".concat(c.MID_COMPONENTS,"/ResultWindow/ResultWindow.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.serviceContext=new o("service",t,!0),t.signals=new i(t),t.signals.register("cards-fetched"),t.signals.register("display-no-results"),t.signals.register("display-no-data-models"),t.signals.register("clear-error-messages"),t.builtResults=new a([],t),t.isLoading=new a(!1,t),t.isFiltered=new a(!1,t),t.blockedScroll=new a(!1,t),t.scrollInterval=null,t.currentScrollSpeed=0,t.scrollTreshold=.2,t.scrollSpeed=.25,t.speedMultiplier=6,!t.configContext.getData("enabled_ai")&&t.clear(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ff(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=this,e=(this.resultContext.getData("data")?function(t){return function(t){if(Array.isArray(t))return If(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return If(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(this.resultContext.getData("data").map((function(t){return t.service})))).sort():[]).map((function(e){var n=t.resultContext.getData("data").filter((function(t){return t.service===e}));return{service:e,items:n}}));if(this.isFiltered.getState()){var n=this.resultContext.getData("filters").filter((function(t){return t.service})).map((function(t){return t.service}));this.resultContext.getData("filters").filter((function(t){return t.model})).map((function(t){return t.model})),e=e.filter((function(t){return n.includes(t.service)}))}return 0===e.length?this.style.display="none":this.style.display="block",l(Pf||(Pf=$f(['\n            \x3c!-- No Results Message --\x3e\n            <div class="no-results-message" style="display: none;">\n                <h1>No results found</h1>\n                <p>Try changing the search terms.</p>\n            </div>\n\n            <div class="no-data-models-message" style="display: none;">\n                <h1>No data models found</h1>\n                <p>Contact the service provider or the administrator to get access to the data.</p>\n                <br>\n                <p>\n                    Model views should be configured in the acceleration services module.<br>\n                    If a model doesn\'t have a view (website) assigned, it will not be displayed in the results<br>\n                    since its elements wouldn\'t be accessible beyond the search interface.\n                </p>\n            </div>\n\n            \x3c!-- Result counter --\x3e\n            \x3c!-- TODO --\x3e\n\n            \x3c!-- Cards --\x3e\n            <div class="card-wrapper">\n                ','\n            </div>\n\n            \x3c!-- Greetings --\x3e\n            <agora-greetings class="hidden" hidden="true"></agora-greetings>\n            \n            \x3c!-- Loader --\x3e\n            ',"\n        "])),e.map((function(e){var n=e.service.toLowerCase().replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"").replace(/  /g,"-").replace(/ /g,"-");return l(Lf||(Lf=$f(['\n                            <div class="','-wrapper" data-name="','">\n                                <div class="movable-wrapper">\n                                    ',"\n                                </div>\n                            </div>\n                        "])),n,e.service,e.items.map((function(e){var n=t.createCardObject(e);return l(Af||(Af=$f(['\n                                                <agora-dynamic-card \n                                                    id="','"\n                                                    class="fade-in"\n                                                    href="','"\n                                                    type="','"\n                                                    model="','"\n                                                    model-verbose-name="','"\n                                                    service="',"\"\n                                                    data-data='","'\n                                                    featured-fields=\"",'"\n                                                    featured="','"\n                                                    absolute-score="','"\n                                                    relative-score="','"\n                                                ></agora-dynamic-card>\n                                            '])),n.id,"".concat(t.configContext.getData("host"),"/offering/").concat(n.view_id,"/").concat(n.id.split("-")[1]),n.type,n.model,n.model_verbose_name,n.service,n.dataset,n.featured_fields,n.featured,n.score.absolute,n.score.relative)})).join(""))})).join(""),this.isLoading.getState()?l(Df||(Df=$f(['\n                    <agora-base-loader width="100" height="100"></agora-base-loader>\n                ']))):l(Mf||(Mf=$f(["\n                    \n                "]))))}},{key:"listeners",value:function(){var t=this;document.onmousedown=function(){return t.blockedScroll.setState(!0,!1)},document.onmouseup=function(){return t.blockedScroll.setState(!1,!1)},Array.from(this.$(".card-wrapper").children).forEach((function(e){var n=function(n){return t.handleCursorScroll(n,e)},r=e.querySelector(".movable-wrapper");e.onmouseenter=function(){document.addEventListener("mousemove",n),t.highlightServiceOnHover(e,!0),t.scrollInterval=setInterval((function(){0!==t.currentScrollSpeed&&(r.scrollLeft+=t.currentScrollSpeed)}),.01)},e.onmouseleave=function(){clearInterval(t.scrollInterval),t.scrollInterval=null,t.currentScrollSpeed=0,document.removeEventListener("mousemove",n),t.highlightServiceOnHover(e,!1)},t.handleCardWrapperScroll(e.querySelector(".movable-wrapper"))})),this.$$(".movable-wrapper").forEach((function(e){e.onscroll=function(){return t.handleCardWrapperScroll(e)}})),this.$(".show-more")&&(this.$(".show-more").onclick=function(e){return t.$(".show-more").classList.contains("folded")?t.unfoldCardWrapper(e):t.foldCardWrapper(e)})}},{key:"clear",value:function(){console.log("Aqui tendra que estar la lgica para aadir el update de los containers"),this.resultContext.setData({data:[],grouped:[],filters:[]}),this.builtResults.setState([]),this.$(".no-results-message").style.display="none",this.$(".no-data-models-message").style.display="none",this.signals.emit("clear-error-messages")}},{key:"filterResults",value:function(){this.resultContext.getData("filters").length>0?this.isFiltered.setState(!0):this.isFiltered.setState(!1)}},{key:"createCardObject",value:function(t){var e=rt(this.serviceContext.getData("services"),"websites"),n={type:"item",id:"element-".concat(t.data.id),model:t.model,model_verbose_name:t.model_verbose_name,service:t.service,featured_fields:t.featured_fields||[],dataset:JSON.stringify(t.data,y),score:{absolute:t.score.absolute||null,relative:t.score.relative||null}};return e.forEach((function(t){t.websites.forEach((function(t){t.model===n.model&&(n.view_id=t.view_id)}))})),n}},{key:"countResults",value:function(t){var e=this.resultContext.getData("data").find((function(e){return e.service===t})),n=e.element_ids.length,r=e.featured_element_ids.length;return{numElementIds:n,numFeaturedElementIds:r,notFeaturedElementIds:n-r}}},{key:"handleCardWrapperScroll",value:function(t){var e=t.scrollLeft,n=t.scrollWidth-t.clientWidth;e<10&&t.classList.remove("scroll-left-active"),e>10&&t.classList.add("scroll-left-active"),n-e<10&&t.classList.remove("scroll-right-active"),n-e>10&&t.classList.add("scroll-right-active")}},{key:"handleCursorScroll",value:function(t,e){if(!this.blockedScroll.getState()){var n=e.querySelector(".movable-wrapper"),r=e.clientWidth;if(!(n.scrollWidth<=r+50)){var o,i=e.getBoundingClientRect(),a=i.x+i.width/2,s=t.clientX,c=-1*Math.round(a-s),l=(o=Math.round(c/r*100)/100*2,Math.min(Math.max(o,-1),1));if(Math.abs(l)>this.scrollTreshold){var u=Math.sign(l),f=Math.abs(l)*this.speedMultiplier;this.currentScrollSpeed=u*(this.scrollSpeed+f)}else this.currentScrollSpeed=0}}}},{key:"unfoldCardWrapper",value:function(t){var e=t.target;e.classList.remove("folded"),e.innerHTML=ut;var n=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(n.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="block")})),this.handleCardWrapperScroll(n)}},{key:"foldCardWrapper",value:function(t){var e=t.target;e.classList.add("folded"),e.innerHTML="+".concat(this.countResults(e.parentElement.dataset.name).notFeaturedElementIds);var n=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(n.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="none")})),this.handleCardWrapperScroll(n)}},{key:"highlightServiceOnHover",value:function(t,e){document.querySelector("agora-app").$("agora-layout-v2").$("agora-navigator").$$("agora-navigator-item").forEach((function(n){e&&n.dataset.name===t.dataset.name?n.wrapper.classList.add("highlight"):n.wrapper.classList.remove("highlight")}))}},{key:"displayNoResultsMessage",value:function(){this.style.display="block",this.$(".no-results-message").style.display="grid",this.$(".no-data-models-message").style.display="none",this.signals.emit("display-no-results")}},{key:"displayNoDataModelsMessage",value:function(){this.style.display="block",this.$(".no-data-models-message").style.display="grid",this.$(".no-results-message").style.display="none",this.signals.emit("display-no-data-models")}}],r&&Nf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Jf(t){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(t)}function Qf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kf(r.key),r)}}function Kf(t){var e=function(t){if("object"!=Jf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Jf(e)?e:e+""}function th(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(th=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eh(t)}function nh(t,e){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nh(t,e)}window.customElements.define("agora-result-window",Yf);var rh,oh,ih=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=eh(e),function(t,e){if(e&&("object"==Jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,th()?Reflect.construct(e,n||[],eh(t).constructor):e.apply(t,n))}(this,e,["agora-card-info-carousel-v2","".concat(c.MID_COMPONENTS,"/CardInfoCarouselV2/CardInfoCarouselV2.css")])).signals=new i(t),t.configContext=new o("config",t,!1),t.serviceContext=new o("service",t,!1),t.resultContext=new o("result",t,!1),t.searchContext=new o("search",t,!0,"local"),t.data=new a(null,t),t.displayedCardId=new a(null,t),t.displayedCardGroup=new a(null,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nh(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t,e,n,r,o,i,a,s,c,u=l(Gf||(Gf=Qf(['\n            <span class="root">','</span>\n            <span class="separator">></span>\n            <a class="leaf" href="','" target="_blank">\n                ',"\n            </a>\n        "])),ot(this.data.getState(),["service"]),ot(this.data.getState(),["model_view_url"]),ot(this.data.getState(),["model_verbose_name"])),f=ot(null===(t=this.data.getState())||void 0===t?void 0:t.data,["image"])?l(Hf||(Hf=Qf(['<img class="card-image" src="',"",'">'])),this.configContext.getData("host"),ot(null===(e=this.data.getState())||void 0===e?void 0:e.data,["image"])):l(Vf||(Vf=Qf(['<div class="card-image default-image dynamic-background">',"</div>"])),null===(n=this.data.getState())||void 0===n||null===(n=n.data)||void 0===n?void 0:n.name),h=null!==(r=this.data.getState())&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&null!==(r=r.rag)&&void 0!==r&&r.summary?l(Uf||(Uf=Qf(['<div class="ai-explanation">\n                <span class="ai-explanation__icon">','</span>\n                <span class="ai-explanation__text">',"</span>\n            </div>"])),$t,null===(o=this.data.getState())||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.rag)||void 0===o?void 0:o.summary):"",p=l(Zf||(Zf=Qf(['\n            \x3c!-- Close Button --\x3e\n            <button class="close-button">','</button>\n\n            \x3c!-- Card --\x3e\n            <div class="card">\n\n                \x3c!-- Card Image --\x3e\n                <div class="card-image-wrapper">\n                    ','\n                </div>\n\n                \x3c!-- Card Content --\x3e\n                <div class="card-content-wrapper">\n                    \x3c!-- Card Service --\x3e\n                    <span class="card-service">',"</span>\n\n                    \x3c!-- AI Explanation --\x3e\n                    ",'\n\n                    \x3c!-- Card Origin --\x3e\n                    <span class="card-origin-wrapper">\n                        <span class="card-origin">\n                            ','\n                        </span>\n                        <span class="card-breadcrumb">','</span>\n                    </span>\n\n                    \x3c!-- Card Data --\x3e\n                    <span class="card-name">','</span>\n                    <span class="card-lastname">','</span>\n                    <span class="card-summary">\n                        ','\n                    </span>\n\n                    \x3c!-- Inner Actions --\x3e\n                    <div class="card-actions__separator"></div>\n                    <div class="card-actions__inner">\n                        <button \n                            class="card-explore-button"\n                            data-url="','"\n                        >Explore</button>\n                    </div>\n                </div>\n\n                \x3c!-- Card Actions --\x3e\n                <div class="card-actions">\n                    <button \n                        class="card-explore-button"\n                        data-url="','"\n                    >Explore</button>\n                </div>\n            </div>\n\n            \x3c!-- Carousel Controls --\x3e\n            <div class="controls-wrapper">\n                <span class="prev-control">','</span>\n                <span class="next-control">',"</span>\n            </div>\n        "])),Ct,f,ot(this.data.getState(),["service"]),h,ot(null===(i=this.data.getState())||void 0===i?void 0:i.data,["origin","institution","university_origin","home_partner_institution"]),u,ot(null===(a=this.data.getState())||void 0===a?void 0:a.data,["name"]),ot(null===(s=this.data.getState())||void 0===s?void 0:s.data,["lastname"]),ot(null===(c=this.data.getState())||void 0===c?void 0:c.data,["summary","abstract","description","info","details","content","text","body"]),this.buildDetailUrl(),this.buildDetailUrl(),_t,xt),d=l(Wf||(Wf=Qf(['\n            <div class="no-card-displayed">\n                <span class="no-card-displayed-text">No details available</span>\n            </div>\n        '])));return this.displayedCardId.getState()&&this.data.getState()?p:d}},{key:"listeners",value:function(){var t=this;this.wrapper.onclick=function(e){return t.close(e)},this.$(".prev-control")&&(this.$(".prev-control").onclick=function(){return t.setPreviousCardId()}),this.$(".next-control")&&(this.$(".next-control").onclick=function(){return t.setNextCardId()}),this.$(".card-explore-button")&&Array.from(this.$$(".card-explore-button")).forEach((function(e){e.onclick=function(){return t.navigateToDetail()}})),document.addEventListener("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.close()}},{key:"show",value:function(){this.wrapper.classList.add("visible")}},{key:"close",value:function(t){t?t.target.classList.contains("close-button")?this.wrapper.classList.remove("visible"):(t.stopPropagation(),t.target===this.wrapper&&this.wrapper.classList.remove("visible")):this.wrapper.classList.remove("visible")}},{key:"buildDetailUrl",value:function(){var t,e,n=this;return rt(this.serviceContext.getData("services"),"websites").forEach((function(t){t.websites.forEach((function(t){var r;t.model===(null===(r=n.data.getState())||void 0===r?void 0:r.model)&&(e=t.view_id)}))})),"".concat(this.configContext.getData("host"),"/offering/").concat(e,"/").concat(null===(t=this.data.getState())||void 0===t||null===(t=t.data)||void 0===t?void 0:t.id)}},{key:"navigateToDetail",value:function(){window.open(this.$(".card-explore-button").dataset.url,"_blank")}},{key:"setDisplayedCardId",value:function(t,e){var n=this;this.displayedCardId.setState(t,!1);var r=this.resultContext.getData("data").find((function(n){return n.data.id===t&&n.service===e}));this.displayedCardGroup.setState(r.service,!1),this.data.setState(r),this.updateNavigationButtonsVisibility(t),this.show(),setTimeout((function(){n.highlightSearchTerms(r.roots)}),100)}},{key:"updateNavigationButtonsVisibility",value:function(t){var e,n,r,o,i,a=this,s=this.resultContext.getData("grouped").find((function(t){return t.service===a.displayedCardGroup.getState()})),c=null==s?void 0:s.items.findIndex((function(e){return e.data.id===t})),l=null==s||null===(e=s.items)||void 0===e?void 0:e.length;null===(n=this.$(".prev-control"))||void 0===n||n.classList.remove("hidden"),null===(r=this.$(".next-control"))||void 0===r||r.classList.remove("hidden"),0===c&&(null===(o=this.$(".prev-control"))||void 0===o||o.classList.add("hidden")),c===l-1&&(null===(i=this.$(".next-control"))||void 0===i||i.classList.add("hidden"))}},{key:"setNextCardId",value:function(){var t=this,e=this.resultContext.getData("grouped").find((function(e){return e.service===t.displayedCardGroup.getState()})),n=null==e?void 0:e.items.findIndex((function(e){return e.data.id===t.displayedCardId.getState()})),r=null==e?void 0:e.items[n+1];r&&(this.displayedCardId.setState(r.data.id,!1),this.data.setState(r),this.updateNavigationButtonsVisibility(r.data.id),this.show(),setTimeout((function(){t.highlightSearchTerms(r.roots)}),100))}},{key:"setPreviousCardId",value:function(){var t=this,e=this.resultContext.getData("grouped").find((function(e){return e.service===t.displayedCardGroup.getState()})),n=null==e?void 0:e.items.findIndex((function(e){return e.data.id===t.displayedCardId.getState()})),r=null==e?void 0:e.items[n-1];r&&(this.displayedCardId.setState(r.data.id,!1),this.data.setState(r),this.updateNavigationButtonsVisibility(r.data.id),this.show(),setTimeout((function(){t.highlightSearchTerms(r.roots)}),100))}},{key:"highlightSearchTerms",value:function(t){var e=this.searchContext.getData("current")||[];e=(e=t).filter((function(t){if(!["i","I"].includes(t))return t}));var n=this.$(".card-name").innerHTML,r=this.$(".card-lastname").innerHTML,o=this.$(".card-summary").innerHTML;e.forEach((function(t){var e=new RegExp("\\b".concat(t,"\\w*\\b"),"gi");n=n.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")})),r=r.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")})),o=o.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")}))})),this.$(".card-name").innerHTML=n,this.$(".card-lastname").innerHTML=r,this.$(".card-summary").innerHTML=o}}],r&&Xf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function ah(t){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(t)}function sh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lh(r.key),r)}}function lh(t){var e=function(t){if("object"!=ah(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ah(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ah(e)?e:e+""}function uh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uh=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fh(t)}function hh(t,e){return hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hh(t,e)}window.customElements.define("agora-card-info-carousel-v2",ih);var ph,dh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=fh(e),function(t,e){if(e&&("object"==ah(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uh()?Reflect.construct(e,n||[],fh(t).constructor):e.apply(t,n))}(this,e,["agora-pin-box","".concat(c.MID_COMPONENTS,"/PinBox/PinBox.css")])).pinContext=new o("pin",t,!1,"local"),t.unfolded=new a(!1,t),t.data=new a(null,t),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hh(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(rh||(rh=sh(['\n            <div class="pin-icon ','">','</div>\n            <div class="card-wrapper ','">\n                ','\n                <div class="drop-placeholder">Drop and save your items here</div>\n            </div>\n        '])),this.unfolded.getState()?"unfolded":"",vt,this.data.getState()&&this.data.getState().length>0?"":"no-cards",this.data.getState()&&this.data.getState().length>0?this.data.getState().map((function(t){return l(oh||(oh=sh(["\n                        <agora-pin-card data-data='","'></agora-pin-card>\n                        "])),JSON.stringify(t,y))})).join(""):"")}},{key:"listeners",value:function(){var t=this;this.$(".pin-icon").onclick=function(){return t.toogleFold()},this.wrapper.ondragover=function(e){return t.handleDragOver(e)},this.wrapper.ondragleave=function(e){return t.handleDragLeave(e)},this.wrapper.ondrop=function(e){return t.handleDragDrop(e)}}},{key:"load",value:function(){var t=this.pinContext.getData("data");t&&this.data.setState(t,!1)}},{key:"toogleFold",value:function(){this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".pin-icon").classList.toggle("unfolded")}},{key:"handleDragOver",value:function(t){t.preventDefault(),this.wrapper.classList.add("dragover")}},{key:"handleDragLeave",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover")}},{key:"handleDragDrop",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover");var e={id:t.dataTransfer.getData("id"),model:t.dataTransfer.getData("model"),href:t.dataTransfer.getData("href"),featured_fields:t.dataTransfer.getData("featured-fields"),featured:t.dataTransfer.getData("featured"),data:JSON.parse(t.dataTransfer.getData("data"))};this.addPinnedCard(e)}},{key:"addPinnedCard",value:function(t){this.pinContext.getData("data")||this.pinContext.setData({data:[]});var e=this.pinContext.getData("data");rt(e,"id").find((function(e){return e.id===t.id}))||(e.push(t),this.pinContext.setData({data:e}),this.data.setState(e,!0))}},{key:"removePinnedCard",value:function(t){if(this.pinContext.getData("data")){var e=this.pinContext.getData("data").filter((function(e){return e.id!==t}));this.pinContext.setData({data:e}),this.data.setState(e,!0)}}}],r&&ch(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function gh(t){return gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(t)}function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yh(r.key),r)}}function yh(t){var e=function(t){if("object"!=gh(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=gh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gh(e)?e:e+""}function mh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mh=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bh(t)}function wh(t,e){return wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wh(t,e)}window.customElements.define("agora-pin-box",dh);var _h,xh,kh,Sh,Oh,Ch=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=bh(e),function(t,e){if(e&&("object"==gh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mh()?Reflect.construct(e,n||[],bh(t).constructor):e.apply(t,n))}(this,e,["agora-result-map","".concat(c.MID_COMPONENTS,"/ResultMapWindow/ResultMapWindow.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wh(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return l(ph||(t=['\n            \x3c!-- Close Button --\x3e\n            <button class="close-button">','</button>\n            \n            <iframe\n                width="600"\n                height="400"\n                seamless\n                frameBorder="0"\n                scrolling="no"\n                sandbox="allow-scripts allow-same-origin"\n                src="http://superset.widening.eu/superset/explore/p/dwao9E728ZN/?standalone=1&height=400"\n            ></iframe>\n        '],e||(e=t.slice(0)),ph=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),Ct);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".close-button").onclick=function(e){return t.close(e)},this.wrapper.onclick=function(e){return t.handleBackgroundClick(e)},document.addEventListener("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"toogleMapWindow",value:function(){this.wrapper.classList.toggle("active")}},{key:"close",value:function(){this.wrapper.classList.remove("active")}},{key:"handleBackgroundClick",value:function(t){t.target===this.wrapper&&this.close()}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.wrapper.classList.contains("active")&&this.close()}}],r&&vh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Eh(t){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(t)}function Th(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function jh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ph(r.key),r)}}function Ph(t){var e=function(t){if("object"!=Eh(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Eh(e)?e:e+""}function Lh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lh=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ah(t)}function Dh(t,e){return Dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dh(t,e)}window.customElements.define("agora-result-map",Ch);var Mh,Rh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ah(e),function(t,e){if(e&&("object"==Eh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lh()?Reflect.construct(e,n||[],Ah(t).constructor):e.apply(t,n))}(this,e,["agora-toast","".concat(c.BASE_COMPONENTS,"/Toast/Toast.css")])).toastType=null,t.toastTitle=null,t.ttl=3500,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return l(_h||(_h=Th(['\n            <div class="inner-wrapper">\n                <div class="icon">\n                    ','\n                </div>\n                <div class="message">\n                    <span class="title">','!</span>\n                    <span class="content">','</span>\n                </div>\n                <div class="close">\n                    ','\n                </div>\n            </div>\n            <div class="progress-bar">\n                <div \n                    class="progress-bar-fill"\n                    style="animation-duration: ','ms; animation-delay: 0.5s;"\n                ></div>\n            </div>\n        '])),this.toastType===it?l(xh||(xh=Th(["",""])),Nt):"success"===this.toastType?l(kh||(kh=Th(["",""])),Bt):this.toastType===at?l(Sh||(Sh=Th(["",""])),It):"info"===this.toastType?l(Oh||(Oh=Th(["",""])),bt):"",this.toastTitle,this.textContent,Ct,this.ttl)}},{key:"listeners",value:function(){var t=this;this.$(".progress-bar-fill").onanimationend=function(){t.destroy()},this.$(".close").onclick=function(){return t.destroy()}}},{key:"destroy",value:function(){var t=this;this.wrapper.classList.add("fade-up"),this.wrapper.onanimationend=function(){setTimeout((function(){t.remove()}),1e3)}}}])&&jh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function $h(t){return $h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(t)}function Ih(){Ih=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==$h(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError($h(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Nh(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Bh(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Nh(i,r,o,a,s,"next",t)}function s(t){Nh(i,r,o,a,s,"throw",t)}a(void 0)}))}}function zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qh(r.key),r)}}function qh(t){var e=function(t){if("object"!=$h(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$h(e)?e:e+""}function Fh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fh=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gh(t)}function Hh(t,e){return Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hh(t,e)}window.customElements.define("agora-toast",Rh);var Vh=function(t){function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,e,n){return e=Gh(e),function(t,e){if(e&&("object"==$h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fh()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}(this,n,["agora-app","".concat(c.SRC,"/App.css")])).companyContext=new o("company",t,!1),t.resultContext=new o("result",t,!1),t.serviceContext=new o("service",t,!1),t.metagoraContext=new o("metagora",t,!1),t.chatContext=new o("chat",t,!1),t.configContext=new o("config",t,!1),t.languageContext=new o("language",t,!1,"local"),t.layout=new a("main",t),t.setupConfig(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hh(t,e)}(n,t),r=n,i=[{key:"setupConfig",value:(u=Bh(Ih().mark((function t(){var n,r,o,i,a,s,c;return Ih().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Agora (v".concat(e.current_version,")")),this.configContext.clear();case 2:if(this.getAttribute("host")){t.next=7;break}return t.next=5,new Promise((function(t){return setTimeout(t,100)}));case 5:t.next=2;break;case 7:return console.log("App is ready!"),t.t0=null!==(n=this.getAttribute("name"))&&void 0!==n?n:e.name,t.t1=null!==(r=null!==(o=this.getAttribute("host"))&&void 0!==o?o:window.location.origin)&&void 0!==r?r:e.host,t.t2=null!==(i=this.getAttribute("company_id"))&&void 0!==i?i:e.company_id,t.t3=null!==(a=this.getAttribute("enabled_ai"))&&void 0!==a?a:e.enabled_ai,t.t4=null!==(s=this.getAttribute("ai_host"))&&void 0!==s?s:e.ai_host,t.next=15,this.checkTranslationService();case 15:t.t5=t.sent,t.t6=e.current_version,c={name:t.t0,host:t.t1,company_id:t.t2,enabled_ai:t.t3,ai_host:t.t4,translation_host:t.t5,current_version:t.t6},console.log("Using config:",c),this.configContext.setData(c,!0),this.$("agora-layout-v2").$("agora-action-bar").render();case 22:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"checkTranslationService",value:(s=Bh(Ih().mark((function t(){var n,r;return Ih().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null!==(n=this.getAttribute("translation_host"))&&void 0!==n?n:e.translation_host){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,g(r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"template",value:function(){return l(Mh||(t=["\n            <agora-layout-v2></agora-layout-v2>\n        "],e||(e=t.slice(0)),Mh=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"listeners",value:function(){}},{key:"connectors",value:function(){var t=this.configContext.getData("enabled_ai")?this.$("agora-layout-v2").$("agora-chat").$("agora-chat-window"):null,e=this.$("agora-layout-v2").$("agora-result-window"),n=this.configContext.getData("enabled_ai")?null:this.$("agora-layout-v2").$("agora-searchbar"),r=this.$("agora-layout-v2").$("agora-navigator"),o=this.$("agora-layout-v2").$("agora-landing"),i=this.$("agora-layout-v2").$("agora-metagora-navigator");e&&t&&e.signals.connect(t,"results-updated",(function(){return e.clear()})),e&&t&&e.signals.connect(t,"results-updated",(function(){return e.clear()})),e&&n&&(e.signals.connect(n,"no-results",(function(){return e.displayNoResultsMessage()})),e.signals.connect(n,"no-data-models",(function(){return e.displayNoDataModelsMessage()}))),r&&t&&r.signals.connect(t,"results-updated",(function(){return r.render()})),o&&r&&o.signals.connect(r,"changed-agora",(function(){return o.reset()})),i&&r&&r.signals.connect(i,"changed-agora",(function(t){return r.updateAgora(t.index,t.isMetagora)})),r&&e&&e.signals.connect(r,"changed-filters",(function(){return e.filterResults()})),e&&o&&(o.signals.connect(e,"display-no-results",(function(){return o.hide()})),o.signals.connect(e,"display-no-data-models",(function(){return o.hide()})),o.signals.connect(e,"clear-error-messages",(function(){return o.show()})))}},{key:"openCarousel",value:function(t,e){this.$("agora-layout-v2").$("agora-card-info-carousel-v2").setDisplayedCardId(t,e)}}],i&&zh(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,s,u}(r);window.customElements.define("agora-app",Vh)}},r={};function o(t){var e=r[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var i=r[t]={exports:{}};try{var a={id:t,module:i,factory:n[t],require:o};o.i.forEach((function(t){t(a)})),i=a.module,a.factory.call(i.exports,i,i.exports,a.require)}catch(t){throw i.error=t,t}return i.exports}o.m=n,o.c=r,o.i=[],o.hu=t=>t+"."+o.h()+".hot-update.js",o.hmrF=()=>"main."+o.h()+".hot-update.json",o.h=()=>"1e82ab8ac3b7eeade066",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="agora-ai-assistant-frontend:",o.l=(n,r,i,a)=>{if(t[n])t[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+i){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",e+i),s.src=n),t[n]=[r];var h=(e,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((t=>t(r))),e)return e(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},(()=>{var t,e,n,r={},i=o.c,a=[],s=[],c="idle",l=0,u=[];function f(t){c=t;for(var e=[],n=0;n<s.length;n++)e[n]=s[n].call(null,t);return Promise.all(e).then((function(){}))}function h(){0==--l&&f("ready").then((function(){if(0===l){var t=u;u=[];for(var e=0;e<t.length;e++)t[e]()}}))}function p(t){if("idle"!==c)throw new Error("check() is only allowed in idle status");return f("check").then(o.hmrM).then((function(n){return n?f("prepare").then((function(){var r=[];return e=[],Promise.all(Object.keys(o.hmrC).reduce((function(t,i){return o.hmrC[i](n.c,n.r,n.m,t,e,r),t}),[])).then((function(){return e=function(){return t?g(t):f("ready").then((function(){return r}))},0===l?e():new Promise((function(t){u.push((function(){t(e())}))}));var e}))})):f(v()?"ready":"idle").then((function(){return null}))}))}function d(t){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):g(t)}function g(t){t=t||{},v();var r=e.map((function(e){return e(t)}));e=void 0;var o=r.map((function(t){return t.error})).filter(Boolean);if(o.length>0)return f("abort").then((function(){throw o[0]}));var i=f("dispose");r.forEach((function(t){t.dispose&&t.dispose()}));var a,s=f("apply"),c=function(t){a||(a=t)},l=[];return r.forEach((function(t){if(t.apply){var e=t.apply(c);if(e)for(var n=0;n<e.length;n++)l.push(e[n])}})),Promise.all([i,s]).then((function(){return a?f("fail").then((function(){throw a})):n?g(t).then((function(t){return l.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):f("idle").then((function(){return l}))}))}function v(){if(n)return e||(e=[]),Object.keys(o.hmrI).forEach((function(t){n.forEach((function(n){o.hmrI[t](n,e)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(u){var g,v,y,m,b=u.module,w=function(e,n){var r=i[n];if(!r)return e;var o=function(o){if(r.hot.active){if(i[o]){var s=i[o].parents;-1===s.indexOf(n)&&s.push(n)}else a=[n],t=o;-1===r.children.indexOf(o)&&r.children.push(o)}else console.warn("[HMR] unexpected require("+o+") from disposed module "+n),a=[];return e(o)},s=function(t){return{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(n){e[t]=n}}};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&"e"!==u&&Object.defineProperty(o,u,s(u));return o.e=function(t,n){return function(t){switch(c){case"ready":f("prepare");case"prepare":return l++,t.then(h,h),t;default:return t}}(e.e(t,n))},o}(u.require,u.id);b.hot=(g=u.id,v=b,m={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=t!==g,_requireSelf:function(){a=v.parents.slice(),t=y?void 0:g,o(g)},active:!0,accept:function(t,e,n){if(void 0===t)m._selfAccepted=!0;else if("function"==typeof t)m._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var r=0;r<t.length;r++)m._acceptedDependencies[t[r]]=e||function(){},m._acceptedErrorHandlers[t[r]]=n;else m._acceptedDependencies[t]=e||function(){},m._acceptedErrorHandlers[t]=n},decline:function(t){if(void 0===t)m._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)m._declinedDependencies[t[e]]=!0;else m._declinedDependencies[t]=!0},dispose:function(t){m._disposeHandlers.push(t)},addDisposeHandler:function(t){m._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=m._disposeHandlers.indexOf(t);e>=0&&m._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":e=[],Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](g,e)})),f("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](g,e)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(g)}},check:p,apply:d,status:function(t){if(!t)return c;s.push(t)},addStatusHandler:function(t){s.push(t)},removeStatusHandler:function(t){var e=s.indexOf(t);e>=0&&s.splice(e,1)},data:r[g]},t=void 0,m),b.parents=a,b.children=[],a=[],u.require=w})),o.hmrC={},o.hmrI={}})(),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t,e,n,r,i,a=o.hmrS_jsonp=o.hmrS_jsonp||{792:0},s={};function c(e,n){return t=n,new Promise(((t,n)=>{s[e]=t;var r=o.p+o.hu(e),i=new Error;o.l(r,(t=>{if(s[e]){s[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading hot update chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function l(t){function s(t){for(var e=[t],n={},r=e.map((function(t){return{chain:[t],id:t}}));r.length>0;){var i=r.pop(),a=i.id,s=i.chain,l=o.c[a];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var u=0;u<l.parents.length;u++){var f=l.parents[u],h=o.c[f];if(h){if(h.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([f]),moduleId:a,parentId:f};-1===e.indexOf(f)&&(h.hot._acceptedDependencies[a]?(n[f]||(n[f]=[]),c(n[f],[a])):(delete n[f],e.push(f),r.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}o.f&&delete o.f.jsonpHmr,e=void 0;var l={},u=[],f={},h=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in n)if(o.o(n,p)){var d=n[p],g=d?s(p):{type:"disposed",moduleId:p},v=!1,y=!1,m=!1,b="";switch(g.chain&&(b="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of self decline: "+g.moduleId+b));break;case"declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+b));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(g),t.ignoreUnaccepted||(v=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":t.onAccepted&&t.onAccepted(g),y=!0;break;case"disposed":t.onDisposed&&t.onDisposed(g),m=!0;break;default:throw new Error("Unexception type "+g.type)}if(v)return{error:v};if(y)for(p in f[p]=d,c(u,g.outdatedModules),g.outdatedDependencies)o.o(g.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],g.outdatedDependencies[p]));m&&(c(u,[g.moduleId]),f[p]=h)}n=void 0;for(var w,_=[],x=0;x<u.length;x++){var k=u[x],S=o.c[k];S&&(S.hot._selfAccepted||S.hot._main)&&f[k]!==h&&!S.hot._selfInvalidated&&_.push({module:k,require:S.hot._requireSelf,errorHandler:S.hot._selfAccepted})}return{dispose:function(){var t;r.forEach((function(t){delete a[t]})),r=void 0;for(var e,n=u.slice();n.length>0;){var i=n.pop(),s=o.c[i];if(s){var c={},f=s.hot._disposeHandlers;for(x=0;x<f.length;x++)f[x].call(null,c);for(o.hmrD[i]=c,s.hot.active=!1,delete o.c[i],delete l[i],x=0;x<s.children.length;x++){var h=o.c[s.children[x]];h&&(t=h.parents.indexOf(i))>=0&&h.parents.splice(t,1)}}}for(var p in l)if(o.o(l,p)&&(s=o.c[p]))for(w=l[p],x=0;x<w.length;x++)e=w[x],(t=s.children.indexOf(e))>=0&&s.children.splice(t,1)},apply:function(e){for(var n in f)o.o(f,n)&&(o.m[n]=f[n]);for(var r=0;r<i.length;r++)i[r](o);for(var a in l)if(o.o(l,a)){var s=o.c[a];if(s){w=l[a];for(var c=[],h=[],p=[],d=0;d<w.length;d++){var g=w[d],v=s.hot._acceptedDependencies[g],y=s.hot._acceptedErrorHandlers[g];if(v){if(-1!==c.indexOf(v))continue;c.push(v),h.push(y),p.push(g)}}for(var m=0;m<c.length;m++)try{c[m].call(null,w)}catch(n){if("function"==typeof h[m])try{h[m](n,{moduleId:a,dependencyId:p[m]})}catch(r){t.onErrored&&t.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:p[m],error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:p[m],error:n}),t.ignoreErrored||e(n)}}}for(var b=0;b<_.length;b++){var x=_[b],k=x.module;try{x.require(k)}catch(n){if("function"==typeof x.errorHandler)try{x.errorHandler(n,{moduleId:k,module:o.c[k]})}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:k,error:n}),t.ignoreErrored||e(n)}}return u}}}self.webpackHotUpdateagora_ai_assistant_frontend=(e,r,a)=>{for(var c in r)o.o(r,c)&&(n[c]=r[c],t&&t.push(c));a&&i.push(a),s[e]&&(s[e](),s[e]=void 0)},o.hmrI.jsonp=function(t,e){n||(n={},i=[],r=[],e.push(l)),o.o(n,t)||(n[t]=o.m[t])},o.hmrC.jsonp=function(t,s,u,f,h,p){h.push(l),e={},r=s,n=u.reduce((function(t,e){return t[e]=!1,t}),{}),i=[],t.forEach((function(t){o.o(a,t)&&void 0!==a[t]?(f.push(c(t,p)),e[t]=!0):e[t]=!1})),o.f&&(o.f.jsonpHmr=function(t,n){e&&o.o(e,t)&&!e[t]&&(n.push(c(t)),e[t]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})(),o(582)})();
//# sourceMappingURL=bundle.js.map