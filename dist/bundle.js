/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,r={588:()=>{class t extends HTMLElement{constructor(t,e){super(),this.name=t,this.parentComponent=null,this.shadow=this.#t(),this.styles=this.#e(e),this.wrapper=this.#r(),this.signals=null,this.shadow.appendChild(this.styles),this.shadow.appendChild(this.wrapper)}connectedCallback(){this.render()}#t(){return this.attachShadow({mode:"open"})}#r(){const t=document.createElement("div");return t.classList.add(`${this.name}-wrapper`),t.setAttribute("plan","wrapper"),t}#e(t=null){const e=document.createElement("style");if(t){const r=new XMLHttpRequest;r.open("GET",t,!1),r.send(),e.textContent=r.responseText}return e}$(t){return this.wrapper.querySelector(t)||null}$$(t){return this.wrapper.querySelectorAll(t)||null}render(){this.wrapper.innerHTML=this.template(),this.#n(),this.listeners(),this.connectors()}template(){}listeners(){}connectors(){}#n(){this.wrapper.querySelectorAll("*").forEach((t=>{t.parentComponent=this}))}}class e{static instances={};constructor(t,r,n=!0,i="session"){this.name=`${t}Context`;const o=e.instances[this.name];if(o)return n&&o.subscribe(r),o;this.subscribers=[],this.location=i,this.#i(),n&&this.subscribe(r),e.instances[this.name]=this}#i(){"session"===this.location?!sessionStorage.getItem(this.name)&&sessionStorage.setItem(this.name,JSON.stringify({})):"local"===this.location&&!localStorage.getItem(this.name)&&localStorage.setItem(this.name,JSON.stringify({}))}#o(){this.subscribers.forEach((t=>{t.render()}))}subscribe(t){this.subscribers.includes(t)||this.subscribers.push(t)}setData(t,e=!1){if("session"===this.location){let e=JSON.parse(sessionStorage.getItem(this.name));if(!e)return;e={...e,...t},sessionStorage.setItem(this.name,JSON.stringify(e))}else if("local"===this.location){let e=JSON.parse(localStorage.getItem(this.name));if(!e)return;e={...e,...t},localStorage.setItem(this.name,JSON.stringify(e))}e&&this.#o()}getData(t){return"session"===this.location?JSON.parse(sessionStorage.getItem(this.name))[t]:JSON.parse(localStorage.getItem(this.name))[t]}clear(){"session"===this.location?sessionStorage.removeItem(this.name):"local"===this.location&&localStorage.removeItem(this.name),delete e.instances[this.name]}}class r{constructor(t){if(!t)throw new Error("You need to specify the parent of the signal. Use 'this' as default.");this.parent=t,this.registered={}}register(t){if(this.registered[t])throw new Error(`'${t}' signal already exists.`);this.registered[t]=[]}emit(t,e=null){this.registered[t].forEach((t=>{t.element[t.callback.name]?e?t.element[t.callback.name](e):t.element[t.callback.name]():e?t.callback(e):t.callback()}))}connect(t,e,r){if(!t.signals.registered[e])throw new Error(`${t}:'${e}' signal does not exist. Maybe you're trying to connect to ${this.#a(e)}...`);t.signals.registered[e].push({element:this.parent,callback:r})}#a(t){let e=[];this.registered.keys().forEach((r=>{let n=0;t.split().forEach(((t,e)=>{r.length-1<=e&&r[e]===t&&n++})),e[r]=n}));let r=null,n=0;return e.forEach(((t,e)=>{e>n&&(n=e,r=t)})),r}}class n{#s;#c;#u;constructor(t,e){this.#s=e,this.#c=t,this.#u=t}setState(t,e=!0){this.#c=this.#u,this.#u=t,e&&this.#s.render()}getState(){return this.#u}getPrevState(){return this.#c}}var i,o,a,s,c,u,l,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O,E,j="https://cdn.jsdelivr.net/gh/aUPaEU/agora-ai-assistant-frontend@main",T=("".concat(j,"/src"),"".concat(j,"/dist"),"".concat(j,"/public"),"".concat(j,"/src/components/base"),"".concat(j,"/src/components/mid"),"".concat(j,"/src/components/complex"),"".concat(j,"/src/components/layout"),"".concat(j,"/src/components/page"),{SRC:"src",DIST:"dist",PUBLIC:"public",BASE_COMPONENTS:"src/components/base",MID_COMPONENTS:"src/components/mid",COMPLEX_COMPONENTS:"src/components/complex",LAYOUT_COMPONENTS:"src/components/layout",PAGE_COMPONENTS:"src/components/page"}),C=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((function(t,e,n){return t+e+(r[n]||"")}),"")};function L(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var P=C(i||(i=L(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 34L2 18L18 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),A=C(o||(o=L(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 34L18 18L2 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),$=(C(a||(a=L(['\n    <svg width="24" height="24" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 2L18 18L34 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),C(s||(s=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 4V20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    </svg>\n'])))),D=C(c||(c=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    </svg>\n']))),M=C(u||(u=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.9365 3.4896V1.6H16.7429V0H10.2921V1.6H11.0984V3.4928C8.66324 4.0648 6.46675 5.5048 5 7.5336L6.31032 8.4664C7.67698 6.58507 9.73496 5.31287 12.0394 4.9248C13.0182 4.75882 14.0183 4.75882 14.9971 4.9248C17.0667 5.26453 18.9468 6.32399 20.3009 7.91351C21.6549 9.50303 22.3946 11.5188 22.3873 13.6C22.3873 18.452 18.408 22.4 13.5175 22.4C12.1094 22.3985 10.7218 22.0653 9.46887 21.4279C8.21591 20.7905 7.13338 19.8671 6.31032 18.7336L5.00081 19.6664C5.97334 21.006 7.25252 22.0973 8.73313 22.8507C10.2137 23.6041 11.8535 23.998 13.5175 24C19.2974 24 24 19.3344 24 13.6C24 8.7288 20.6456 4.5856 15.9365 3.4896ZM12.7111 3.2344V1.6H14.3238V3.2344C13.7871 3.1929 13.2479 3.1929 12.7111 3.2344Z" fill="currentColor"/>\n    <path d="M0 12.7169H7.32115V14.4779H0V12.7169ZM1.62692 9.19486H8.94807V10.9559H1.62692V9.19486ZM1.62692 16.239H8.94807V18H1.62692V16.239ZM17.8498 8L14.8741 11.2209C14.5485 11.0487 14.1912 10.9581 13.8288 10.9559C12.4834 10.9559 11.3884 12.1411 11.3884 13.5974C11.3884 15.0538 12.4834 16.239 13.8288 16.239C15.1743 16.239 16.2692 15.0538 16.2692 13.5974C16.2692 13.1906 16.1773 12.8102 16.0252 12.466L19 9.24505L17.8498 8ZM13.8288 14.4779C13.3806 14.4779 13.0154 14.0826 13.0154 13.5974C13.0154 13.1123 13.3806 12.7169 13.8288 12.7169C14.277 12.7169 14.6423 13.1123 14.6423 13.5974C14.6423 14.0826 14.277 14.4779 13.8288 14.4779Z" fill="currentColor"/>\n    </svg>\n']))),I=C(l||(l=L(['\n    <svg id="catalogue-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 6H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M4 18H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    </svg>\n']))),R=(C(f||(f=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 12C2 12 5.63636 5 12 5C18.3636 5 22 12 22 12C22 12 18.3636 19 12 19C5.63636 19 2 12 2 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),C(h||(h=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>\n    <path d="M3 8H21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M7 6H7.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <path d="M11 6H11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n'])))),N=C(p||(p=L(['\n    <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0.0152381 30.6667L32 16.6667L0.0152381 2.66669L0 13.5556L22.8571 16.6667L0 19.7778L0.0152381 30.6667Z" fill="currentColor"/>\n    </svg>\n']))),z=C(d||(d=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 7H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M10 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M14 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M6 7L7 19C7 19.5304 7.21071 20.0391 7.58579 20.4142C7.96086 20.7893 8.46957 21 9 21H15C15.5304 21 16.0391 20.7893 16.4142 20.4142C16.7893 20.0391 17 19.5304 17 19L18 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M9 7V4C9 3.73478 9.10536 3.48043 9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),B=(C(g||(g=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 22C12 22 19 16 19 9.5C19 5.35786 15.866 2 12 2C8.13401 2 5 5.35786 5 9.5C5 16 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="9.5" r="2.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),C(v||(v=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 3H8C7.44772 3 7 3.44772 7 4V21L12 18L17 21V4C17 3.44772 16.5523 3 16 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n'])))),F=C(y||(y=L(['\n    <svg id="Capa_2" data-name="Capa 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 658.08 657.97">\n        <defs>\n            <style>\n                .cls-1 {\n                fill: #3a85fe;\n                }\n\n                .cls-2 {\n                fill: #febd0b;\n                }\n\n                .cls-3 {\n                fill: #fe006e;\n                }\n\n                .cls-4 {\n                fill: #8238eb;\n                }\n\n                .cls-5 {\n                fill: #fa5607;\n                }\n            </style>\n        </defs>\n        <g id="Capa_1-2" data-name="Capa 1">\n        <path class="cls-2" d="M318.49,229.28c89.04-7.92,144.11,93.15,88.17,163.02-44.78,55.93-135.14,46.33-167.52-17.41-31.65-62.3,9.58-139.4,79.34-145.61Z"/>\n        <path class="cls-5" d="M330.39,459.87l2.84.83c17.63,19.48,39.12,36.96,56.48,56.48,52.92,59.49,11,147.48-68.51,140.38-39.16-3.5-70.49-38.81-72.56-77.37-2.95-55.05,49.76-83.94,81.74-120.32Z"/>\n        <path class="cls-5" d="M316.49.48c76-7.75,121.11,79.38,71.23,137.11-17.65,20.43-40.91,38.6-58.98,58.96l-2.55,1.49-2.55-1.49c-37.16-42.18-95.3-71.92-76.22-138.18C256.21,27.88,284.72,3.72,316.49.48Z"/>\n        <path class="cls-3" d="M234.69,238.97c-27.69-1.31-56.98,1.76-84.49,0-113.78-7.32-100.41-171.77,8.03-164.88,35.63,2.26,76.46,36.06,76.46,73.47v91.42Z"/>\n        <path class="cls-1" d="M71.49,247.26c23.94-2.44,46.51,4.05,64.73,19.66l61.4,61.61-1.39,2.39c-42.26,36.94-72.35,96.51-138.97,76.84-83.95-24.78-72.52-151.67,14.23-160.5Z"/>\n        <path class="cls-1" d="M565.49,247.26c59.39-6.04,105.16,46.45,89.49,104.39-15.5,57.32-87.79,78.51-132.81,40.21l-62.4-62.61,1.39-2.39c32.04-26.68,59.42-75.04,104.33-79.6Z"/>\n        <path class="cls-4" d="M237.69,422.8v95.41c0,14.05-16.07,39.15-26.53,48.43-61.42,54.54-155.86-3.87-134.76-83.68,7.76-29.36,40.22-60.16,71.78-60.16h89.5Z"/>\n        <path class="cls-3" d="M422.69,419.8h93.5c25.66,0,55.74,27.24,64.98,49.97,31.93,78.52-59.75,148.36-126.94,96.85-14.97-11.48-31.54-37.09-31.54-56.41v-90.42Z"/>\n        <path class="cls-4" d="M419.69,234.97v-94.41c0-21.13,22.97-49.27,40.69-59.25,66.87-37.68,143.92,26.9,118.76,99.67-8.8,25.46-39.99,53.99-67.96,53.99h-91.5Z"/>\n        </g>\n        </svg>\n']))),G=C(m||(m=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),H=C(b||(b=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12 16V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="8" r="1" fill="currentColor"/>\n    </svg>\n']))),q=C(w||(w=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),U=C(_||(_=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Y=(C(x||(x=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),C(k||(k=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 15L12 9L6 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),C(S||(S=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M16 16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n'])))),V=C(O||(O=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Z=C(E||(E=L(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>\n    <path d="M3 8H21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M7 6H7.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <path d="M11 6H11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n']))),W={"Research Infrastructure":{link:"https://www.research.manchester.ac.uk/research-infrastructure",description:"Access world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",subServices:{"Open Access Facilities":{link:"https://www.research.manchester.ac.uk/student-catalogue",description:"Access publicly available facilities including the National Graphene Institute, Manchester Institute of Biotechnology, and shared computing clusters.",subServices:{}},"Restricted Access Facilities":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Exclusive access to specialized infrastructure for confidential projects, including clean rooms, secure data centers, and private laboratory spaces.",subServices:{}}}},"Student Catalogue":{link:"https://www.research.manchester.ac.uk/student-catalogue",description:"Explore our database of over 5,000 student research projects and initiatives. Discover collaborative opportunities across all academic disciplines.",subServices:{}},"Funding Opportunities":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Navigate through research funding opportunities worth over £200 million annually. Find grants, fellowships, and scholarships tailored to your research area.",subServices:{"Local Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access regional funding through Greater Manchester Innovation Fund and Northern Powerhouse Investment Fund. Grants ranging from £10,000 to £500,000.",subServices:{"Enterprise Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Connect with local business funding including SME Innovation Vouchers and Knowledge Transfer Partnerships.",subServices:{}},"Non-Profit Organizations":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Explore funding from Wellcome Trust North, Cancer Research UK Manchester Centre, and local healthcare trusts.",subServices:{"Healthcare Trusts":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access specialized funding for rare diseases, public health initiatives, and clinical trials in Greater Manchester.",subServices:{}}}}}},"International Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access EU Horizon Europe grants, Global Challenges Research Fund, and Newton Fund partnerships. Funding from €50,000 to €5 million.",subServices:{}},Industry:{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Industry-sponsored opportunities from global corporations including GSK, Siemens, and BP. Funding from £100,000 to £2 million per project.",subServices:{}}}},"R&I Collaboration":{link:"https://www.research.manchester.ac.uk/r-i-collaboration",description:"Connect with our network of over 1,000 research partners across 100 countries through our dedicated partnership development team.",subServices:{}},Internships:{link:"https://www.research.manchester.ac.uk/internships",description:"Find research internship opportunities ranging from 8-week summer placements to year-long positions, with competitive stipends.",subServices:{}},"Faculty and Staff":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources and support services for 5,000+ academic staff and researchers. Access career development and research support.",subServices:{"Academic Staff":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for 2,000+ faculty members, including research development support and leadership development opportunities.",subServices:{"Teaching Resources":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Access teaching resources, departmental research strategies, and support for research group leadership.",subServices:{}}}},"Professional Services":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for 3,000+ professional services staff, including administrative procedures and development opportunities.",subServices:{"Research Support":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Support for research staff including funding opportunities and career development programs.",subServices:{}},Operations:{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for managing research projects, including grant management and compliance guidelines.",subServices:{"Research Management":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Guidance for research administration including award management and ethical approval processes.",subServices:{}}}}}}}},Stakeholders:{link:"https://www.research.manchester.ac.uk/stakeholders",description:"Connect with industrial partners, government agencies, and community organizations. Access partnership opportunities and engagement initiatives.",subServices:{}},Projects:{link:"https://www.research.manchester.ac.uk/projects",description:"Explore our portfolio of 2,000+ active research projects addressing global challenges across all academic disciplines.",subServices:{"Active Projects":{link:"https://www.research.manchester.ac.uk/projects",description:"Browse 1,200+ current projects worth over £500 million. Find collaboration opportunities and engage with research teams.",subServices:{}},"Project Archive":{link:"https://www.research.manchester.ac.uk/projects",description:"Access our archive of 5,000+ completed projects, including outcomes, impact statements, and published findings.",subServices:{}}}}},J={"Sudent Services":{description:"Unite! offerings and activities open to students enrolled in any of the nine Unite! partner universities",showcase:"",subServices:[],catalogues:[{name:"Student Catalogue",description:"Explore our database of over 5,000 student research projects and initiatives. Discover collaborative opportunities across all academic disciplines.",models:[{name:"Course Catalogue",model:"student.course"},{name:"Extracurricular Activity Catalogue",model:"student.extra.activity"},{name:"Joint Programmes Catalogue",model:"student.jp"},{name:"MOOCs Catalogue",model:"student.mooc"}],websites:[{view_name:"Course",page_url:"https://agora.unite-university.eu/student-catalogue/course"},{view_name:"Extracurricular Activity",page_url:"https://agora.unite-university.eu/student-catalogue/extra-act"},{view_name:"Joint Programmes",page_url:"https://agora.unite-university.eu/student-catalogue/jp"},{view_name:"MOOCs",page_url:"https://agora.unite-university.eu/student-catalogue/mooc"}]}]},"Faculty & Staff Community Platform":{description:"Digital platform for Faculty & Staff members of Unite!",showcase:"https://facultyandstaff.unite-university.eu/",subServices:[{name:"Training Catalogue",description:"Faculty and Staff Trainings catalogue.",showcase:"https://agora.unite-university.eu/faculty-and-staff-training-catalogue",subServices:[],catalogues:[{name:"Training Catalogue",description:"Access trainings and courses offered by Unite!",models:[{name:"Certifications",model:"staff.course.certification"},{name:"Course Language",model:"staff.course.language"},{name:"Course Modality",model:"staff.course.modality"},{name:"Course Public",model:"staff.course.public"},{name:"Course Topic",model:"staff.course.topic"},{name:"Faculty & Staff Courses",model:"staff.course"},{name:"Organising Partner",model:"staff.course.partner"}],websites:[{view_name:"Trainings",page_url:"https://agora.unite-university.eu/resources/trainings"},{view_name:"Documentation",page_url:"https://agora.unite-university.eu/resources/documentation"}]}]},{name:"Academic Staff",description:"Resources for 2,000+ faculty members, including research development support and leadership development opportunities.",showcase:"",subServices:[],catalogues:[{name:"Training Catalogue",description:"Access trainings and courses offered by Unite!",models:[{name:"Certifications",model:"staff.course.certification"},{name:"Course Language",model:"staff.course.language"},{name:"Course Modality",model:"staff.course.modality"},{name:"Course Public",model:"staff.course.public"},{name:"Course Topic",model:"staff.course.topic"},{name:"Faculty & Staff Courses",model:"staff.course"},{name:"Organising Partner",model:"staff.course.partner"}],websites:[{view_name:"Staff Members",page_url:"https://agora.unite-university.eu/resources/staff-members"}]}]}],catalogues:[]},"Research Infrastructure":{description:"Access world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",showcase:"",subServices:[],catalogues:[{name:"Research Infrastructure Catalogue",description:"Access our catalogue of world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",models:[{name:"Infrastructures",model:"resources.infrastructure"}],websites:[{view_name:"Available Infrastructures",page_url:"https://agora.unite-university.eu/resources/infrastructure"}]}]},"Speech Language and AI":{description:"Unite! is a leading provider of speech language and AI research and development. Unite! is committed to advancing the state of the art in speech language and AI research and development.",showcase:"https://agora.unite-university.eu/speech-language-and-ai",subServices:[],catalogues:[]},"Welcome Inclusion and Wellbeing":{description:"Unite! is committed to creating a welcoming and inclusive environment for all members of the Unite! community.",showcase:"https://agora.unite-university.eu/welcome-inclusion-and-wellbeing",subServices:[],catalogues:[]}};function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function K(){K=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==X(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(X(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function tt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function et(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){tt(o,n,i,a,s,"next",t)}function s(t){tt(o,n,i,a,s,"throw",t)}a(void 0)}))}}var rt,nt,it,ot,at,st,ct,ut,lt,ft=function(){var t=et(K().mark((function t(){var e;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=J,t.abrupt("return",e);case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),ht=function(){var t=et(K().mark((function t(){var e;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=W,t.abrupt("return",e);case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),pt=function(){var t=et(K().mark((function t(e,r){var n,i,o;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(e,"/catalogue-api/v1/acceleration-services/").concat(r),t.next=4,fetch(n);case 4:if((i=t.sent).ok){t.next=7;break}throw new Error("Something went wrong while fetching Agora services");case 7:return t.next=9,i.json();case 9:return o=t.sent,t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}(),dt=function(){var t=et(K().mark((function t(e,r,n){var i,o,a,s,c=arguments;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=new Set(["id","name","description","summary","university_origin"].concat(c.length>3&&void 0!==c[3]?c[3]:null)),i=function(t){if(Array.isArray(t))return Q(t)}(u)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(u)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t.prev=3,o="".concat(e,"/catalogue-api/v1/ai/").concat(r,"/").concat(n,"?fields=").concat(i),t.next=7,fetch(o);case 7:if((a=t.sent).ok){t.next=10;break}throw new Error("Something went wrong while fetching element");case 10:return t.next=12,a.json();case 12:return s=t.sent,t.abrupt("return",s);case 16:throw t.prev=16,t.t0=t.catch(3),t.t0;case 19:case"end":return t.stop()}var u}),t,null,[[3,16]])})));return function(e,r,n){return t.apply(this,arguments)}}(),gt=function(){var t=et(K().mark((function t(e,r,n,i){var o,a,s,c;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={user_input:r,models:n,history_messages:i},t.prev=1,a="".concat(e,"/ai_assistant_app/send_message/openai"),t.next=5,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:if((s=t.sent).ok){t.next=8;break}throw new Error("Something went wrong while sending message");case 8:return t.next=10,s.json();case 10:return c=t.sent,t.abrupt("return",c);case 14:throw t.prev=14,t.t0=t.catch(1),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,r,n,i){return t.apply(this,arguments)}}(),vt=function(){var t=et(K().mark((function t(e,r){var n,i,o,a,s=arguments;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:[],r&&0!==r.length){t.next=5;break}throw new Error("No query provided");case 5:if(0!==n.length){t.next=7;break}throw new Error("No models provided for the search");case 7:return i="".concat(e,"/elastic/search?query=").concat(r,"&models=").concat(n.join()),t.prev=8,t.next=11,fetch(i);case 11:if((o=t.sent).ok){t.next=14;break}throw new Error("Something went wrong while making the search");case 14:return t.next=16,o.json();case 16:return a=t.sent,t.abrupt("return",a);case 20:throw t.prev=20,t.t0=t.catch(8),t.t0;case 23:case"end":return t.stop()}}),t,null,[[8,20]])})));return function(e,r){return t.apply(this,arguments)}}();function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function mt(){mt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==yt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(yt(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function bt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _t(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t){if("object"!=yt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yt(e)?e:e+""}function Ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ot=function(){return!!t})()}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}var Tt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,r){return e=Et(e),function(t,e){if(e&&("object"==yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ot()?Reflect.construct(e,r||[],Et(t).constructor):e.apply(t,r))}(this,e,["agora-navbar","".concat(T.BASE_COMPONENTS,"/Navbar/Navbar.css")])).menuItems=new n(null,t),t.fetchMenuItems(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(e,t),r=e,i=[{key:"template",value:function(){return this.menuItems.getState()?C(rt||(rt=xt(['\n            <div class="main-wrapper">\n                <div class="left-fade">\n                    <div class="left-arrow-icon">','</div>\n                </div>\n\n                <ul class="menu">\n                    <li class="separator"></li>\n                    ','\n                    <li class="separator"></li>\n                </ul>\n                \n                <div class="right-fade">\n                    <div class="right-arrow-icon">','</div>\n                </div>\n            </div>\n            \n            <div class="secondary-wrapper"></div>\n        '])),P,Object.entries(this.menuItems.getState()).map((function(t){var e=wt(t,2),r=e[0],n=e[1];return C(nt||(nt=xt(['\n                            <li class="item" data-info=\'',"'>\n                                <a href=\"",'">',"</a>\n                                ","\n                            </li>\n                        "])),JSON.stringify(n),n.link,r,Object.entries(n.subServices).length>0?C(it||(it=xt(['<div class="unfold-icon">',"</div>"])),$):"")})).join(""),A):""}},{key:"listeners",value:function(){var t=this;document.addEventListener("wheel",(function(e){return t.handleScroll(e)})),this.$(".left-arrow-icon")&&(this.$(".left-arrow-icon").onclick=function(){return t.scrollLeft()}),this.$(".right-arrow-icon")&&(this.$(".right-arrow-icon").onclick=function(){return t.scrollRight()}),this.$$(".menu .item:has(> .unfold-icon)").forEach((function(e){e.querySelector(".unfold-icon").onclick=function(){return t.updateSubmenu(e)}}))}},{key:"updateSubmenu",value:function(t){this.setUnfoldedItem(t);var e=this.$(".secondary-wrapper");e.innerHTML=C(ot||(ot=xt(['\n            <div class="submenu"></div>\n        '])));var r=this.$(".secondary-wrapper .submenu");Object.entries(JSON.parse(t.dataset.info).subServices).forEach((function(t){var e=wt(t,2),n=e[0],i=e[1];r.innerHTML+=C(at||(at=xt(['\n                <li class="item" data-info=\'',"'>\n                    <a href=\"",'">',"</a>\n                    ","\n                </li>\n            "])),JSON.stringify(i),i.link,n,Object.entries(i.subServices).length>0?C(st||(st=xt(['<div class="unfold-icon">',"</div>"])),$):"")})),this.animateSubmenu(e),this.addSubmenuItemListener()}},{key:"addSubmenu",value:function(t){this.setUnfoldedItem(t);for(var e=JSON.parse(t.dataset.info).subServices,r=t.parentElement.nextElementSibling;r;)r.remove(),r=t.parentElement.nextElementSibling;var n=C(ct||(ct=xt(['\n            <ul class="submenu">\n                ',"\n            </ul>\n        "])),Object.entries(e).map((function(t){var e=wt(t,2),r=e[0],n=e[1];return C(ut||(ut=xt(['\n                        <li class="item" data-info=\'',"'>\n                            <a href=\"",'">',"</a>\n                            ","\n                        </li>\n                    "])),JSON.stringify(n),n.link,r,Object.entries(n.subServices).length>0?C(lt||(lt=xt(['<div class="unfold-icon">',"</div>"])),$):"")})).join("")),i=this.$(".secondary-wrapper");i.innerHTML+=n,this.animateSubmenu(i),this.addSubmenuItemListener()}},{key:"addSubmenuItemListener",value:function(){var t=this;this.$$(".submenu .item:has(> .unfold-icon)").forEach((function(e){e.querySelector(".unfold-icon").onclick=function(){return t.addSubmenu(e)}}))}},{key:"animateSubmenu",value:function(t){t.querySelector(".submenu:last-child").classList.add("fade-in"),t.querySelector(".submenu:last-child").onanimationend=function(){return t.querySelector(".submenu:last-child").classList.remove("fade-in")}}},{key:"setUnfoldedItem",value:function(t){t.parentElement.querySelectorAll(".item").forEach((function(t){t.querySelector(".unfold-icon")&&t.querySelector(".unfold-icon").classList.remove("unfolded")})),t.querySelector(".unfold-icon").classList.add("unfolded")}},{key:"foldAllSubmenus",value:function(){this.$(".menu").querySelectorAll(".item").forEach((function(t){t.querySelector(".unfold-icon")&&t.querySelector(".unfold-icon").classList.remove("unfolded")})),this.$(".secondary-wrapper").innerHTML=""}},{key:"scrollRight",value:function(){this.scrollIsAtEnd()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft+200,behavior:"smooth"})}},{key:"mouseScrollRight",value:function(){this.scrollIsAtEnd()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft+10})}},{key:"scrollLeft",value:function(){this.scrollIsAtStart()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft-200,behavior:"smooth"})}},{key:"mouseScrollLeft",value:function(){this.scrollIsAtStart()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft-10})}},{key:"scrollIsAtEnd",value:function(){return this.$(".main-wrapper").scrollLeft<this.$(".main-wrapper").scrollWidth-this.$(".main-wrapper").clientWidth}},{key:"scrollIsAtStart",value:function(){return this.$(".main-wrapper").scrollLeft>0}},{key:"handleScroll",value:function(t){t.deltaY>0?this.mouseScrollRight():t.deltaY<0&&this.mouseScrollLeft()}},{key:"fetchMenuItems",value:(o=mt().mark((function t(){var e;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft();case 2:e=t.sent,console.log(e),this.menuItems.setState(e);case 5:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){bt(i,r,n,a,s,"next",t)}function s(t){bt(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})}],i&&kt(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o,a}(t);window.customElements.define("agora-navbar",Tt);var Ct,Lt,Pt,At,$t="Unite!",Dt="https://agora.unite-university.eu",Mt=1,It=!1,Rt="http://localhost:2000",Nt={ACCELERATION_SERVICE:"Acceleration Service",ACCELERATION_SUB_SERVICE:"Service",CATALOGUE:"Catalogue",SHOWCASE:"Showcase"},zt=function(t,e){return"string"==typeof e?e.replace(/'/g,'"'):e};function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Ft(){Ft=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Bt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Bt(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Gt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Ht(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ut(t,e):void 0}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function Zt(t){var e=function(t){if("object"!=Bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bt(e)?e:e+""}function Wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wt=function(){return!!t})()}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}var Qt,Kt,te,ee,re,ne,ie,oe,ae=function(t){function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(t,e,r){return e=Jt(e),function(t,e){if(e&&("object"==Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wt()?Reflect.construct(e,r||[],Jt(t).constructor):e.apply(t,r))}(this,i,["agora-navigator","".concat(T.BASE_COMPONENTS,"/Navigator/Navigator.css")])).signals=new r(t),t.configContext=new e("config",t,!1),t.resultContext=new e("result",t,!0),t.serviceContext=new e("service",t,!1),t.error=new n(null,t),t.items=new n(null,t),t.ensureConfig(),t.fetchItems(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(i,t),o=i,a=[{key:"ensureConfig",value:function(){var t,e,r,n,i,o=window.document.querySelector("agora-app"),a={name:null!==(t=o.getAttribute("name"))&&void 0!==t?t:$t,host:null!==(e=o.getAttribute("host"))&&void 0!==e?e:Dt,company_id:null!==(r=o.getAttribute("company_id"))&&void 0!==r?r:Mt,enabled_ai:null!==(n=o.hasAttribute("enabled_ai"))&&void 0!==n?n:It,ai_host:null!==(i=o.getAttribute("ai_host"))&&void 0!==i?i:Rt};this.configContext.setData(a)}},{key:"template",value:function(){var t=this;if(this.error.getState())return C(Ct||(Ct=Yt(['\n            <div class="error-wrapper">\n                <h1>Oops! Looks like an error...</h1>\n                <p>Something went wrong while connecting to the server.<br> Wait some seconds and try reloading the page.</p>\n            </div>\n        '])));if(!this.items.getState())return C(Lt||(Lt=Yt(['\n            <agora-base-loader width="500" height="500"></agora-base-loader>\n        '])));var e=this.resultContext.getData("data")?Ht(new Set(this.resultContext.getData("data").map((function(t){return t.service})))):[];return C(Pt||(Pt=Yt(['\n            <div class="menu-unfold-button">','</div>\n            <ul class="menu">\n                ',"\n            </ul>\n        "])),I,Object.entries(this.items.getState()).map((function(r){var n,i,o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||qt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),a=(o[0],o[1]);return C(At||(At=Yt(['\n                            <agora-navigator-item \n                                class="',"\"\n                                data-name='","'\n                                data-info='","'\n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),(n=a.fields.name,!(i=t.resultContext.getData("data"))||0===i.length||e.includes(n)?"":"not-in-result"),a.fields.name,JSON.stringify(a.fields,zt),Nt.ACCELERATION_SERVICE)})).join(""))}},{key:"listeners",value:function(){var t=this;this.$(".menu-unfold-button")&&(this.$(".menu-unfold-button").onclick=function(){return t.toogleMenu()})}},{key:"toogleMenu",value:function(){this.$(".menu").classList.toggle("expanded"),this.$(".menu").classList.contains("expanded")?this.$(".menu-unfold-button").innerHTML=G:this.$(".menu-unfold-button").innerHTML=I}},{key:"fetchItems",value:(s=Ft().mark((function t(){var e,r;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt(this.configContext.getData("host"),this.configContext.getData("company_id"));case 3:e=t.sent,r=[],void 0===e.items[0].fields.sub_acceleration_services.length?r=[e.items[0].fields.sub_acceleration_services]:e.items[0].fields.sub_acceleration_services.length>1&&(r=Ht(e.items[0].fields.sub_acceleration_services)),r.sort((function(t,e){return t.fields.name<e.fields.name?-1:t.fields.name>e.fields.name?1:0})),r=r.filter((function(t){return"active"===t.fields.stage})),this.items.setState(r),this.serviceContext.setData({services:r},!0),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),this.error.setState(t.t0),console.error("Exception manage when fetching services have to be implemented",t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})),c=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=s.apply(t,e);function o(t){Gt(i,r,n,o,a,"next",t)}function a(t){Gt(i,r,n,o,a,"throw",t)}o(void 0)}))},function(){return c.apply(this,arguments)})},{key:"initialDisplay",value:function(){Array.from(this.$(".menu").children).forEach((function(t){console.log("ITEM",t),t.classList.remove("not-in-result")}))}}],a&&Vt(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,s,c}(t);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ce(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function le(t){var e=function(t){if("object"!=se(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:e+""}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fe=function(){return!!t})()}function he(t){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},he(t)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}window.customElements.define("agora-navigator",ae);var de=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=he(e),function(t,e){if(e&&("object"==se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fe()?Reflect.construct(e,r||[],he(t).constructor):e.apply(t,r))}(this,r,["agora-navigator-item","".concat(T.BASE_COMPONENTS,"/NavigatorItem/NavigatorItem.css")])).configContext=new e("config",t,!1),t.name=new n(t.dataset.name,t),t.info=new n(JSON.parse(t.dataset.info),t),t.type=new n(t.dataset.type,t),t.unfolded=new n(!1,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(r,t),i=r,(o=[{key:"template",value:function(){var t=this,e=this.name.getState(),r=this.info.getState(),n=this.info.getState().website?this.info.getState().website.fields:null,i=C(Qt||(Qt=ce(['\n            <div class="type-icon">',"\n            </div>\n        "])),function(){switch(t.type.getState()){case Nt.ACCELERATION_SERVICE:case Nt.ACCELERATION_SUB_SERVICE:return M;case Nt.CATALOGUE:return I;case Nt.SHOWCASE:return R}}()),o=[Nt.CATALOGUE,Nt.SHOWCASE].includes(this.type.getState())?"":C(Kt||(Kt=ce(["\n                ","\n            "])),Object.entries(r.sub_acceleration_services).length>0||Object.entries(r.catalogues).length>0?C(te||(te=ce(['<div class="unfold-icon">',"</div>"])),$):"");return C(ee||(ee=ce(['\n            \x3c!-- Item --\x3e\n            <li class="item '," ",'">\n                ','\n                <a \n                    class="label" \n                    ',"\n                    ","\n                >\n                    ","\n                    <span>",'</span>\n                </a>\n                <a \n                    class="label hover" \n                    ',"\n                    ","\n                >\n                    ","\n                    <span>","</span>\n                </a>\n                ",'\n            </li>\n\n            \x3c!-- Submenu --\x3e\n            <ul class="submenu">\n            </ul>\n        '])),this.type.getState().toLowerCase().replace(" ","-"),r&&n||r&&r.url?"has-showcase":"",i,r&&n?'href="'.concat(n.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",e,this.type.getState(),r&&n?'href="'.concat(n.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",e,this.type.getState(),o)}},{key:"listeners",value:function(){var t=this;this.$(".label").onclick=function(){return t.navigateToShowcase()},this.$(".unfold-icon")&&(this.$(".unfold-icon").onclick=function(){return t.unfold()})}},{key:"unfold",value:function(){var t,e;if(this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".unfold-icon").innerHTML=this.unfolded.getState()?D:$,this.$(".submenu").innerHTML="",!this.unfolded.getPrevState()){var r=null!==(t=this.info.getState().sub_acceleration_services)&&void 0!==t?t:[],n=null!==(e=this.info.getState().catalogues.websites)&&void 0!==e?e:[];r.length>0&&(this.$(".submenu").innerHTML+=C(re||(re=ce(["\n                ","\n            "])),r.map((function(t){return C(ne||(ne=ce(["\n                            <agora-navigator-item \n                                data-name='","'\n                                data-info='","' \n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),t.fields.name,JSON.stringify(t.fields),Nt.ACCELERATION_SUB_SERVICE)})).join(""))),n.length>0&&(this.$(".submenu").innerHTML+=C(ie||(ie=ce(["\n                ","\n            "])),n.map((function(t){return C(oe||(oe=ce(["\n                        <agora-navigator-item \n                            data-name='","'\n                            data-info='","' \n                            data-type='","'>\n                        </agora-navigator-item>\n                    "])),t.name,JSON.stringify(t),Nt.CATALOGUE)})).join("")))}}},{key:"navigateToShowcase",value:function(){this.info.getState().showcase&&(window.location.href=this.info.getState().showcase)}}])&&ue(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o}(t);function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}window.customElements.define("agora-navigator-item",de);var ye,me,be,we,_e,xe,ke,Se,Oe,Ee,je,Te,Ce,Le,Pe,Ae,$e,De={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Me={duration:.5,overwrite:!1,delay:0},Ie=1e8,Re=1e-8,Ne=2*Math.PI,ze=Ne/4,Be=0,Fe=Math.sqrt,Ge=Math.cos,He=Math.sin,qe=function(t){return"string"==typeof t},Ue=function(t){return"function"==typeof t},Ye=function(t){return"number"==typeof t},Ve=function(t){return void 0===t},Ze=function(t){return"object"==typeof t},We=function(t){return!1!==t},Je=function(){return"undefined"!=typeof window},Xe=function(t){return Ue(t)||qe(t)},Qe="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ke=Array.isArray,tr=/(?:-?\.?\d|\.)+/gi,er=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ir=/[+-]=-?[.\d]+/,or=/[^,'"\[\]\s]+/gi,ar=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,sr={},cr={},ur=function(t){return(cr=Nr(t,sr))&&zi},lr=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},fr=function(t,e){return!e&&console.warn(t)},hr=function(t,e){return t&&(sr[t]=e)&&cr&&(cr[t]=e)||sr},pr=function(){return 0},dr={suppressEvents:!0,isStart:!0,kill:!1},gr={suppressEvents:!0,kill:!1},vr={suppressEvents:!0},yr={},mr=[],br={},wr={},_r={},xr=30,kr=[],Sr="",Or=function(t){var e,r,n=t[0];if(Ze(n)||Ue(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(r=kr.length;r--&&!kr[r].targetTest(n););e=kr[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Kn(t[r],e)))||t.splice(r,1);return t},Er=function(t){return t._gsap||Or(vn(t))[0]._gsap},jr=function(t,e,r){return(r=t[e])&&Ue(r)?t[e]():Ve(r)&&t.getAttribute&&t.getAttribute(e)||r},Tr=function(t,e){return(t=t.split(",")).forEach(e)||t},Cr=function(t){return Math.round(1e5*t)/1e5||0},Lr=function(t){return Math.round(1e7*t)/1e7||0},Pr=function(t,e){var r=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===r?t+n:"-"===r?t-n:"*"===r?t*n:t/n},Ar=function(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r},$r=function(){var t,e,r=mr.length,n=mr.slice(0);for(br={},mr.length=0,t=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Dr=function(t,e,r,n){mr.length&&!me&&$r(),t.render(e,r,n||me&&e<0&&(t._initted||t._startAt)),mr.length&&!me&&$r()},Mr=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(or).length<2?e:qe(t)?t.trim():t},Ir=function(t){return t},Rr=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},Nr=function(t,e){for(var r in e)t[r]=e[r];return t},zr=function t(e,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=Ze(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Br=function(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n},Fr=function(t){var e,r=t.parent||we,n=t.keyframes?(e=Ke(t.keyframes),function(t,r){for(var n in r)n in t||"duration"===n&&e||"ease"===n||(t[n]=r[n])}):Rr;if(We(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},Gr=function(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var o,a=t[n];if(i)for(o=e[i];a&&a[i]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=a,e.parent=e._dp=t,e},Hr=function(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,o=e._next;i?i._next=o:t[r]===e&&(t[r]=o),o?o._prev=i:t[n]===e&&(t[n]=i),e._next=e._prev=e.parent=null},qr=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Ur=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},Yr=function(t,e,r,n){return t._startAt&&(me?t._startAt.revert(gr):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},Vr=function t(e){return!e||e._ts&&t(e.parent)},Zr=function(t){return t._repeat?Wr(t._tTime,t=t.duration()+t._rDelay)*t:0},Wr=function(t,e){var r=Math.floor(t=Lr(t/e));return t&&r===t?r-1:r},Jr=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Xr=function(t){return t._end=Lr(t._start+(t._tDur/Math.abs(t._ts||t._rts||Re)||0))},Qr=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Lr(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Xr(t),r._dirty||Ur(r,t)),t},Kr=function(t,e){var r;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(r=Jr(t.rawTime(),e),(!e._dur||hn(0,e.totalDuration(),r)-e._tTime>Re)&&e.render(r,!0)),Ur(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},tn=function(t,e,r,n){return e.parent&&qr(e),e._start=Lr((Ye(r)?r:r||t!==we?un(t,r,e):t._time)+e._delay),e._end=Lr(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Gr(t,e,"_first","_last",t._sort?"_start":0),on(e)||(t._recent=e),n||Kr(t,e),t._ts<0&&Qr(t,t._tTime),t},en=function(t,e){return(sr.ScrollTrigger||lr("scrollTrigger",e))&&sr.ScrollTrigger.create(e,t)},rn=function(t,e,r,n,i){return si(t,e,i),t._initted?!r&&t._pt&&!me&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Oe!==Bn.frame?(mr.push(t),t._lazy=[i,n],1):void 0:1},nn=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},on=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},an=function(t,e,r,n){var i=t._repeat,o=Lr(e)||0,a=t._tTime/t._tDur;return a&&!n&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:Lr(o*(i+1)+t._rDelay*i):o,a>0&&!n&&Qr(t,t._tTime=t._tDur*a),t.parent&&Xr(t),r||Ur(t.parent,t),t},sn=function(t){return t instanceof ei?Ur(t):an(t,t._dur)},cn={_start:0,endTime:pr,totalDuration:pr},un=function t(e,r,n){var i,o,a,s=e.labels,c=e._recent||cn,u=e.duration()>=Ie?c.endTime(!1):e._dur;return qe(r)&&(isNaN(r)||r in s)?(o=r.charAt(0),a="%"===r.substr(-1),i=r.indexOf("="),"<"===o||">"===o?(i>=0&&(r=r.replace(/=/,"")),("<"===o?c._start:c.endTime(c._repeat>=0))+(parseFloat(r.substr(1))||0)*(a?(i<0?c:n).totalDuration()/100:1)):i<0?(r in s||(s[r]=u),s[r]):(o=parseFloat(r.charAt(i-1)+r.substr(i+1)),a&&n&&(o=o/100*(Ke(n)?n[0]:n).totalDuration()),i>1?t(e,r.substr(0,i-1),n)+o:u+o)):null==r?u:+r},ln=function(t,e,r){var n,i,o=Ye(e[1]),a=(o?2:1)+(t<2?0:1),s=e[a];if(o&&(s.duration=e[1]),s.parent=r,t){for(n=s,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=We(i.vars.inherit)&&i.parent;s.immediateRender=We(n.immediateRender),t<2?s.runBackwards=1:s.startAt=e[a-1]}return new hi(e[0],s,e[a+1])},fn=function(t,e){return t||0===t?e(t):e},hn=function(t,e,r){return r<t?t:r>e?e:r},pn=function(t,e){return qe(t)&&(e=ar.exec(t))?e[1]:""},dn=[].slice,gn=function(t,e){return t&&Ze(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ze(t[0]))&&!t.nodeType&&t!==_e},vn=function(t,e,r){return be&&!e&&be.selector?be.selector(t):!qe(t)||r||!xe&&Fn()?Ke(t)?function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var n;return qe(t)&&!e||gn(t,1)?(n=r).push.apply(n,vn(t)):r.push(t)}))||r}(t,r):gn(t)?dn.call(t,0):t?[t]:[]:dn.call((e||ke).querySelectorAll(t),0)},yn=function(t){return t=vn(t)[0]||fr("Invalid scope")||{},function(e){var r=t.current||t.nativeElement||t;return vn(e,r.querySelectorAll?r:r===t?fr("Invalid scope")||ke.createElement("div"):t)}},mn=function(t){return t.sort((function(){return.5-Math.random()}))},bn=function(t){if(Ue(t))return t;var e=Ze(t)?t:{each:t},r=Zn(e.ease),n=e.from||0,i=parseFloat(e.base)||0,o={},a=n>0&&n<1,s=isNaN(n)||a,c=e.axis,u=n,l=n;return qe(n)?u=l={center:.5,edges:.5,end:1}[n]||0:!a&&s&&(u=n[0],l=n[1]),function(t,a,f){var h,p,d,g,v,y,m,b,w,_=(f||e).length,x=o[_];if(!x){if(!(w="auto"===e.grid?0:(e.grid||[1,Ie])[1])){for(m=-Ie;m<(m=f[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(x=o[_]=[],h=s?Math.min(w,_)*u-.5:n%w,p=w===Ie?0:s?_*l/w-.5:n/w|0,m=0,b=Ie,y=0;y<_;y++)d=y%w-h,g=p-(y/w|0),x[y]=v=c?Math.abs("y"===c?g:d):Fe(d*d+g*g),v>m&&(m=v),v<b&&(b=v);"random"===n&&mn(x),x.max=m-b,x.min=b,x.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(w>_?_-1:c?"y"===c?_/w:w:Math.max(w,_/w))||0)*("edges"===n?-1:1),x.b=_<0?i-_:i,x.u=pn(e.amount||e.each)||0,r=r&&_<0?Yn(r):r}return _=(x[t]-x.min)/x.max||0,Lr(x.b+(r?r(_):_)*x.v)+x.u}},wn=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var n=Lr(Math.round(parseFloat(r)/t)*t*e);return(n-n%1)/e+(Ye(r)?0:pn(r))}},_n=function(t,e){var r,n,i=Ke(t);return!i&&Ze(t)&&(r=i=t.radius||Ie,t.values?(t=vn(t.values),(n=!Ye(t[0]))&&(r*=r)):t=wn(t.increment)),fn(e,i?Ue(t)?function(e){return n=t(e),Math.abs(n-e)<=r?n:e}:function(e){for(var i,o,a=parseFloat(n?e.x:e),s=parseFloat(n?e.y:0),c=Ie,u=0,l=t.length;l--;)(i=n?(i=t[l].x-a)*i+(o=t[l].y-s)*o:Math.abs(t[l]-a))<c&&(c=i,u=l);return u=!r||c<=r?t[u]:e,n||u===e||Ye(e)?u:u+pn(e)}:wn(t))},xn=function(t,e,r,n){return fn(Ke(t)?!e:!0===r?!!(r=0):!n,(function(){return Ke(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*n)/n}))},kn=function(t,e,r){return fn(r,(function(r){return t[~~e(r)]}))},Sn=function(t){for(var e,r,n,i,o=0,a="";~(e=t.indexOf("random(",o));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?or:tr),a+=t.substr(o,e-o)+xn(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),o=n+1;return a+t.substr(o,t.length-o)},On=function(t,e,r,n,i){var o=e-t,a=n-r;return fn(i,(function(e){return r+((e-t)/o*a||0)}))},En=function(t,e,r){var n,i,o,a=t.labels,s=Ie;for(n in a)(i=a[n]-e)<0==!!r&&i&&s>(i=Math.abs(i))&&(o=n,s=i);return o},jn=function(t,e,r){var n,i,o,a=t.vars,s=a[e],c=be,u=t._ctx;if(s)return n=a[e+"Params"],i=a.callbackScope||t,r&&mr.length&&$r(),u&&(be=u),o=n?s.apply(i,n):s.call(i),be=c,o},Tn=function(t){return qr(t),t.scrollTrigger&&t.scrollTrigger.kill(!!me),t.progress()<1&&jn(t,"onInterrupt"),t},Cn=[],Ln=function(t){if(t)if(t=!t.name&&t.default||t,Je()||t.headless){var e=t.name,r=Ue(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:pr,render:_i,add:oi,kill:ki,modifier:xi,rawVars:0},o={targetTest:0,get:0,getSetter:yi,aliases:{},register:0};if(Fn(),t!==n){if(wr[e])return;Rr(n,Rr(Br(t,i),o)),Nr(n.prototype,Nr(i,Br(t,o))),wr[n.prop=e]=n,t.targetTest&&(kr.push(n),yr[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}hr(e,n),t.register&&t.register(zi,n,Ei)}else Cn.push(t)},Pn=255,An={aqua:[0,Pn,Pn],lime:[0,Pn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pn],navy:[0,0,128],white:[Pn,Pn,Pn],olive:[128,128,0],yellow:[Pn,Pn,0],orange:[Pn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pn,0,0],pink:[Pn,192,203],cyan:[0,Pn,Pn],transparent:[Pn,Pn,Pn,0]},$n=function(t,e,r){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Pn+.5|0},Dn=function(t,e,r){var n,i,o,a,s,c,u,l,f,h,p=t?Ye(t)?[t>>16,t>>8&Pn,t&Pn]:0:An.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),An[t])p=An[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+n+n+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Pn,p&Pn,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Pn,t&Pn]}else if("hsl"===t.substr(0,3))if(p=h=t.match(tr),e){if(~t.indexOf("="))return p=t.match(er),r&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,s=+p[1]/100,n=2*(c=+p[2]/100)-(i=c<=.5?c*(s+1):c+s-c*s),p.length>3&&(p[3]*=1),p[0]=$n(a+1/3,n,i),p[1]=$n(a,n,i),p[2]=$n(a-1/3,n,i);else p=t.match(tr)||An.transparent;p=p.map(Number)}return e&&!h&&(n=p[0]/Pn,i=p[1]/Pn,o=p[2]/Pn,c=((u=Math.max(n,i,o))+(l=Math.min(n,i,o)))/2,u===l?a=s=0:(f=u-l,s=c>.5?f/(2-u-l):f/(u+l),a=u===n?(i-o)/f+(i<o?6:0):u===i?(o-n)/f+2:(n-i)/f+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*s+.5),p[2]=~~(100*c+.5)),r&&p.length<4&&(p[3]=1),p},Mn=function(t){var e=[],r=[],n=-1;return t.split(Rn).forEach((function(t){var i=t.match(rr)||[];e.push.apply(e,i),r.push(n+=i.length+1)})),e.c=r,e},In=function(t,e,r){var n,i,o,a,s="",c=(t+s).match(Rn),u=e?"hsla(":"rgba(",l=0;if(!c)return t;if(c=c.map((function(t){return(t=Dn(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(o=Mn(t),(n=r.c).join(s)!==o.c.join(s)))for(a=(i=t.replace(Rn,"1").split(rr)).length-1;l<a;l++)s+=i[l]+(~n.indexOf(l)?c.shift()||u+"0,0,0,0)":(o.length?o:c.length?c:r).shift());if(!i)for(a=(i=t.split(Rn)).length-1;l<a;l++)s+=i[l]+c[l];return s+i[a]},Rn=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in An)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Nn=/hsl[a]?\(/,zn=function(t){var e,r=t.join(" ");if(Rn.lastIndex=0,Rn.test(r))return e=Nn.test(r),t[1]=In(t[1],e),t[0]=In(t[0],e,Mn(t[1])),!0},Bn=function(){var t,e,r,n,i,o,a=Date.now,s=500,c=33,u=a(),l=u,f=1e3/240,h=f,p=[],d=function r(d){var g,v,y,m,b=a()-l,w=!0===d;if((b>s||b<0)&&(u+=b-c),((g=(y=(l+=b)-u)-h)>0||w)&&(m=++n.frame,i=y-1e3*n.time,n.time=y/=1e3,h+=g+(g>=f?4:f-g),v=1),w||(t=e(r)),v)for(o=0;o<p.length;o++)p[o](y,i,m,d)};return n={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){Se&&(!xe&&Je()&&(_e=xe=window,ke=_e.document||{},sr.gsap=zi,(_e.gsapVersions||(_e.gsapVersions=[])).push(zi.version),ur(cr||_e.GreenSockGlobals||!_e.gsap&&_e||{}),Cn.forEach(Ln)),r="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&n.sleep(),e=r||function(t){return setTimeout(t,h-1e3*n.time+1|0)},je=1,d(2))},sleep:function(){(r?cancelAnimationFrame:clearTimeout)(t),je=0,e=pr},lagSmoothing:function(t,e){s=t||1/0,c=Math.min(e||33,s)},fps:function(t){f=1e3/(t||240),h=1e3*n.time+f},add:function(t,e,r){var i=e?function(e,r,o,a){t(e,r,o,a),n.remove(i)}:t;return n.remove(t),p[r?"unshift":"push"](i),Fn(),i},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&o>=e&&o--},_listeners:p}}(),Fn=function(){return!je&&Bn.wake()},Gn={},Hn=/^[\d.\-M][\d.\-,\s]/,qn=/["']/g,Un=function(t){for(var e,r,n,i={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,c=o.length;s<c;s++)r=o[s],e=s!==c-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[a]=isNaN(n)?n.replace(qn,"").trim():+n,a=r.substr(e+1).trim();return i},Yn=function(t){return function(e){return 1-t(1-e)}},Vn=function t(e,r){for(var n,i=e._first;i;)i instanceof ei?t(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},Zn=function(t,e){return t&&(Ue(t)?t:Gn[t]||function(t){var e,r,n,i,o=(t+"").split("("),a=Gn[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Un(o[1])]:(e=t,r=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",r),e.substring(r,~i&&i<n?e.indexOf(")",n+1):n)).split(",").map(Mr)):Gn._CE&&Hn.test(t)?Gn._CE("",t):a}(t))||e},Wn=function(t,e,r,n){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:r,easeInOut:n};return Tr(t,(function(t){for(var e in Gn[t]=sr[t]=o,Gn[i=t.toLowerCase()]=r,o)Gn[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Gn[t+"."+e]=o[e]})),o},Jn=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Xn=function t(e,r,n){var i=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),a=o/Ne*(Math.asin(1/i)||0),s=function(t){return 1===t?1:i*Math.pow(2,-10*t)*He((t-a)*o)+1},c="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Jn(s);return o=Ne/o,c.config=function(r,n){return t(e,r,n)},c},Qn=function t(e,r){void 0===r&&(r=1.70158);var n=function(t){return t?--t*t*((r+1)*t+r)+1:0},i="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Jn(n);return i.config=function(r){return t(e,r)},i};Tr("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;Wn(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),Gn.Linear.easeNone=Gn.none=Gn.Linear.easeIn,Wn("Elastic",Xn("in"),Xn("out"),Xn()),Te=7.5625,Pe=2*(Le=1/(Ce=2.75)),Ae=2.5*Le,Wn("Bounce",(function(t){return 1-$e(1-t)}),$e=function(t){return t<Le?Te*t*t:t<Pe?Te*Math.pow(t-1.5/Ce,2)+.75:t<Ae?Te*(t-=2.25/Ce)*t+.9375:Te*Math.pow(t-2.625/Ce,2)+.984375}),Wn("Expo",(function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)})),Wn("Circ",(function(t){return-(Fe(1-t*t)-1)})),Wn("Sine",(function(t){return 1===t?1:1-Ge(t*ze)})),Wn("Back",Qn("in"),Qn("out"),Qn()),Gn.SteppedEase=Gn.steps=sr.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*hn(0,.99999999,t)|0)+i)*r}}},Me.ease=Gn["quad.out"],Tr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Sr+=t+","+t+"Params,"}));var Kn=function(t,e){this.id=Be++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:jr,this.set=e?e.getSetter:yi},ti=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,an(this,+t.duration,1,1),this.data=t.data,be&&(this._ctx=be,be.data.push(this)),je||Bn.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,an(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Fn(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Qr(this,t),!r._dp||r.parent||Kr(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&tn(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Re||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Dr(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Zr(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Zr(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?Wr(this._tTime,r)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var r=this.parent&&this._ts?Jr(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(hn(-Math.abs(this._delay),this._tDur,r),!1!==e),Xr(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Fn(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Re&&(this._tTime-=Re)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&tn(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(We(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Jr(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=vr);var e=me;return me=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),me=e,this},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,sn(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,sn(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(un(this,t),We(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,We(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Re))},e.eventCallback=function(t,e,r){var n=this.vars;return arguments.length>1?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(r){var n=Ue(t)?t:Ir,i=function(){var t=e.then;e.then=null,Ue(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),r(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){Tn(this)},t}();Rr(ti.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var ei=function(t){function e(e,r){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=We(e.sortChildren),we&&tn(e.parent||we,ge(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&en(ge(n),e.scrollTrigger),n}ve(e,t);var r=e.prototype;return r.to=function(t,e,r){return ln(0,arguments,this),this},r.from=function(t,e,r){return ln(1,arguments,this),this},r.fromTo=function(t,e,r,n){return ln(2,arguments,this),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,Fr(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new hi(t,e,un(this,r),1),this},r.call=function(t,e,r){return tn(this,hi.delayedCall(0,t,e),r)},r.staggerTo=function(t,e,r,n,i,o,a){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=o,r.onCompleteParams=a,r.parent=this,new hi(t,r,un(this,i)),this},r.staggerFrom=function(t,e,r,n,i,o,a){return r.runBackwards=1,Fr(r).immediateRender=We(r.immediateRender),this.staggerTo(t,e,r,n,i,o,a)},r.staggerFromTo=function(t,e,r,n,i,o,a,s){return n.startAt=r,Fr(n).immediateRender=We(n.immediateRender),this.staggerTo(t,e,n,i,o,a,s)},r.render=function(t,e,r){var n,i,o,a,s,c,u,l,f,h,p,d,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,m=t<=0?0:Lr(t),b=this._zTime<0!=t<0&&(this._initted||!y);if(this!==we&&m>v&&t>=0&&(m=v),m!==this._tTime||r||b){if(g!==this._time&&y&&(m+=this._time-g,t+=this._time-g),n=m,f=this._start,c=!(l=this._ts),b&&(y||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,s=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(n=Lr(m%s),m===v?(a=this._repeat,n=y):((a=~~(h=Lr(m/s)))&&a===h&&(n=y,a--),n>y&&(n=y)),h=Wr(this._tTime,s),!g&&this._tTime&&h!==a&&this._tTime-h*s-this._dur<=0&&(h=a),p&&1&a&&(n=y-n,d=1),a!==h&&!this._lock){var w=p&&1&h,_=w===(p&&1&a);if(a<h&&(w=!w),g=w?0:m%y?y:m,this._lock=1,this.render(g||(d?0:Lr(a*s)),e,!y)._lock=0,this._tTime=m,!e&&this.parent&&jn(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,_&&(this._lock=2,g=w?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Vn(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,r){var n;if(r>e)for(n=t._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,Lr(g),Lr(n)),u&&(m-=n-(n=u._start))),this._tTime=m,this._time=n,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&!a&&(jn(this,"onStart"),this._tTime!==m))return this;if(n>=g&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||n>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!c){u=0,o&&(m+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var x=t<0?t:n;i;){if(o=i._prev,(i._act||x<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,e,r||me&&(i._initted||i._startAt)),n!==this._time||!this._ts&&!c){u=0,o&&(m+=this._zTime=x?-1e-8:Re);break}}i=o}}if(u&&!e&&(this.pause(),u.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=f,Xr(this),this.render(t,e,r);this._onUpdate&&!e&&jn(this,"onUpdate",!0),(m===v&&this._tTime>=this.totalDuration()||!m&&g)&&(f!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!y)&&(m===v&&this._ts>0||!m&&this._ts<0)&&qr(this,1),e||t<0&&!g||!m&&!g&&v||(jn(this,m===v&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<v&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,e){var r=this;if(Ye(e)||(e=un(this,e,t)),!(t instanceof ti)){if(Ke(t))return t.forEach((function(t){return r.add(t,e)})),this;if(qe(t))return this.addLabel(t,e);if(!Ue(t))return this;t=hi.delayedCall(0,t)}return this!==t?tn(this,t,e):this},r.getChildren=function(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-Ie);for(var i=[],o=this._first;o;)o._start>=n&&(o instanceof hi?e&&i.push(o):(r&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,r)))),o=o._next;return i},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return qe(t)?this.removeLabel(t):Ue(t)?this.killTweensOf(t):(t.parent===this&&Hr(this,t),t===this._recent&&(this._recent=this._last),Ur(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(Bn.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=un(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var n=hi.delayedCall(0,e||pr,r);return n.data="isPause",this._hasPause=1,tn(this,n,un(this,t))},r.removePause=function(t){var e=this._first;for(t=un(this,t);e;)e._start===t&&"isPause"===e.data&&qr(e),e=e._next},r.killTweensOf=function(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)ri!==n[i]&&n[i].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,n=[],i=vn(t),o=this._first,a=Ye(e);o;)o instanceof hi?Ar(o._targets,i)&&(a?(!ri||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&n.push(o):(r=o.getTweensOf(i,e)).length&&n.push.apply(n,r),o=o._next;return n},r.tweenTo=function(t,e){e=e||{};var r,n=this,i=un(n,t),o=e,a=o.startAt,s=o.onStart,c=o.onStartParams,u=o.immediateRender,l=hi.to(n,Rr({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(a&&"time"in a?a.time:n._time))/n.timeScale())||Re,onStart:function(){if(n.pause(),!r){var t=e.duration||Math.abs((i-(a&&"time"in a?a.time:n._time))/n.timeScale());l._dur!==t&&an(l,t,0,1).render(l._time,!0,!0),r=1}s&&s.apply(l,c||[])}},e));return u?l.render(0):l},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,Rr({startAt:{time:un(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),En(this,un(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),En(this,un(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Re)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,o=this.labels;i;)i._start>=r&&(i._start+=t,i._end+=t),i=i._next;if(e)for(n in o)o[n]>=r&&(o[n]+=t);return Ur(this)},r.invalidate=function(e){var r=this._first;for(this._lock=0;r;)r.invalidate(e),r=r._next;return t.prototype.invalidate.call(this,e)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ur(this)},r.totalDuration=function(t){var e,r,n,i=0,o=this,a=o._last,s=Ie;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(n=o.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(r=a._start)>s&&o._sort&&a._ts&&!o._lock?(o._lock=1,tn(o,a,r-a._delay,1)._lock=0):s=r,r<0&&a._ts&&(i-=r,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-Infinity),s=0),a._end>i&&a._ts&&(i=a._end),a=e;an(o,o===we&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(we._ts&&(Dr(we,Jr(t,we)),Oe=Bn.frame),Bn.frame>=xr){xr+=De.autoSleep||120;var e=we._first;if((!e||!e._ts)&&De.autoSleep&&Bn._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Bn.sleep()}}},e}(ti);Rr(ei.prototype,{_lock:0,_hasPause:0,_forcing:0});var ri,ni,ii=function(t,e,r,n,i,o,a){var s,c,u,l,f,h,p,d,g=new Ei(this._pt,t,e,0,1,wi,null,i),v=0,y=0;for(g.b=r,g.e=n,r+="",(p=~(n+="").indexOf("random("))&&(n=Sn(n)),o&&(o(d=[r,n],t,e),r=d[0],n=d[1]),c=r.match(nr)||[];s=nr.exec(n);)l=s[0],f=n.substring(v,s.index),u?u=(u+1)%5:"rgba("===f.substr(-5)&&(u=1),l!==c[y++]&&(h=parseFloat(c[y-1])||0,g._pt={_next:g._pt,p:f||1===y?f:",",s:h,c:"="===l.charAt(1)?Pr(h,l)-h:parseFloat(l)-h,m:u&&u<4?Math.round:0},v=nr.lastIndex);return g.c=v<n.length?n.substring(v,n.length):"",g.fp=a,(ir.test(n)||p)&&(g.e=0),this._pt=g,g},oi=function(t,e,r,n,i,o,a,s,c,u){Ue(n)&&(n=n(i||0,t,o));var l,f=t[e],h="get"!==r?r:Ue(f)?c?t[e.indexOf("set")||!Ue(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():f,p=Ue(f)?c?gi:di:pi;if(qe(n)&&(~n.indexOf("random(")&&(n=Sn(n)),"="===n.charAt(1)&&((l=Pr(h,n)+(pn(h)||0))||0===l)&&(n=l)),!u||h!==n||ni)return isNaN(h*n)||""===n?(!f&&!(e in t)&&lr(e,n),ii.call(this,t,e,h,n,p,s||De.stringFilter,c)):(l=new Ei(this._pt,t,e,+h||0,n-(h||0),"boolean"==typeof f?bi:mi,0,p),c&&(l.fp=c),a&&l.modifier(a,this,t),this._pt=l)},ai=function(t,e,r,n,i,o){var a,s,c,u;if(wr[t]&&!1!==(a=new wr[t]).init(i,a.rawVars?e[t]:function(t,e,r,n,i){if(Ue(t)&&(t=ui(t,i,e,r,n)),!Ze(t)||t.style&&t.nodeType||Ke(t)||Qe(t))return qe(t)?ui(t,i,e,r,n):t;var o,a={};for(o in t)a[o]=ui(t[o],i,e,r,n);return a}(e[t],n,i,o,r),r,n,o)&&(r._pt=s=new Ei(r._pt,i,t,0,1,a.render,a,0,a.priority),r!==Ee))for(c=r._ptLookup[r._targets.indexOf(i)],u=a._props.length;u--;)c[a._props[u]]=s;return a},si=function t(e,r,n){var i,o,a,s,c,u,l,f,h,p,d,g,v,y=e.vars,m=y.ease,b=y.startAt,w=y.immediateRender,_=y.lazy,x=y.onUpdate,k=y.runBackwards,S=y.yoyoEase,O=y.keyframes,E=y.autoRevert,j=e._dur,T=e._startAt,C=e._targets,L=e.parent,P=L&&"nested"===L.data?L.vars.targets:C,A="auto"===e._overwrite&&!ye,$=e.timeline;if($&&(!O||!m)&&(m="none"),e._ease=Zn(m,Me.ease),e._yEase=S?Yn(Zn(!0===S?m:S,Me.ease)):0,S&&e._yoyo&&!e._repeat&&(S=e._yEase,e._yEase=e._ease,e._ease=S),e._from=!$&&!!y.runBackwards,!$||O&&!y.stagger){if(g=(f=C[0]?Er(C[0]).harness:0)&&y[f.prop],i=Br(y,yr),T&&(T._zTime<0&&T.progress(1),r<0&&k&&w&&!E?T.render(-1,!0):T.revert(k&&j?gr:dr),T._lazy=0),b){if(qr(e._startAt=hi.set(C,Rr({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!T&&We(_),startAt:null,delay:0,onUpdate:x&&function(){return jn(e,"onUpdate")},stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(me||!w&&!E)&&e._startAt.revert(gr),w&&j&&r<=0&&n<=0)return void(r&&(e._zTime=r))}else if(k&&j&&!T)if(r&&(w=!1),a=Rr({overwrite:!1,data:"isFromStart",lazy:w&&!T&&We(_),immediateRender:w,stagger:0,parent:L},i),g&&(a[f.prop]=g),qr(e._startAt=hi.set(C,a)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(me?e._startAt.revert(gr):e._startAt.render(-1,!0)),e._zTime=r,w){if(!r)return}else t(e._startAt,Re,Re);for(e._pt=e._ptCache=0,_=j&&We(_)||_&&!j,o=0;o<C.length;o++){if(l=(c=C[o])._gsap||Or(C)[o]._gsap,e._ptLookup[o]=p={},br[l.id]&&mr.length&&$r(),d=P===C?o:P.indexOf(c),f&&!1!==(h=new f).init(c,g||i,e,d,P)&&(e._pt=s=new Ei(e._pt,c,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){p[t]=s})),h.priority&&(u=1)),!f||g)for(a in i)wr[a]&&(h=ai(a,i,e,d,c,P))?h.priority&&(u=1):p[a]=s=oi.call(e,c,a,"get",i[a],d,P,0,y.stringFilter);e._op&&e._op[o]&&e.kill(c,e._op[o]),A&&e._pt&&(ri=e,we.killTweensOf(c,p,e.globalTime(r)),v=!e.parent,ri=0),e._pt&&_&&(br[l.id]=1)}u&&Oi(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!v,O&&r<=0&&$.render(Ie,!0,!0)},ci=function(t,e,r,n){var i,o,a=e.ease||n||"power1.inOut";if(Ke(e))o=r[t]||(r[t]=[]),e.forEach((function(t,r){return o.push({t:r/(e.length-1)*100,v:t,e:a})}));else for(i in e)o=r[i]||(r[i]=[]),"ease"===i||o.push({t:parseFloat(t),v:e[i],e:a})},ui=function(t,e,r,n,i){return Ue(t)?t.call(e,r,n,i):qe(t)&&~t.indexOf("random(")?Sn(t):t},li=Sr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",fi={};Tr(li+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return fi[t]=1}));var hi=function(t){function e(e,r,n,i){var o;"number"==typeof r&&(n.duration=r,r=n,n=null);var a,s,c,u,l,f,h,p,d=(o=t.call(this,i?r:Fr(r))||this).vars,g=d.duration,v=d.delay,y=d.immediateRender,m=d.stagger,b=d.overwrite,w=d.keyframes,_=d.defaults,x=d.scrollTrigger,k=d.yoyoEase,S=r.parent||we,O=(Ke(e)||Qe(e)?Ye(e[0]):"length"in r)?[e]:vn(e);if(o._targets=O.length?Or(O):fr("GSAP target "+e+" not found. https://gsap.com",!De.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,w||m||Xe(g)||Xe(v)){if(r=o.vars,(a=o.timeline=new ei({data:"nested",defaults:_||{},targets:S&&"nested"===S.data?S.vars.targets:O})).kill(),a.parent=a._dp=ge(o),a._start=0,m||Xe(g)||Xe(v)){if(u=O.length,h=m&&bn(m),Ze(m))for(l in m)~li.indexOf(l)&&(p||(p={}),p[l]=m[l]);for(s=0;s<u;s++)(c=Br(r,fi)).stagger=0,k&&(c.yoyoEase=k),p&&Nr(c,p),f=O[s],c.duration=+ui(g,ge(o),s,f,O),c.delay=(+ui(v,ge(o),s,f,O)||0)-o._delay,!m&&1===u&&c.delay&&(o._delay=v=c.delay,o._start+=v,c.delay=0),a.to(f,c,h?h(s,f,O):0),a._ease=Gn.none;a.duration()?g=v=0:o.timeline=0}else if(w){Fr(Rr(a.vars.defaults,{ease:"none"})),a._ease=Zn(w.ease||r.ease||"none");var E,j,T,C=0;if(Ke(w))w.forEach((function(t){return a.to(O,t,">")})),a.duration();else{for(l in c={},w)"ease"===l||"easeEach"===l||ci(l,w[l],c,w.easeEach);for(l in c)for(E=c[l].sort((function(t,e){return t.t-e.t})),C=0,s=0;s<E.length;s++)(T={ease:(j=E[s]).e,duration:(j.t-(s?E[s-1].t:0))/100*g})[l]=j.v,a.to(O,T,C),C+=T.duration;a.duration()<g&&a.to({},{duration:g-a.duration()})}}g||o.duration(g=a.duration())}else o.timeline=0;return!0!==b||ye||(ri=ge(o),we.killTweensOf(O),ri=0),tn(S,ge(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(y||!g&&!w&&o._start===Lr(S._time)&&We(y)&&Vr(ge(o))&&"nested"!==S.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-v)||0)),x&&en(ge(o),x),o}ve(e,t);var r=e.prototype;return r.render=function(t,e,r){var n,i,o,a,s,c,u,l,f,h=this._time,p=this._tDur,d=this._dur,g=t<0,v=t>p-Re&&!g?p:t<Re?0:t;if(d){if(v!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(n=v,l=this.timeline,this._repeat){if(a=d+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+t,e,r);if(n=Lr(v%a),v===p?(o=this._repeat,n=d):(o=~~(s=Lr(v/a)))&&o===s?(n=d,o--):n>d&&(n=d),(c=this._yoyo&&1&o)&&(f=this._yEase,n=d-n),s=Wr(this._tTime,a),n===h&&!r&&this._initted&&o===s)return this._tTime=v,this;o!==s&&(l&&this._yEase&&Vn(l,c),this.vars.repeatRefresh&&!c&&!this._lock&&n!==a&&this._initted&&(this._lock=r=1,this.render(Lr(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(rn(this,g?t:n,r,e,v))return this._tTime=0,this;if(!(h===this._time||r&&this.vars.repeatRefresh&&o!==s))return this;if(d!==this._dur)return this.render(t,e,r)}if(this._tTime=v,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(f||this._ease)(n/d),this._from&&(this.ratio=u=1-u),n&&!h&&!e&&!o&&(jn(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;l&&l.render(t<0?t:l._dur*l._ease(n/this._dur),e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&Yr(this,t,0,r),jn(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!e&&this.parent&&jn(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(g&&!this._onUpdate&&Yr(this,t,0,!0),(t||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&qr(this,1),e||g&&!h||!(v||h||c)||(jn(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,n){var i,o,a,s=t.ratio,c=e<0||!e&&(!t._start&&nn(t)&&(t._initted||!on(t))||(t._ts<0||t._dp._ts<0)&&!on(t))?0:1,u=t._rDelay,l=0;if(u&&t._repeat&&(l=hn(0,t._tDur,e),o=Wr(l,u),t._yoyo&&1&o&&(c=1-c),o!==Wr(t._tTime,u)&&(s=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==s||me||n||t._zTime===Re||!e&&t._zTime){if(!t._initted&&rn(t,e,n,r,l))return;for(a=t._zTime,t._zTime=e||(r?Re:0),r||(r=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=l,i=t._pt;i;)i.r(c,i.d),i=i._next;e<0&&Yr(t,e,0,!0),t._onUpdate&&!r&&jn(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&jn(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&qr(t,1),r||me||(jn(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},r.resetTo=function(t,e,r,n,i){je||Bn.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||si(this,o),function(t,e,r,n,i,o,a,s){var c,u,l,f,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],l=t._ptLookup,f=t._targets.length;f--;){if((c=l[f][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return ni=1,t.vars[e]="+=0",si(t,a),ni=0,s?fr(e+" not eligible for reset"):1;h.push(c)}for(f=h.length;f--;)(c=(u=h[f])._pt||u).s=!n&&0!==n||i?c.s+(n||0)+o*c.c:n,c.c=r-c.s,u.e&&(u.e=Cr(r)+pn(u.e)),u.b&&(u.b=c.s+pn(u.b))}(this,t,e,r,n,this._ease(o/this._dur),o,i)?this.resetTo(t,e,r,n,1):(Qr(this,0),this.parent||Gr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?Tn(this):this.scrollTrigger&&this.scrollTrigger.kill(!!me),this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ri&&!0!==ri.vars.overwrite)._first||Tn(this),this.parent&&r!==this.timeline.totalDuration()&&an(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,o,a,s,c,u,l=this._targets,f=t?vn(t):l,h=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(l,f))return"all"===e&&(this._pt=0),Tn(this);for(n=this._op=this._op||[],"all"!==e&&(qe(e)&&(s={},Tr(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var r,n,i,o,a=t[0]?Er(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(n in r=Nr({},e),s)if(n in r)for(i=(o=s[n].split(",")).length;i--;)r[o[i]]=r[n];return r}(l,e)),u=l.length;u--;)if(~f.indexOf(l[u]))for(s in i=h[u],"all"===e?(n[u]=e,a=i,o={}):(o=n[u]=n[u]||{},a=e),a)(c=i&&i[s])&&("kill"in c.d&&!0!==c.d.kill(s)||Hr(this,c,"_pt"),delete i[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&p&&Tn(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,e){return ln(1,arguments)},e.delayedCall=function(t,r,n,i){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},e.fromTo=function(t,e,r){return ln(2,arguments)},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return we.killTweensOf(t,e,r)},e}(ti);Rr(hi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Tr("staggerTo,staggerFrom,staggerFromTo",(function(t){hi[t]=function(){var e=new ei,r=dn.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var pi=function(t,e,r){return t[e]=r},di=function(t,e,r){return t[e](r)},gi=function(t,e,r,n){return t[e](n.fp,r)},vi=function(t,e,r){return t.setAttribute(e,r)},yi=function(t,e){return Ue(t[e])?di:Ve(t[e])&&t.setAttribute?vi:pi},mi=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},bi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},wi=function(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},_i=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},xi=function(t,e,r,n){for(var i,o=this._pt;o;)i=o._next,o.p===n&&o.modifier(t,e,r),o=i},ki=function(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?Hr(this,n,"_pt"):n.dep||(e=1),n=r;return!e},Si=function(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)},Oi=function(t){for(var e,r,n,i,o=t._pt;o;){for(e=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:i)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:i=o,o=e}t._pt=n},Ei=function(){function t(t,e,r,n,i,o,a,s,c){this.t=e,this.s=n,this.c=i,this.p=r,this.r=o||mi,this.d=a||this,this.set=s||pi,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=Si,this.m=t,this.mt=r,this.tween=e},t}();Tr(Sr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return yr[t]=1})),sr.TweenMax=sr.TweenLite=hi,sr.TimelineLite=sr.TimelineMax=ei,we=new ei({sortChildren:!1,defaults:Me,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),De.stringFilter=zn;var ji=[],Ti={},Ci=[],Li=0,Pi=0,Ai=function(t){return(Ti[t]||Ci).map((function(t){return t()}))},$i=function(){var t=Date.now(),e=[];t-Li>2&&(Ai("matchMediaInit"),ji.forEach((function(t){var r,n,i,o,a=t.queries,s=t.conditions;for(n in a)(r=_e.matchMedia(a[n]).matches)&&(i=1),r!==s[n]&&(s[n]=r,o=1);o&&(t.revert(),i&&e.push(t))})),Ai("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Li=t,Ai("matchMedia"))},Di=function(){function t(t,e){this.selector=e&&yn(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Pi++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,r){Ue(t)&&(r=e,e=t,t=Ue);var n=this,i=function(){var t,i=be,o=n.selector;return i&&i!==n&&i.data.push(n),r&&(n.selector=yn(r)),be=n,t=e.apply(n,arguments),Ue(t)&&n._r.push(t),be=i,n.selector=o,n.isReverted=!1,t};return n.last=i,t===Ue?i(n,(function(t){return n.add(null,t)})):t?n[t]=i:i},e.ignore=function(t){var e=be;be=null,t(this),be=e},e.getTweens=function(){var e=[];return this.data.forEach((function(r){return r instanceof t?e.push.apply(e,r.getTweens()):r instanceof hi&&!(r.parent&&"nested"===r.parent.data)&&e.push(r)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var r=this;if(t?function(){for(var e,n=r.getTweens(),i=r.data.length;i--;)"isFlip"===(e=r.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=r.data.length;i--;)(e=r.data[i])instanceof ei?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof hi)&&e.revert&&e.revert(t);r._r.forEach((function(e){return e(t,r)})),r.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=ji.length;n--;)ji[n].id===this.id&&ji.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),Mi=function(){function t(t){this.contexts=[],this.scope=t,be&&be.data.push(this)}var e=t.prototype;return e.add=function(t,e,r){Ze(t)||(t={matches:t});var n,i,o,a=new Di(0,r||this.scope),s=a.conditions={};for(i in be&&!a.selector&&(a.selector=be.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===i?o=1:(n=_e.matchMedia(t[i]))&&(ji.indexOf(a)<0&&ji.push(a),(s[i]=n.matches)&&(o=1),n.addListener?n.addListener($i):n.addEventListener("change",$i));return o&&e(a,(function(t){return a.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Ii={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return Ln(t)}))},timeline:function(t){return new ei(t)},getTweensOf:function(t,e){return we.getTweensOf(t,e)},getProperty:function(t,e,r,n){qe(t)&&(t=vn(t)[0]);var i=Er(t||{}).get,o=r?Ir:Mr;return"native"===r&&(r=""),t?e?o((wr[e]&&wr[e].get||i)(t,e,r,n)):function(e,r,n){return o((wr[e]&&wr[e].get||i)(t,e,r,n))}:t},quickSetter:function(t,e,r){if((t=vn(t)).length>1){var n=t.map((function(t){return zi.quickSetter(t,e,r)})),i=n.length;return function(t){for(var e=i;e--;)n[e](t)}}t=t[0]||{};var o=wr[e],a=Er(t),s=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(e){var n=new o;Ee._pt=0,n.init(t,r?e+r:e,Ee,0,[t]),n.render(1,n),Ee._pt&&_i(1,Ee)}:a.set(t,s);return o?c:function(e){return c(t,s,r?e+r:e,a,1)}},quickTo:function(t,e,r){var n,i=zi.to(t,Rr(((n={})[e]="+=0.1",n.paused=!0,n.stagger=0,n),r||{})),o=function(t,r,n){return i.resetTo(e,t,r,n)};return o.tween=i,o},isTweening:function(t){return we.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Zn(t.ease,Me.ease)),zr(Me,t||{})},config:function(t){return zr(De,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,n=t.plugins,i=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!wr[t]&&!sr[t]&&fr(e+" effect requires "+t+" plugin.")})),_r[e]=function(t,e,n){return r(vn(t),Rr(e||{},i),n)},o&&(ei.prototype[e]=function(t,r,n){return this.add(_r[e](t,Ze(r)?r:(n=r)&&{},this),n)})},registerEase:function(t,e){Gn[t]=Zn(e)},parseEase:function(t,e){return arguments.length?Zn(t,e):Gn},getById:function(t){return we.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,n,i=new ei(t);for(i.smoothChildTiming=We(t.smoothChildTiming),we.remove(i),i._dp=0,i._time=i._tTime=we._time,r=we._first;r;)n=r._next,!e&&!r._dur&&r instanceof hi&&r.vars.onComplete===r._targets[0]||tn(i,r,r._start-r._delay),r=n;return tn(we,i,0),i},context:function(t,e){return t?new Di(t,e):be},matchMedia:function(t){return new Mi(t)},matchMediaRefresh:function(){return ji.forEach((function(t){var e,r,n=t.conditions;for(r in n)n[r]&&(n[r]=!1,e=1);e&&t.revert()}))||$i()},addEventListener:function(t,e){var r=Ti[t]||(Ti[t]=[]);~r.indexOf(e)||r.push(e)},removeEventListener:function(t,e){var r=Ti[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)},utils:{wrap:function t(e,r,n){var i=r-e;return Ke(e)?kn(e,t(0,e.length),r):fn(n,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,r,n){var i=r-e,o=2*i;return Ke(e)?kn(e,t(0,e.length-1),r):fn(n,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:bn,random:xn,snap:_n,normalize:function(t,e,r){return On(t,e,0,1,r)},getUnit:pn,clamp:function(t,e,r){return fn(r,(function(r){return hn(t,e,r)}))},splitColor:Dn,toArray:vn,selector:yn,mapRange:On,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||pn(r))}},interpolate:function t(e,r,n,i){var o=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!o){var a,s,c,u,l,f=qe(e),h={};if(!0===n&&(i=1)&&(n=null),f)e={p:e},r={p:r};else if(Ke(e)&&!Ke(r)){for(c=[],u=e.length,l=u-2,s=1;s<u;s++)c.push(t(e[s-1],e[s]));u--,o=function(t){t*=u;var e=Math.min(l,~~t);return c[e](t-e)},n=r}else i||(e=Nr(Ke(e)?[]:{},e));if(!c){for(a in r)oi.call(h,e,a,"get",r[a]);o=function(t){return _i(t,h)||(f?e.p:e)}}}return fn(n,o)},shuffle:mn},install:ur,effects:_r,ticker:Bn,updateRoot:ei.updateRoot,plugins:wr,globalTimeline:we,core:{PropTween:Ei,globals:hr,Tween:hi,Timeline:ei,Animation:ti,getCache:Er,_removeLinkedListItem:Hr,reverting:function(){return me},context:function(t){return t&&be&&(be.data.push(t),t._ctx=be),be},suppressOverwrites:function(t){return ye=t}}};Tr("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Ii[t]=hi[t]})),Bn.add(ei.updateRoot),Ee=Ii.to({},{duration:0});var Ri=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},Ni=function(t,e){return{name:t,rawVars:1,init:function(t,r,n){n._onInit=function(t){var n,i;if(qe(r)&&(n={},Tr(r,(function(t){return n[t]=1})),r=n),e){for(i in n={},r)n[i]=e(r[i]);r=n}!function(t,e){var r,n,i,o=t._targets;for(r in e)for(n=o.length;n--;)(i=t._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=Ri(i,r)),i&&i.modifier&&i.modifier(e[r],t,o[n],r))}(t,r)}}}},zi=Ii.registerPlugin({name:"attr",init:function(t,e,r,n,i){var o,a,s;for(o in this.tween=r,e)s=t.getAttribute(o)||"",(a=this.add(t,"setAttribute",(s||0)+"",e[o],n,i,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(t,e){for(var r=e._pt;r;)me?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r],0,0,0,0,0,1)}},Ni("roundProps",wn),Ni("modifiers"),Ni("snap",_n))||Ii;hi.version=ei.version=zi.version="3.12.7",Se=1,Je()&&Fn(),Gn.Power0,Gn.Power1,Gn.Power2,Gn.Power3,Gn.Power4,Gn.Linear,Gn.Quad,Gn.Cubic,Gn.Quart,Gn.Quint,Gn.Strong,Gn.Elastic,Gn.Back,Gn.SteppedEase,Gn.Bounce,Gn.Sine,Gn.Expo,Gn.Circ;var Bi,Fi,Gi,Hi,qi,Ui,Yi,Vi,Zi={},Wi=180/Math.PI,Ji=Math.PI/180,Xi=Math.atan2,Qi=/([A-Z])/g,Ki=/(left|right|width|margin|padding|x)/i,to=/[\s,\(]\S/,eo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ro=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},no=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},io=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},oo=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},ao=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},so=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},co=function(t,e,r){return t.style[e]=r},uo=function(t,e,r){return t.style.setProperty(e,r)},lo=function(t,e,r){return t._gsap[e]=r},fo=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},ho=function(t,e,r,n,i){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},po=function(t,e,r,n,i){var o=t._gsap;o[e]=r,o.renderTransform(i,o)},go="transform",vo=go+"Origin",yo=function t(e,r){var n=this,i=this.target,o=i.style,a=i._gsap;if(e in Zi&&o){if(this.tfm=this.tfm||{},"transform"===e)return eo.transform.split(",").forEach((function(e){return t.call(n,e,r)}));if(~(e=eo[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=Mo(i,t)})):this.tfm[e]=a.x?a[e]:Mo(i,e),e===vo&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(go)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(vo,r,"")),e=go}(o||r)&&this.props.push(e,r,o[e])},mo=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},bo=function(){var t,e,r=this.props,n=this.target,i=n.style,o=n._gsap;for(t=0;t<r.length;t+=3)r[t+1]?2===r[t+1]?n[r[t]](r[t+2]):n[r[t]]=r[t+2]:r[t+2]?i[r[t]]=r[t+2]:i.removeProperty("--"===r[t].substr(0,2)?r[t]:r[t].replace(Qi,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=Yi())&&t.isStart||i[go]||(mo(i),o.zOrigin&&i[vo]&&(i[vo]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},wo=function(t,e){var r={target:t,props:[],revert:bo,save:yo};return t._gsap||zi.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach((function(t){return r.save(t)})),r},_o=function(t,e){var r=Fi.createElementNS?Fi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Fi.createElement(t);return r&&r.style?r:Fi.createElement(t)},xo=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(Qi,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,So(r)||r,1)||""},ko="O,Moz,ms,Ms,Webkit".split(","),So=function(t,e,r){var n=(e||qi).style,i=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(ko[i]+t in n););return i<0?null:(3===i?"ms":i>=0?ko[i]:"")+t},Oo=function(){"undefined"!=typeof window&&window.document&&(Bi=window,Fi=Bi.document,Gi=Fi.documentElement,qi=_o("div")||{style:{}},_o("div"),go=So(go),vo=go+"Origin",qi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Vi=!!So("perspective"),Yi=zi.core.reverting,Hi=1)},Eo=function(t){var e,r=t.ownerSVGElement,n=_o("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0);i.style.display="block",n.appendChild(i),Gi.appendChild(n);try{e=i.getBBox()}catch(t){}return n.removeChild(i),Gi.removeChild(n),e},jo=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},To=function(t){var e,r;try{e=t.getBBox()}catch(n){e=Eo(t),r=1}return e&&(e.width||e.height)||r||(e=Eo(t)),!e||e.width||e.x||e.y?e:{x:+jo(t,["x","cx","x1"])||0,y:+jo(t,["y","cy","y1"])||0,width:0,height:0}},Co=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!To(t))},Lo=function(t,e){if(e){var r,n=t.style;e in Zi&&e!==vo&&(e=go),n.removeProperty?("ms"!==(r=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===r?e:e.replace(Qi,"-$1").toLowerCase())):n.removeAttribute(e)}},Po=function(t,e,r,n,i,o){var a=new Ei(t._pt,e,r,0,1,o?so:ao);return t._pt=a,a.b=n,a.e=i,t._props.push(r),a},Ao={deg:1,rad:1,turn:1},$o={grid:1,flex:1},Do=function t(e,r,n,i){var o,a,s,c,u=parseFloat(n)||0,l=(n+"").trim().substr((u+"").length)||"px",f=qi.style,h=Ki.test(r),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(h?"Width":"Height"),g=100,v="px"===i,y="%"===i;if(i===l||!u||Ao[i]||Ao[l])return u;if("px"!==l&&!v&&(u=t(e,r,n,"px")),c=e.getCTM&&Co(e),(y||"%"===l)&&(Zi[r]||~r.indexOf("adius")))return o=c?e.getBBox()[h?"width":"height"]:e[d],Cr(y?u/o*g:u/100*o);if(f[h?"width":"height"]=g+(v?l:i),a="rem"!==i&&~r.indexOf("adius")||"em"===i&&e.appendChild&&!p?e:e.parentNode,c&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Fi&&a.appendChild||(a=Fi.body),(s=a._gsap)&&y&&s.width&&h&&s.time===Bn.time&&!s.uncache)return Cr(u/s.width*g);if(!y||"height"!==r&&"width"!==r)(y||"%"===l)&&!$o[xo(a,"display")]&&(f.position=xo(e,"position")),a===e&&(f.position="static"),a.appendChild(qi),o=qi[d],a.removeChild(qi),f.position="absolute";else{var m=e.style[r];e.style[r]=g+i,o=e[d],m?e.style[r]=m:Lo(e,r)}return h&&y&&((s=Er(a)).time=Bn.time,s.width=a[d]),Cr(v?o*u/g:o&&u?g/o*u:0)},Mo=function(t,e,r,n){var i;return Hi||Oo(),e in eo&&"transform"!==e&&~(e=eo[e]).indexOf(",")&&(e=e.split(",")[0]),Zi[e]&&"transform"!==e?(i=Yo(t,n),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Vo(xo(t,vo))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=zo[e]&&zo[e](t,e,r)||xo(t,e)||jr(t,e)||("opacity"===e?1:0)),r&&!~(i+"").trim().indexOf(" ")?Do(t,e,i,r)+r:i},Io=function(t,e,r,n){if(!r||"none"===r){var i=So(e,t,1),o=i&&xo(t,i,1);o&&o!==r?(e=i,r=o):"borderColor"===e&&(r=xo(t,"borderTopColor"))}var a,s,c,u,l,f,h,p,d,g,v,y=new Ei(this._pt,t.style,e,0,1,wi),m=0,b=0;if(y.b=r,y.e=n,r+="","auto"==(n+="")&&(f=t.style[e],t.style[e]=n,n=xo(t,e)||n,f?t.style[e]=f:Lo(t,e)),zn(a=[r,n]),n=a[1],c=(r=a[0]).match(rr)||[],(n.match(rr)||[]).length){for(;s=rr.exec(n);)h=s[0],d=n.substring(m,s.index),l?l=(l+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(l=1),h!==(f=c[b++]||"")&&(u=parseFloat(f)||0,v=f.substr((u+"").length),"="===h.charAt(1)&&(h=Pr(u,h)+v),p=parseFloat(h),g=h.substr((p+"").length),m=rr.lastIndex-g.length,g||(g=g||De.units[e]||v,m===n.length&&(n+=g,y.e+=g)),v!==g&&(u=Do(t,e,f,g)||0),y._pt={_next:y._pt,p:d||1===b?d:",",s:u,c:p-u,m:l&&l<4||"zIndex"===e?Math.round:0});y.c=m<n.length?n.substring(m,n.length):""}else y.r="display"===e&&"none"===n?so:ao;return ir.test(n)&&(y.e=0),this._pt=y,y},Ro={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},No=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,o=e.t,a=o.style,s=e.u,c=o._gsap;if("all"===s||!0===s)a.cssText="",n=1;else for(i=(s=s.split(",")).length;--i>-1;)r=s[i],Zi[r]&&(n=1,r="transformOrigin"===r?vo:go),Lo(o,r);n&&(Lo(o,go),c&&(c.svg&&o.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Yo(o,1),c.uncache=1,mo(a)))}},zo={clearProps:function(t,e,r,n,i){if("isFromStart"!==i.data){var o=t._pt=new Ei(t._pt,e,r,0,0,No);return o.u=n,o.pr=-10,o.tween=i,t._props.push(r),1}}},Bo=[1,0,0,1,0,0],Fo={},Go=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ho=function(t){var e=xo(t,go);return Go(e)?Bo:e.substr(7).match(er).map(Cr)},qo=function(t,e){var r,n,i,o,a=t._gsap||Er(t),s=t.style,c=Ho(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Bo:c:(c!==Bo||t.offsetParent||t===Gi||a.svg||(i=s.display,s.display="block",(r=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(o=1,n=t.nextElementSibling,Gi.appendChild(t)),c=Ho(t),i?s.display=i:Lo(t,"display"),o&&(n?r.insertBefore(t,n):r?r.appendChild(t):Gi.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Uo=function(t,e,r,n,i,o){var a,s,c,u=t._gsap,l=i||qo(t,!0),f=u.xOrigin||0,h=u.yOrigin||0,p=u.xOffset||0,d=u.yOffset||0,g=l[0],v=l[1],y=l[2],m=l[3],b=l[4],w=l[5],_=e.split(" "),x=parseFloat(_[0])||0,k=parseFloat(_[1])||0;r?l!==Bo&&(s=g*m-v*y)&&(c=x*(-v/s)+k*(g/s)-(g*w-v*b)/s,x=x*(m/s)+k*(-y/s)+(y*w-m*b)/s,k=c):(x=(a=To(t)).x+(~_[0].indexOf("%")?x/100*a.width:x),k=a.y+(~(_[1]||_[0]).indexOf("%")?k/100*a.height:k)),n||!1!==n&&u.smooth?(b=x-f,w=k-h,u.xOffset=p+(b*g+w*y)-b,u.yOffset=d+(b*v+w*m)-w):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=k,u.smooth=!!n,u.origin=e,u.originIsAbsolute=!!r,t.style[vo]="0px 0px",o&&(Po(o,u,"xOrigin",f,x),Po(o,u,"yOrigin",h,k),Po(o,u,"xOffset",p,u.xOffset),Po(o,u,"yOffset",d,u.yOffset)),t.setAttribute("data-svg-origin",x+" "+k)},Yo=function(t,e){var r=t._gsap||new Kn(t);if("x"in r&&!e&&!r.uncache)return r;var n,i,o,a,s,c,u,l,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O,E,j,T,C,L,P,A,$,D,M=t.style,I=r.scaleX<0,R="px",N="deg",z=getComputedStyle(t),B=xo(t,vo)||"0";return n=i=o=c=u=l=f=h=p=0,a=s=1,r.svg=!(!t.getCTM||!Co(t)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(M[go]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[go]?z[go]:"")),M.scale=M.rotate=M.translate="none"),v=qo(t,r.svg),r.svg&&(r.uncache?(j=t.getBBox(),B=r.xOrigin-j.x+"px "+(r.yOrigin-j.y)+"px",E=""):E=!e&&t.getAttribute("data-svg-origin"),Uo(t,E||B,!!E||r.originIsAbsolute,!1!==r.smooth,v)),d=r.xOrigin||0,g=r.yOrigin||0,v!==Bo&&(w=v[0],_=v[1],x=v[2],k=v[3],n=S=v[4],i=O=v[5],6===v.length?(a=Math.sqrt(w*w+_*_),s=Math.sqrt(k*k+x*x),c=w||_?Xi(_,w)*Wi:0,(f=x||k?Xi(x,k)*Wi+c:0)&&(s*=Math.abs(Math.cos(f*Ji))),r.svg&&(n-=d-(d*w+g*x),i-=g-(d*_+g*k))):(D=v[6],A=v[7],C=v[8],L=v[9],P=v[10],$=v[11],n=v[12],i=v[13],o=v[14],u=(y=Xi(D,P))*Wi,y&&(E=S*(m=Math.cos(-y))+C*(b=Math.sin(-y)),j=O*m+L*b,T=D*m+P*b,C=S*-b+C*m,L=O*-b+L*m,P=D*-b+P*m,$=A*-b+$*m,S=E,O=j,D=T),l=(y=Xi(-x,P))*Wi,y&&(m=Math.cos(-y),$=k*(b=Math.sin(-y))+$*m,w=E=w*m-C*b,_=j=_*m-L*b,x=T=x*m-P*b),c=(y=Xi(_,w))*Wi,y&&(E=w*(m=Math.cos(y))+_*(b=Math.sin(y)),j=S*m+O*b,_=_*m-w*b,O=O*m-S*b,w=E,S=j),u&&Math.abs(u)+Math.abs(c)>359.9&&(u=c=0,l=180-l),a=Cr(Math.sqrt(w*w+_*_+x*x)),s=Cr(Math.sqrt(O*O+D*D)),y=Xi(S,O),f=Math.abs(y)>2e-4?y*Wi:0,p=$?1/($<0?-$:$):0),r.svg&&(E=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Go(xo(t,go)),E&&t.setAttribute("transform",E))),Math.abs(f)>90&&Math.abs(f)<270&&(I?(a*=-1,f+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,f+=f<=0?180:-180)),e=e||r.uncache,r.x=n-((r.xPercent=n&&(!e&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+R,r.y=i-((r.yPercent=i&&(!e&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+R,r.z=o+R,r.scaleX=Cr(a),r.scaleY=Cr(s),r.rotation=Cr(c)+N,r.rotationX=Cr(u)+N,r.rotationY=Cr(l)+N,r.skewX=f+N,r.skewY=h+N,r.transformPerspective=p+R,(r.zOrigin=parseFloat(B.split(" ")[2])||!e&&r.zOrigin||0)&&(M[vo]=Vo(B)),r.xOffset=r.yOffset=0,r.force3D=De.force3D,r.renderTransform=r.svg?ta:Vi?Ko:Wo,r.uncache=0,r},Vo=function(t){return(t=t.split(" "))[0]+" "+t[1]},Zo=function(t,e,r){var n=pn(e);return Cr(parseFloat(e)+parseFloat(Do(t,"x",r+"px",n)))+n},Wo=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ko(t,e)},Jo="0deg",Xo="0px",Qo=") ",Ko=function(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,o=r.x,a=r.y,s=r.z,c=r.rotation,u=r.rotationY,l=r.rotationX,f=r.skewX,h=r.skewY,p=r.scaleX,d=r.scaleY,g=r.transformPerspective,v=r.force3D,y=r.target,m=r.zOrigin,b="",w="auto"===v&&t&&1!==t||!0===v;if(m&&(l!==Jo||u!==Jo)){var _,x=parseFloat(u)*Ji,k=Math.sin(x),S=Math.cos(x);x=parseFloat(l)*Ji,_=Math.cos(x),o=Zo(y,o,k*_*-m),a=Zo(y,a,-Math.sin(x)*-m),s=Zo(y,s,S*_*-m+m)}g!==Xo&&(b+="perspective("+g+Qo),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(w||o!==Xo||a!==Xo||s!==Xo)&&(b+=s!==Xo||w?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+Qo),c!==Jo&&(b+="rotate("+c+Qo),u!==Jo&&(b+="rotateY("+u+Qo),l!==Jo&&(b+="rotateX("+l+Qo),f===Jo&&h===Jo||(b+="skew("+f+", "+h+Qo),1===p&&1===d||(b+="scale("+p+", "+d+Qo),y.style[go]=b||"translate(0, 0)"},ta=function(t,e){var r,n,i,o,a,s=e||this,c=s.xPercent,u=s.yPercent,l=s.x,f=s.y,h=s.rotation,p=s.skewX,d=s.skewY,g=s.scaleX,v=s.scaleY,y=s.target,m=s.xOrigin,b=s.yOrigin,w=s.xOffset,_=s.yOffset,x=s.forceCSS,k=parseFloat(l),S=parseFloat(f);h=parseFloat(h),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),h+=d),h||p?(h*=Ji,p*=Ji,r=Math.cos(h)*g,n=Math.sin(h)*g,i=Math.sin(h-p)*-v,o=Math.cos(h-p)*v,p&&(d*=Ji,a=Math.tan(p-d),i*=a=Math.sqrt(1+a*a),o*=a,d&&(a=Math.tan(d),r*=a=Math.sqrt(1+a*a),n*=a)),r=Cr(r),n=Cr(n),i=Cr(i),o=Cr(o)):(r=g,o=v,n=i=0),(k&&!~(l+"").indexOf("px")||S&&!~(f+"").indexOf("px"))&&(k=Do(y,"x",l,"px"),S=Do(y,"y",f,"px")),(m||b||w||_)&&(k=Cr(k+m-(m*r+b*i)+w),S=Cr(S+b-(m*n+b*o)+_)),(c||u)&&(a=y.getBBox(),k=Cr(k+c/100*a.width),S=Cr(S+u/100*a.height)),a="matrix("+r+","+n+","+i+","+o+","+k+","+S+")",y.setAttribute("transform",a),x&&(y.style[go]=a)},ea=function(t,e,r,n,i){var o,a,s=360,c=qe(i),u=parseFloat(i)*(c&&~i.indexOf("rad")?Wi:1)-n,l=n+u+"deg";return c&&("short"===(o=i.split("_")[1])&&(u%=s)!=u%180&&(u+=u<0?s:-360),"cw"===o&&u<0?u=(u+36e9)%s-~~(u/s)*s:"ccw"===o&&u>0&&(u=(u-36e9)%s-~~(u/s)*s)),t._pt=a=new Ei(t._pt,e,r,n,u,no),a.e=l,a.u="deg",t._props.push(r),a},ra=function(t,e){for(var r in e)t[r]=e[r];return t},na=function(t,e,r){var n,i,o,a,s,c,u,l=ra({},r._gsap),f=r.style;for(i in l.svg?(o=r.getAttribute("transform"),r.setAttribute("transform",""),f[go]=e,n=Yo(r,1),Lo(r,go),r.setAttribute("transform",o)):(o=getComputedStyle(r)[go],f[go]=e,n=Yo(r,1),f[go]=o),Zi)(o=l[i])!==(a=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=pn(o)!==(u=pn(a))?Do(r,i,o,u):parseFloat(o),c=parseFloat(a),t._pt=new Ei(t._pt,n,i,s,c-s,ro),t._pt.u=u||0,t._props.push(i));ra(n,l)};Tr("padding,margin,Width,Radius",(function(t,e){var r="Top",n="Right",i="Bottom",o="Left",a=(e<3?[r,n,i,o]:[r+o,r+n,i+n,i+o]).map((function(r){return e<2?t+r:"border"+r+t}));zo[e>1?"border"+t:t]=function(t,e,r,n,i){var o,s;if(arguments.length<4)return o=a.map((function(e){return Mo(t,e,r)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(n+"").split(" "),s={},a.forEach((function(t,e){return s[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,s,i)}}));var ia,oa,aa={name:"css",register:Oo,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,n,i){var o,a,s,c,u,l,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O=this._props,E=t.style,j=r.vars.startAt;for(f in Hi||Oo(),this.styles=this.styles||wo(t),w=this.styles.props,this.tween=r,e)if("autoRound"!==f&&(a=e[f],!wr[f]||!ai(f,e,r,n,t,i)))if(u=typeof a,l=zo[f],"function"===u&&(u=typeof(a=a.call(r,n,t,i))),"string"===u&&~a.indexOf("random(")&&(a=Sn(a)),l)l(this,t,f,a,r)&&(b=1);else if("--"===f.substr(0,2))o=(getComputedStyle(t).getPropertyValue(f)+"").trim(),a+="",Rn.lastIndex=0,Rn.test(o)||(h=pn(o),p=pn(a)),p?h!==p&&(o=Do(t,f,o,p)+p):h&&(a+=h),this.add(E,"setProperty",o,a,n,i,0,0,f),O.push(f),w.push(f,0,E[f]);else if("undefined"!==u){if(j&&f in j?(o="function"==typeof j[f]?j[f].call(r,n,t,i):j[f],qe(o)&&~o.indexOf("random(")&&(o=Sn(o)),pn(o+"")||"auto"===o||(o+=De.units[f]||pn(Mo(t,f))||""),"="===(o+"").charAt(1)&&(o=Mo(t,f))):o=Mo(t,f),c=parseFloat(o),(d="string"===u&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),f in eo&&("autoAlpha"===f&&(1===c&&"hidden"===Mo(t,"visibility")&&s&&(c=0),w.push("visibility",0,E.visibility),Po(this,E,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==f&&"transform"!==f&&~(f=eo[f]).indexOf(",")&&(f=f.split(",")[0])),g=f in Zi)if(this.styles.save(f),v||((y=t._gsap).renderTransform&&!e.parseTransform||Yo(t,e.parseTransform),m=!1!==e.smoothOrigin&&y.smooth,(v=this._pt=new Ei(this._pt,E,go,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new Ei(this._pt,y,"scaleY",y.scaleY,(d?Pr(y.scaleY,d+s):s)-y.scaleY||0,ro),this._pt.u=0,O.push("scaleY",f),f+="X";else{if("transformOrigin"===f){w.push(vo,0,E[vo]),x=void 0,k=void 0,S=void 0,k=(x=(_=a).split(" "))[0],S=x[1]||"50%","top"!==k&&"bottom"!==k&&"left"!==S&&"right"!==S||(_=k,k=S,S=_),x[0]=Ro[k]||k,x[1]=Ro[S]||S,a=x.join(" "),y.svg?Uo(t,a,0,m,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&Po(this,y,"zOrigin",y.zOrigin,p),Po(this,E,f,Vo(o),Vo(a)));continue}if("svgOrigin"===f){Uo(t,a,1,m,0,this);continue}if(f in Fo){ea(this,y,f,c,d?Pr(c,d+a):a);continue}if("smoothOrigin"===f){Po(this,y,"smooth",y.smooth,a);continue}if("force3D"===f){y[f]=a;continue}if("transform"===f){na(this,a,t);continue}}else f in E||(f=So(f)||f);if(g||(s||0===s)&&(c||0===c)&&!to.test(a)&&f in E)s||(s=0),(h=(o+"").substr((c+"").length))!==(p=pn(a)||(f in De.units?De.units[f]:h))&&(c=Do(t,f,o,p)),this._pt=new Ei(this._pt,g?y:E,f,c,(d?Pr(c,d+s):s)-c,g||"px"!==p&&"zIndex"!==f||!1===e.autoRound?ro:oo),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=o,this._pt.r=io);else if(f in E)Io.call(this,t,f,o,d?d+a:a);else if(f in t)this.add(t,f,o||t[f],d?d+a:a,n,i);else if("parseTransform"!==f){lr(f,a);continue}g||(f in E?w.push(f,0,E[f]):"function"==typeof t[f]?w.push(f,2,t[f]()):w.push(f,1,o||t[f])),O.push(f)}b&&Oi(this)},render:function(t,e){if(e.tween._time||!Yi())for(var r=e._pt;r;)r.r(t,r.d),r=r._next;else e.styles.revert()},get:Mo,aliases:eo,getSetter:function(t,e,r){var n=eo[e];return n&&n.indexOf(",")<0&&(e=n),e in Zi&&e!==vo&&(t._gsap.x||Mo(t,"x"))?r&&Ui===r?"scale"===e?fo:lo:(Ui=r||{})&&("scale"===e?ho:po):t.style&&!Ve(t.style[e])?co:~e.indexOf("-")?uo:yi(t,e)},core:{_removeProperty:Lo,_getMatrix:qo}};zi.utils.checkPrefix=So,zi.core.getStyleSaver=wo,oa=Tr("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(ia="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Zi[t]=1})),Tr(ia,(function(t){De.units[t]="deg",Fo[t]=1})),eo[oa[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ia,Tr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");eo[e[1]]=oa[e[0]]})),Tr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){De.units[t]="px"})),zi.registerPlugin(aa);var sa,ca,ua,la=zi.registerPlugin(aa)||zi;function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function ha(){ha=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==fa(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(fa(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function pa(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function da(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?da(Object(r),!0).forEach((function(e){va(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function va(t,e,r){return(e=ba(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ya(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ba(n.key),n)}}function ba(t){var e=function(t){if("object"!=fa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fa(e)?e:e+""}function wa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wa=function(){return!!t})()}function _a(t){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_a(t)}function xa(t,e){return xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xa(t,e)}la.core.Tween;var ka,Sa,Oa,Ea=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,r){return e=_a(e),function(t,e){if(e&&("object"==fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wa()?Reflect.construct(e,r||[],_a(t).constructor):e.apply(t,r))}(this,e,["agora-showcase","".concat(T.BASE_COMPONENTS,"/Showcase/Showcase.css")])).loading=new n(!0,t),t.error=new n(null,t),t.data=new n(null,t),t.lastShown=new n(null,t),t.updateTime=new n(7500,t),t.fetchData(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xa(t,e)}(e,t),r=e,i=[{key:"template",value:function(){if(this.loading.getState())return C(sa||(sa=ya(["\n                <h1>Loading...</h1>\n            "])));if(this.error.getState())return C(ca||(ca=ya(["\n                <h1>Error!</h1>\n            "])));if(this.data.getState()){var t=this.displayRandomItem();return C(ua||(ua=ya(['\n                <div class="item-info">\n                    <div>\n                        <h1>','</h1>\n                        <span class="icon">',"</span>\n                    </div>\n                    <p>",'</p>\n                </div>\n                <div class="item-link">\n                    <span>\n                        <agora-text-button class="learn-more-button" href="','">Learn more</agora-text-button>\n                    </span>\n                </div>\n                \n            '])),t.name,M,t.description,t.link)}}},{key:"listeners",value:function(){var t=this;this.$(".learn-more-button").onClick.setState((function(){window.open(t.$(".learn-more-button").getAttribute("href"),"_blank")}))}},{key:"flattenData",value:function(t){var e=this,r={};return Object.keys(t).forEach((function(n){r[n]=t[n],console.log(Object.keys(t[n].subServices).length,"Sub services"),Object.keys(t[n].subServices).length>0&&(r=ga(ga({},r),e.flattenData(t[n].subServices)))})),console.log(r),r}},{key:"displayRandomItem",value:function(){var t=this,e=Object.keys(this.data.getState()),r=e[Math.floor(Math.random()*e.length)];return this.lastShown.getState()===r?this.displayRandomItem():(this.lastShown.setState(r,!1),setTimeout((function(){la.to(t,{opacity:0,duration:.5,onComplete:function(){t.render(),setTimeout((function(){la.to(t,{opacity:1,duration:.5})}),500)}})}),this.updateTime.getState()),ga({name:r},this.data.getState()[r]))}},{key:"fetchData",value:(o=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){pa(o,n,i,a,s,"next",t)}function s(t){pa(o,n,i,a,s,"throw",t)}a(void 0)}))}}(ha().mark((function t(){var e,r;return ha().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht();case 2:e=t.sent,r=this.flattenData(e),this.data.setState(r,!1),this.loading.setState(!1),console.log(this.data.getState());case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],i&&ma(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(t);function ja(t){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(t)}function Ta(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ca(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,La(n.key),n)}}function La(t){var e=function(t){if("object"!=ja(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ja(e)?e:e+""}function Pa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pa=function(){return!!t})()}function Aa(t){return Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Aa(t)}function $a(t,e){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$a(t,e)}window.customElements.define("agora-showcase",Ea);var Da,Ma,Ia,Ra,Na,za,Ba,Fa,Ga,Ha=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=Aa(e),function(t,e){if(e&&("object"==ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pa()?Reflect.construct(e,r||[],Aa(t).constructor):e.apply(t,r))}(this,r,["agora-greetings","".concat(T.BASE_COMPONENTS,"/Greetings/Greetings.css")])).configContext=new e("config",t,!1),t.resultContext=new e("result",t,!0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$a(t,e)}(r,t),n=r,(i=[{key:"template",value:function(){return this.getAttribute("hidden")?this.wrapper.classList.add("hidden"):this.wrapper.classList.remove("hidden"),C(ka||(ka=Ta(['\n            \x3c!-- Greetings --\x3e\n            <div class="welcome-message">\n                <span class="default-welcome">Welcome</span> \n                <div class="logo">\n                    <span class="agora-name">Agora</span>\n                    <span class="alliance-name">','</span>\n                </div>\n                <span class="multilanguage-welcome">\n                    <span>WELCOME</span>\n                    <span style="animation-delay: 0.5s">BIENVENUE</span>\n                    <span style="animation-delay: 1s">TERVETULOA</span>\n                    <span style="animation-delay: 1s">BIENVENUE</span>\n                    <span style="animation-delay: 1.5s">BENVENUTI</span>\n                    <span style="animation-delay: 1.5s">BEM-VINDOS</span>\n                    <span style="animation-delay: 2s">WITAMY</span>\n                    <span style="animation-delay: 2s">BENVINGUTS</span>\n                    <span style="animation-delay: 2.5s">VÄLKOMMEN</span>\n                </span>\n            </div>\n            ',"\n        "])),this.configContext.getData("name"),this.configContext.getData("ai_enabled")?C(Sa||(Sa=Ta(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            You can navigate directly through our acceleration services \n                            or ask our assistant to guide you through the process of finding the right resources.\n                        </p>\n                    ']))):C(Oa||(Oa=Ta(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            Use our search tool to quickly find the resources and acceleration services you need.\n                            Simply enter your query to get started.\n                        </p>\n                    ']))))}},{key:"hide",value:function(){this.wrapper.classList.add("hidden")}},{key:"unhide",value:function(){this.wrapper.classList.remove("hidden")}}])&&Ca(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(t);function qa(t){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(t)}function Ua(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ya(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Va(n.key),n)}}function Va(t){var e=function(t){if("object"!=qa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qa(e)?e:e+""}function Za(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Za=function(){return!!t})()}function Wa(t){return Wa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(t)}function Ja(t,e){return Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ja(t,e)}window.customElements.define("agora-greetings",Ha);var Xa,Qa=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=Wa(e),function(t,e){if(e&&("object"==qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Za()?Reflect.construct(e,r||[],Wa(t).constructor):e.apply(t,r))}(this,r,["agora-landing","".concat(T.BASE_COMPONENTS,"/Landing/Landing.css")])).configContext=new e("config",t,!0),t.servicesContext=new e("service",t,!0),t.resultContext=new e("result",t,!0),t.servicesContext.setData({services:[]}),t.lastShown=new n(-1,t),t.updateTime=new n(1e4,t),t.serviceTree=new n(null,t),t.isAnimating=new n(!1,t),t.greetingsDuration=new n(7500,t),t.isGreeting=new n(!1,t),t.isGreeted=new n(!1,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ja(t,e)}(r,t),i=r,o=[{key:"template",value:function(){var t=this;if(this.isGreeted.getState()||this.isGreeting.getState()||(this.isGreeting.setState(!0,!1),setTimeout((function(){zi.to(t.wrapper,{opacity:0,duration:1,onComplete:function(){t.isGreeting.setState(!1,!1),t.isGreeted.setState(!0,!1),t.render(),zi.set(t.wrapper,{x:-500}),zi.to(t.wrapper,{delay:.3,x:0,opacity:1,duration:1})}})}),this.greetingsDuration.getState())),this.isGreeting.getState())return C(Da||(Da=Ua(["\n            <agora-greetings></agora-greetings>\n        "])));var e=this.servicesContext.getData("services");if(!e||!this.resultContext.getData("data")||this.resultContext.getData("data").length>0)return this.parentElement.style.display="none","";var r=this.displayOrderedService(e);if(!r)return"";var n=Array.from(new Set(r.fields.suggested_search_terms.split(","))).map((function(t){return t.trim()})),i=!r.fields.website||r.fields.website instanceof Array||!r.fields.website.fields.domain?C(Ia||(Ia=Ua([""]))):C(Ma||(Ma=Ua(['<agora-text-button \n                    class="learn-more-button" \n                    href="','"\n                >Learn more</agora-text-button>'])),r.fields.website.fields.domain);return C(Ra||(Ra=Ua(['\n            <canvas class="node-connection-canvas"></canvas>\n            \x3c!-- Banner Image --\x3e\n            <div class="banner-image default-image">\n                <h1>','</h1>\n                <span class="icon">','</span>\n            </div>\n\n            \x3c!-- Item Image --\x3e\n            <div class="item-image-wrapper">\n                ','\n            </div>\n\n            \x3c!-- Item Info --\x3e\n            <div class="item-info">\n                <p>','</p>\n            </div>\n\n            \x3c!-- Item Structure --\x3e\n            <span class="node-view-label">Service Content</span>\n            <div class="node-wrapper">','</div>\n\n            \x3c!-- Suggested Search Terms Tags --\x3e\n            <span class="search-tags-label">Suggested Search Terms</span>\n            <div class="search-terms-wrapper">\n                ','\n            </div>\n\n            \x3c!-- Learn More Button --\x3e\n            <div class="item-link">\n                <span>',"</span>\n            </div>\n        "])),r.fields.name,M,r.fields.image?C(Na||(Na=Ua(['<img class="item-image" src="',"",'" alt="','" />'])),this.configContext.getData("host"),r.fields.image,r.fields.name):"",r.fields.description,this.renderNodeView(r),n.map((function(t){return C(za||(za=Ua(['<span class="search-term-tag">',"</span>"])),t)})).join(""),i)}},{key:"listeners",value:function(){var t=this;this.$(".learn-more-button")&&this.$(".learn-more-button").onClick.setState((function(){window.open(t.$(".learn-more-button").getAttribute("href"),"_blank")})),window.addEventListener("resize",(function(){t.drawConnections()}));var e=this.$$(".search-term-tag"),r=document.querySelector("agora-app").$("agora-layout-v2").$("agora-searchbar");e.forEach((function(t){t.onclick=function(){r.autocompleteFromSuggestedTag(t.innerText)}}))}},{key:"displayOrderedService",value:function(t){var e=this,r=this.lastShown.getState()+1;return r===t.length&&(r=0),this.isAnimating.getState()?t[this.lastShown.getState()]:(this.isAnimating.setState(!0,!1),setTimeout((function(){zi.to(e.wrapper,{opacity:0,x:500,duration:.5,onComplete:function(){e.isAnimating.setState(!1,!1),e.render(),zi.set(e.wrapper,{x:0}),zi.to(e.wrapper,{delay:.3,opacity:1,duration:.5})}})}),this.updateTime.getState()),t[r]?(this.lastShown.setState(r,!1),t[r]):void 0)}},{key:"renderNodeView",value:function(t){var e=this;setTimeout((function(){e.drawConnections()}),100);var r=function(t,e){var n={type:e,data:t.fields,children:[]},i=t.fields.sub_acceleration_services?Array.from(t.fields.sub_acceleration_services):[],o=t.fields.catalogues.websites?Array.from(t.fields.catalogues.websites):[];return i.length>0&&i.forEach((function(t){var e=r(t,"sub-service");e&&n.children.push(e)})),o.length>0&&o.forEach((function(t){var e={type:"catalogue",data:t};e&&n.children.push(e)})),n||null},n=r(t,"root-service");this.serviceTree.setState(n,!1);var i=[],o=function(t,e){i[e]||i.push([]),i[e].push(t),t.children&&Array.from(t.children).length>0&&Array.from(t.children).forEach((function(t){o(t,e+1)}))};return o(n,0),i.length<=1?"":C(Ba||(Ba=Ua(["\n            ","\n        "])),i.map((function(t,e){return 0===e?"":C(Fa||(Fa=Ua(['\n                        <div class="layer" data-layer="','">\n                            ',"\n                        </div>\n                    "])),e,t.map((function(t){return C(Ga||(Ga=Ua(['\n                                        <div class="node ','" id="','">\n                                            <span class="node-name">','</span>\n                                            <span class="node-description">','</span>\n                                            <div class="node-actions">\n                                                <div class="node-actions-info">\n                                                    ','\n                                                </div>\n                                                <div class="node-actions-icons">\n                                                    \x3c!-- <span class="node-action-icon">',"</span> --\x3e\n                                                </div>\n                                            </div> \n                                        </div>\n                                    "])),t.type,t.data.name.toLowerCase().replaceAll(/ /g,"-"),t.data.name,t.data.description,"sub-service"===t.type?"Service":"Catalogue",Z)})).join(""))})).join(""))}},{key:"drawConnections",value:function(){var t=this,e=this.$(".node-connection-canvas");if(e){e.width=this.wrapper.clientWidth,e.height=this.wrapper.clientHeight;var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height);var n=this.serviceTree.getState();if(n){var i=function(e){e.children&&e.children.length>0&&e.children.forEach((function(n){var o=e.data.name.toLowerCase().replaceAll(/ /g,"-"),a=n.data.name.toLowerCase().replaceAll(/ /g,"-"),s=t.$("#".concat(o)),c=t.$("#".concat(a));s&&c&&t.drawNodeConnectionBetween(s,c,r),i(n)}))};n.children&&n.children.length>0&&n.children.forEach((function(t){i(t)}))}}}},{key:"drawNodeConnectionBetween",value:function(t,e,r){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.wrapper.getBoundingClientRect(),a=n.left+n.width-1-o.left,s=n.top+n.height/2-o.top,c=i.left-1-o.left,u=i.top+i.height/2-o.top,l=a+60,f=s,h=c-60,p=u;r.beginPath(),r.moveTo(a,s),r.bezierCurveTo(l,f,h,p,c,u),r.strokeStyle="grey",r.lineWidth=3,r.stroke()}}],o&&Ya(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o}(t);function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function ts(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,es(n.key),n)}}function es(t){var e=function(t){if("object"!=Ka(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ka(e)?e:e+""}function rs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rs=function(){return!!t})()}function ns(t){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(t)}function is(t,e){return is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},is(t,e)}window.customElements.define("agora-landing",Qa);var os=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,r){return e=ns(e),function(t,e){if(e&&("object"==Ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rs()?Reflect.construct(e,r||[],ns(t).constructor):e.apply(t,r))}(this,e,["agora-text-button","".concat(T.BASE_COMPONENTS,"/TextButton/TextButton.css")])).onClick=new n(null,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&is(t,e)}(e,t),r=e,i=[{key:"template",value:function(){return C(Xa||(t=['\n            <button class="button">\n                <div>\n                    <span class="text">','</span>\n                    <span class="text">',"</span>\n                </div>\n            </button>\n        "],e||(e=t.slice(0)),Xa=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),this.textContent,this.textContent);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".button").onclick=function(){return t.onClick.getState()()}}}],i&&ts(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(t);function as(t){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(t)}window.customElements.define("agora-text-button",os);var ss,cs=function(t,e){var r=[];return function t(n){for(var i in n)n.hasOwnProperty(i)&&(i===e&&r.push((o={},a=e,s=n[i],(a=function(t){var e=function(t){if("object"!=as(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=as(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==as(e)?e:e+""}(a))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o)),"object"===as(n[i])&&null!==n[i]&&t(n[i]));var o,a,s}(t),r};function us(t){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(t)}function ls(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fs(){fs=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==us(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(us(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function hs(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function ps(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ds(n.key),n)}}function ds(t){var e=function(t){if("object"!=us(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==us(e)?e:e+""}function gs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gs=function(){return!!t})()}function vs(t){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(t)}function ys(t,e){return ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ys(t,e)}var ms,bs,ws,_s,xs=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=vs(e),function(t,e){if(e&&("object"==us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gs()?Reflect.construct(e,r||[],vs(t).constructor):e.apply(t,r))}(this,r,["agora-chat","".concat(T.COMPLEX_COMPONENTS,"/Chat/Chat.css")])).configContext=new e("config",t,!1),t.resultContext=new e("result",t,!1),t.chatContext=new e("chat",t,!1),t.serviceContext=new e("service",t,!1),t.mockBotResponse=new n(-1,t),t.chatHistoryIsEmpty()&&t.fold(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ys(t,e)}(r,t),i=r,o=[{key:"template",value:function(){return C(ss||(t=["\n            <agora-chat-window></agora-chat-window>\n            <agora-chat-input></agora-chat-input>\n        "],e||(e=t.slice(0)),ss=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"unfold",value:function(){this.wrapper.classList.remove("folded")}},{key:"fold",value:function(){this.wrapper.classList.add("folded")}},{key:"toogleFold",value:function(){this.wrapper.classList.toggle("folded")}},{key:"formatChatHistoryForLLM",value:function(){var t=this.chatContext.getData("history");if(!t)return[];for(var e=[],r=0;r<t.length;r+=2){var n=t.slice(r,r+2);e.push({user:n[0].content,assistant:n[1].content})}return e}},{key:"sendMessage",value:(a=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){hs(o,n,i,a,s,"next",t)}function s(t){hs(o,n,i,a,s,"throw",t)}a(void 0)}))}}(fs().mark((function t(e){var r,n,i,o=this;return fs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=cs(this.serviceContext.getData("services"),"model").map((function(t){var e=o.resultContext.getData("data")?o.resultContext.getData("data").find((function(e){return e.model===t.model})):null;return{model:t.model,description:"This is the model description",featured_element_ids:e?e.featured_element_ids:[]}})),n=this.formatChatHistoryForLLM(),this.$("agora-chat-window").addMessage(e,"user"),this.storeMessageInContext(e,"user"),this.setLoading(!0),t.next=7,gt(this.configContext.getData("host"),e,r,n);case 7:i=t.sent,this.handleBotResponse(i.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setLoading",value:function(t){this.$("agora-chat-window").loading.setState(t),this.$("agora-chat-input").$("input").classList.toggle("blocked",t),this.$("agora-chat-input").$("input").disabled=t,this.$("agora-chat-input").$("input").setAttribute("placeholder",t?"Waiting for response...":"Type your message...")}},{key:"handleBotResponse",value:function(t){if(console.log("RESPONSE",t),t.message&&(this.$("agora-chat-window").addMessage(t.message,"bot"),this.setLoading(!1),this.storeMessageInContext(t.message,"bot"),t.result)){console.log("1. Response contains results");var e=t.result.filter((function(t){return t.element_ids.length>0}));if(console.log("2. Filtered (not empty) results are:",e),e.length>0){console.log("3. Results are not empty");var r=function(t){return function(t){if(Array.isArray(t))return ls(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ls(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ls(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(this.serviceContext.getData("services").map((function(t){return{service:t.fields.name,models:cs(t,"model").map((function(t){return t.model}))}}))));return console.log("serviceModels",r),e.forEach((function(t){var e=r.find((function(e){return e.models.includes(t.model)})).service;t.service=e})),void this.resultContext.setData({data:t.result},!0)}}}},{key:"storeMessageInContext",value:function(t,e){var r=this.chatContext.getData("history");r?(r.push({content:t,author:e,time:(new Date).toLocaleTimeString()}),this.chatContext.setData({history:r})):this.chatContext.setData({history:[{content:t,author:e,time:(new Date).toLocaleTimeString()}]})}},{key:"chatHistoryIsEmpty",value:function(){return!this.chatContext.getData("history")||0===this.chatContext.getData("history").length}}],o&&ps(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,a}(t);function ks(t){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(t)}function Ss(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Os(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Es(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,js(n.key),n)}}function js(t){var e=function(t){if("object"!=ks(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ks(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ks(e)?e:e+""}function Ts(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ts=function(){return!!t})()}function Cs(t){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(t)}function Ls(t,e){return Ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ls(t,e)}window.customElements.define("agora-chat",xs);var Ps=function(t){function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(t,e,r){return e=Cs(e),function(t,e){if(e&&("object"==ks(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ts()?Reflect.construct(e,r||[],Cs(t).constructor):e.apply(t,r))}(this,i,["agora-chat-window","".concat(T.MID_COMPONENTS,"/ChatWindow/ChatWindow.css")])).chatContext=new e("chat",t,!1),t.loading=new n(!1,t),t.messages=new n([],t),t.defaultPrompts=["Show me infrastructures","How can you help me?","I'm looking for projects","I want the latest featured projects"],t.signals=new r(t),t.signals.register("results-updated"),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ls(t,e)}(i,t),o=i,(a=[{key:"template",value:function(){return C(ms||(ms=Os(['\n            <div \n                class="actions-wrapper"\n                style="','"\n            >\n                \x3c!-- Clear chat button --\x3e\n                    <div class="clear-chat-button ','">\n                    ','\n                </div>\n            </div>\n\n            \n\n            \x3c!-- Chat container --\x3e\n            <div class="chat-container">\n                ',"\n                ",'\n            </div>\n            \n            \x3c!-- Default prompts --\x3e\n            <div \n                class="default-prompt-wrapper"\n                style="','"\n            >\n                ',"\n            </div>\n\n            \n        "])),this.messages.getState().length>0?"":"display: none;",1===this.messages.getState().length?"fade-in":"",z,this.messages.getState().map((function(t){return C(bs||(bs=Os(['\n                    <agora-chat-bubble \n                        author="','" \n                        time="','"\n                    >\n                        ',"\n                    </agora-chat-bubble>\n                "])),t.author,t.time,t.content)})).join(""),this.loading.getState()?C(ws||(ws=Os(["<agora-chat-loader></agora-chat-loader>"]))):"",this.messages.getState().length>0?"display: none;":"",this.defaultPrompts.map((function(t){return C(_s||(_s=Os(['\n                    <span class="prompt">',"</span>\n                "])),t)})).join(""))}},{key:"listeners",value:function(){var t=this;this.$(".clear-chat-button").onclick=function(){return t.clear()},this.$$(".prompt").forEach((function(e){e.onclick=function(){return t.addPrompt(e.innerText)}}))}},{key:"addPrompt",value:function(t){this.parentComponent.sendMessage(t)}},{key:"addMessage",value:function(t,e){var r={content:t,time:(new Date).toLocaleTimeString(),author:e};this.messages.setState([].concat(function(t){return function(t){if(Array.isArray(t))return Ss(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ss(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ss(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.messages.getState()),[r])),this.scrollToBottom(!0)}},{key:"scrollToBottom",value:function(t){var e=this;setTimeout((function(){var r=e.$(".chat-container");r.scrollTo({top:r.scrollHeight,behavior:t?"smooth":"auto"})}),100)}},{key:"load",value:function(){var t=this.chatContext.getData("history");t&&(this.messages.setState(t,!1),this.scrollToBottom(!1))}},{key:"clear",value:function(){this.chatContext.setData({history:[]},!1),this.messages.setState([]),this.signals.emit("results-updated")}}])&&Es(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a}(t);window.customElements.define("agora-chat-window",Ps);let As={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function $s(t){As=t}const Ds={exec:()=>null};function Ms(t,e=""){let r="string"==typeof t?t:t.source;const n={replace:(t,e)=>{let i="string"==typeof e?e:e.source;return i=i.replace(Is.caret,"$1"),r=r.replace(t,i),n},getRegex:()=>new RegExp(r,e)};return n}const Is={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Rs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ns=/(?:[*+-]|\d{1,9}[.)])/,zs=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Bs=Ms(zs).replace(/bull/g,Ns).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Fs=Ms(zs).replace(/bull/g,Ns).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gs=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Hs=/(?!\s*\])(?:\\.|[^\[\]\\])+/,qs=Ms(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Hs).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Us=Ms(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ns).getRegex(),Ys="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vs=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zs=Ms("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Vs).replace("tag",Ys).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ws=Ms(Gs).replace("hr",Rs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ys).getRegex(),Js={blockquote:Ms(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ws).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:qs,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Rs,html:Zs,lheading:Bs,list:Us,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Ws,table:Ds,text:/^[^\n]+/},Xs=Ms("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Rs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ys).getRegex(),Qs={...Js,lheading:Fs,table:Xs,paragraph:Ms(Gs).replace("hr",Rs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Xs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ys).getRegex()},Ks={...Js,html:Ms("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Vs).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ds,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ms(Gs).replace("hr",Rs).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Bs).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},tc=/^( {2,}|\\)\n(?!\s*$)/,ec=/[\p{P}\p{S}]/u,rc=/[\s\p{P}\p{S}]/u,nc=/[^\s\p{P}\p{S}]/u,ic=Ms(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,rc).getRegex(),oc=/(?!~)[\p{P}\p{S}]/u,ac=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,sc=Ms(ac,"u").replace(/punct/g,ec).getRegex(),cc=Ms(ac,"u").replace(/punct/g,oc).getRegex(),uc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",lc=Ms(uc,"gu").replace(/notPunctSpace/g,nc).replace(/punctSpace/g,rc).replace(/punct/g,ec).getRegex(),fc=Ms(uc,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,oc).getRegex(),hc=Ms("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nc).replace(/punctSpace/g,rc).replace(/punct/g,ec).getRegex(),pc=Ms(/\\(punct)/,"gu").replace(/punct/g,ec).getRegex(),dc=Ms(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),gc=Ms(Vs).replace("(?:--\x3e|$)","--\x3e").getRegex(),vc=Ms("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",gc).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yc=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mc=Ms(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",yc).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bc=Ms(/^!?\[(label)\]\[(ref)\]/).replace("label",yc).replace("ref",Hs).getRegex(),wc=Ms(/^!?\[(ref)\](?:\[\])?/).replace("ref",Hs).getRegex(),_c={_backpedal:Ds,anyPunctuation:pc,autolink:dc,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:tc,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ds,emStrongLDelim:sc,emStrongRDelimAst:lc,emStrongRDelimUnd:hc,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:mc,nolink:wc,punctuation:ic,reflink:bc,reflinkSearch:Ms("reflink|nolink(?!\\()","g").replace("reflink",bc).replace("nolink",wc).getRegex(),tag:vc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ds},xc={..._c,link:Ms(/^!?\[(label)\]\((.*?)\)/).replace("label",yc).getRegex(),reflink:Ms(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yc).getRegex()},kc={..._c,emStrongRDelimAst:fc,emStrongLDelim:cc,url:Ms(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Sc={...kc,br:Ms(tc).replace("{2,}","*").getRegex(),text:Ms(kc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Oc={normal:Js,gfm:Qs,pedantic:Ks},Ec={normal:_c,gfm:kc,breaks:Sc,pedantic:xc},jc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tc=t=>jc[t];function Cc(t,e){if(e){if(Is.escapeTest.test(t))return t.replace(Is.escapeReplace,Tc)}else if(Is.escapeTestNoEncode.test(t))return t.replace(Is.escapeReplaceNoEncode,Tc);return t}function Lc(t){try{t=encodeURI(t).replace(Is.percentDecode,"%")}catch{return null}return t}function Pc(t,e){const r=t.replace(Is.findPipe,((t,e,r)=>{let n=!1,i=e;for(;--i>=0&&"\\"===r[i];)n=!n;return n?"|":" |"})).split(Is.splitPipe);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(Is.slashPipe,"|");return r}function Ac(t,e,r){const n=t.length;if(0===n)return"";let i=0;for(;i<n&&t.charAt(n-i-1)===e;)i++;return t.slice(0,n-i)}function $c(t,e,r,n,i){const o=e.href,a=e.title||null,s=t[1].replace(i.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){n.state.inLink=!0;const t={type:"link",raw:r,href:o,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,t}return{type:"image",raw:r,href:o,title:a,text:s}}class Dc{options;rules;lexer;constructor(t){this.options=t||As}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ac(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],r=function(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(null===n)return e;const i=n[1];return e.split("\n").map((t=>{const e=t.match(r.other.beginningSpace);if(null===e)return t;const[n]=e;return n.length>=i.length?t.slice(i.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=Ac(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ac(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=Ac(e[0],"\n").split("\n"),r="",n="";const i=[];for(;t.length>0;){let e=!1;const o=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))o.push(t[a]),e=!0;else{if(e)break;o.push(t[a])}t=t.slice(a);const s=o.join("\n"),c=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${s}`:s,n=n?`${n}\n${c}`:c;const u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=u,0===t.length)break;const l=i.at(-1);if("code"===l?.type)break;if("blockquote"===l?.type){const e=l,o=e.raw+"\n"+t.join("\n"),a=this.blockquote(o);i[i.length-1]=a,r=r.substring(0,r.length-e.raw.length)+a.raw,n=n.substring(0,n.length-e.text.length)+a.text;break}if("list"!==l?.type);else{const e=l,o=e.raw+"\n"+t.join("\n"),a=this.list(o);i[i.length-1]=a,r=r.substring(0,r.length-l.raw.length)+a.raw,n=n.substring(0,n.length-e.raw.length)+a.raw,t=o.substring(i.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:r,tokens:i,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const o=this.rules.other.listItemRegex(r);let a=!1;for(;t;){let r=!1,n="",s="";if(!(e=o.exec(t)))break;if(this.rules.block.hr.test(t))break;n=e[0],t=t.substring(n.length);let c=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),u=t.split("\n",1)[0],l=!c.trim(),f=0;if(this.options.pedantic?(f=2,s=c.trimStart()):l?f=e[1].length+1:(f=e[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,s=c.slice(f),f+=e[1].length),l&&this.rules.other.blankLine.test(u)&&(n+=u+"\n",t=t.substring(u.length+1),r=!0),!r){const e=this.rules.other.nextBulletRegex(f),r=this.rules.other.hrRegex(f),i=this.rules.other.fencesBeginRegex(f),o=this.rules.other.headingBeginRegex(f),a=this.rules.other.htmlBeginRegex(f);for(;t;){const h=t.split("\n",1)[0];let p;if(u=h,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),p=u):p=u.replace(this.rules.other.tabCharGlobal,"    "),i.test(u))break;if(o.test(u))break;if(a.test(u))break;if(e.test(u))break;if(r.test(u))break;if(p.search(this.rules.other.nonSpaceChar)>=f||!u.trim())s+="\n"+p.slice(f);else{if(l)break;if(c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(i.test(c))break;if(o.test(c))break;if(r.test(c))break;s+="\n"+u}l||u.trim()||(l=!0),n+=h+"\n",t=t.substring(h.length+1),c=p.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(a=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(s),p&&(h="[ ] "!==p[0],s=s.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:n,task:!!p,checked:h,loose:!1,text:s,tokens:[]}),i.raw+=n}const s=i.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),i.raw=i.raw.trimEnd();for(let t=0;t<i.items.length;t++)if(this.lexer.state.top=!1,i.items[t].tokens=this.lexer.blockTokens(i.items[t].text,[]),!i.loose){const e=i.items[t].tokens.filter((t=>"space"===t.type)),r=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));i.loose=r}if(i.loose)for(let t=0;t<i.items.length;t++)i.items[t].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:n}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const r=Pc(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const t of n)this.rules.other.tableAlignRight.test(t)?o.align.push("right"):this.rules.other.tableAlignCenter.test(t)?o.align.push("center"):this.rules.other.tableAlignLeft.test(t)?o.align.push("left"):o.align.push(null);for(let t=0;t<r.length;t++)o.header.push({text:r[t],tokens:this.lexer.inline(r[t]),header:!0,align:o.align[t]});for(const t of i)o.rows.push(Pc(t,o.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:o.align[e]}))));return o}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=Ac(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let r=0;for(let n=0;n<t.length;n++)if("\\"===t[n])n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}(e[2],"()");if(t>-1){const r=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,r).trim(),e[3]=""}}let r=e[2],n="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(r);t&&(r=t[1],n=t[3])}else n=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r.slice(1):r.slice(1,-1)),$c(e,{href:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r,title:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const t=e[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=r[0].charAt(0);return{type:"text",raw:t,text:t}}return $c(r,t,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(n&&(!n[3]||!r.match(this.rules.other.unicodeAlphaNumeric))&&(!n[1]&&!n[2]||!r||this.rules.inline.punctuation.exec(r))){const r=[...n[0]].length-1;let i,o,a=r,s=0;const c="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+r);null!=(n=c.exec(e));){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(o=[...i].length,n[3]||n[4]){a+=o;continue}if((n[5]||n[6])&&r%3&&!((r+o)%3)){s+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+s);const e=[...n[0]][0].length,c=t.slice(0,r+n.index+e+o);if(Math.min(r,o)%2){const t=c.slice(1,-1);return{type:"em",raw:c,text:t,tokens:this.lexer.inlineTokens(t)}}const u=c.slice(2,-2);return{type:"strong",raw:c,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(t),n=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&n&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,r;return"@"===e[2]?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,r;if("@"===e[2])t=e[0],r="mailto:"+t;else{let n;do{n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(n!==e[0]);t=e[0],r="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class Mc{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||As,this.options.tokenizer=this.options.tokenizer||new Dc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:Is,block:Oc.normal,inline:Ec.normal};this.options.pedantic?(e.block=Oc.pedantic,e.inline=Ec.pedantic):this.options.gfm&&(e.block=Oc.gfm,this.options.breaks?e.inline=Ec.breaks:e.inline=Ec.gfm),this.tokenizer.rules=e}static get rules(){return{block:Oc,inline:Ec}}static lex(t,e){return new Mc(e).lex(t)}static lexInline(t,e){return new Mc(e).inlineTokens(t)}lex(t){t=t.replace(Is.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],r=!1){for(this.options.pedantic&&(t=t.replace(Is.tabCharGlobal,"    ").replace(Is.spaceLine,""));t;){let n;if(this.options.extensions?.block?.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))continue;if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length);const r=e.at(-1);1===n.raw.length&&void 0!==r?r.raw+="\n":e.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length);const r=e.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.at(-1).src=r.text):e.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length);const r=e.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),e.push(n);continue}let i=t;if(this.options.extensions?.startBlock){let e=1/0;const r=t.slice(1);let n;this.options.extensions.startBlock.forEach((t=>{n=t.call({lexer:this},r),"number"==typeof n&&n>=0&&(e=Math.min(e,n))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){const o=e.at(-1);r&&"paragraph"===o?.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):e.push(n),r=i.length!==t.length,t=t.substring(n.raw.length)}else if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length);const r=e.at(-1);"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):e.push(n)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let r=t,n=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(n=this.tokenizer.rules.inline.reflinkSearch.exec(r));)t.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(n=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(n=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,n.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i=!1,o="";for(;t;){let n;if(i||(o=""),i=!1,this.options.extensions?.inline?.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))continue;if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length);const r=e.at(-1);"text"===n.type&&"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.emStrong(t,r,o)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),e.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),e.push(n);continue}let a=t;if(this.options.extensions?.startInline){let e=1/0;const r=t.slice(1);let n;this.options.extensions.startInline.forEach((t=>{n=t.call({lexer:this},r),"number"==typeof n&&n>=0&&(e=Math.min(e,n))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(a)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),i=!0;const r=e.at(-1);"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):e.push(n)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class Ic{options;parser;constructor(t){this.options=t||As}space(t){return""}code({text:t,lang:e,escaped:r}){const n=(e||"").match(Is.notSpaceStart)?.[0],i=t.replace(Is.endingNewline,"")+"\n";return n?'<pre><code class="language-'+Cc(n)+'">'+(r?i:Cc(i,!0))+"</code></pre>\n":"<pre><code>"+(r?i:Cc(i,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,r=t.start;let n="";for(let e=0;e<t.items.length;e++){const r=t.items[e];n+=this.listitem(r)}const i=e?"ol":"ul";return"<"+i+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+i+">\n"}listitem(t){let e="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=r+" "+Cc(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",r="";for(let e=0;e<t.header.length;e++)r+=this.tablecell(t.header[e]);e+=this.tablerow({text:r});let n="";for(let e=0;e<t.rows.length;e++){const i=t.rows[e];r="";for(let t=0;t<i.length;t++)r+=this.tablecell(i[t]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+n+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Cc(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),i=Lc(t);if(null===i)return n;let o='<a href="'+(t=i)+'"';return e&&(o+=' title="'+Cc(e)+'"'),o+=">"+n+"</a>",o}image({href:t,title:e,text:r}){const n=Lc(t);if(null===n)return Cc(r);let i=`<img src="${t=n}" alt="${r}"`;return e&&(i+=` title="${Cc(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Cc(t.text)}}class Rc{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Nc{options;renderer;textRenderer;constructor(t){this.options=t||As,this.options.renderer=this.options.renderer||new Ic,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Rc}static parse(t,e){return new Nc(e).parse(t)}static parseInline(t,e){return new Nc(e).parseInline(t)}parse(t,e=!0){let r="";for(let n=0;n<t.length;n++){const i=t[n];if(this.options.extensions?.renderers?.[i.type]){const t=i,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){r+=e||"";continue}}const o=i;switch(o.type){case"space":r+=this.renderer.space(o);continue;case"hr":r+=this.renderer.hr(o);continue;case"heading":r+=this.renderer.heading(o);continue;case"code":r+=this.renderer.code(o);continue;case"table":r+=this.renderer.table(o);continue;case"blockquote":r+=this.renderer.blockquote(o);continue;case"list":r+=this.renderer.list(o);continue;case"html":r+=this.renderer.html(o);continue;case"paragraph":r+=this.renderer.paragraph(o);continue;case"text":{let i=o,a=this.renderer.text(i);for(;n+1<t.length&&"text"===t[n+1].type;)i=t[++n],a+="\n"+this.renderer.text(i);r+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return r}parseInline(t,e=this.renderer){let r="";for(let n=0;n<t.length;n++){const i=t[n];if(this.options.extensions?.renderers?.[i.type]){const t=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=t||"";continue}}const o=i;switch(o.type){case"escape":case"text":r+=e.text(o);break;case"html":r+=e.html(o);break;case"link":r+=e.link(o);break;case"image":r+=e.image(o);break;case"strong":r+=e.strong(o);break;case"em":r+=e.em(o);break;case"codespan":r+=e.codespan(o);break;case"br":r+=e.br(o);break;case"del":r+=e.del(o);break;default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return r}}class zc{options;block;constructor(t){this.options=t||As}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Mc.lex:Mc.lexInline}provideParser(){return this.block?Nc.parse:Nc.parseInline}}const Bc=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Nc;Renderer=Ic;TextRenderer=Rc;Lexer=Mc;Tokenizer=Dc;Hooks=zc;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(const n of t)switch(r=r.concat(e.call(this,n)),n.type){case"table":{const t=n;for(const n of t.header)r=r.concat(this.walkTokens(n.tokens,e));for(const n of t.rows)for(const t of n)r=r.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=n;r=r.concat(this.walkTokens(t.items,e));break}default:{const t=n;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((n=>{const i=t[n].flat(1/0);r=r.concat(this.walkTokens(i,e))})):t.tokens&&(r=r.concat(this.walkTokens(t.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const r=e.renderers[t.name];e.renderers[t.name]=r?function(...e){let n=t.renderer.apply(this,e);return!1===n&&(n=r.apply(this,e)),n}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const r=e[t.level];r?r.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),r.extensions=e),t.renderer){const e=this.defaults.renderer||new Ic(this.defaults);for(const r in t.renderer){if(!(r in e))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const n=r,i=t.renderer[n],o=e[n];e[n]=(...t)=>{let r=i.apply(e,t);return!1===r&&(r=o.apply(e,t)),r||""}}r.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new Dc(this.defaults);for(const r in t.tokenizer){if(!(r in e))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const n=r,i=t.tokenizer[n],o=e[n];e[n]=(...t)=>{let r=i.apply(e,t);return!1===r&&(r=o.apply(e,t)),r}}r.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new zc;for(const r in t.hooks){if(!(r in e))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const n=r,i=t.hooks[n],o=e[n];zc.passThroughHooks.has(r)?e[n]=t=>{if(this.defaults.async)return Promise.resolve(i.call(e,t)).then((t=>o.call(e,t)));const r=i.call(e,t);return o.call(e,r)}:e[n]=(...t)=>{let r=i.apply(e,t);return!1===r&&(r=o.apply(e,t)),r}}r.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,n=t.walkTokens;r.walkTokens=function(t){let r=[];return r.push(n.call(this,t)),e&&(r=r.concat(e.call(this,t))),r}}this.defaults={...this.defaults,...r}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Mc.lex(t,e??this.defaults)}parser(t,e){return Nc.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{const n={...r},i={...this.defaults,...n},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===n.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=t);const a=i.hooks?i.hooks.provideLexer():t?Mc.lex:Mc.lexInline,s=i.hooks?i.hooks.provideParser():t?Nc.parse:Nc.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(e):e).then((t=>a(t,i))).then((t=>i.hooks?i.hooks.processAllTokens(t):t)).then((t=>i.walkTokens?Promise.all(this.walkTokens(t,i.walkTokens)).then((()=>t)):t)).then((t=>s(t,i))).then((t=>i.hooks?i.hooks.postprocess(t):t)).catch(o);try{i.hooks&&(e=i.hooks.preprocess(e));let t=a(e,i);i.hooks&&(t=i.hooks.processAllTokens(t)),i.walkTokens&&this.walkTokens(t,i.walkTokens);let r=s(t,i);return i.hooks&&(r=i.hooks.postprocess(r)),r}catch(t){return o(t)}}}onError(t,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+Cc(r.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(r);throw r}}};function Fc(t,e){return Bc.parse(t,e)}function Gc(t){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(t)}var Hc,qc,Uc;function Yc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zc(n.key),n)}}function Zc(t){var e=function(t){if("object"!=Gc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gc(e)?e:e+""}function Wc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wc=function(){return!!t})()}function Jc(t){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jc(t)}function Xc(t,e){return Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xc(t,e)}Fc.options=Fc.setOptions=function(t){return Bc.setOptions(t),Fc.defaults=Bc.defaults,$s(Fc.defaults),Fc},Fc.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Fc.defaults=As,Fc.use=function(...t){return Bc.use(...t),Fc.defaults=Bc.defaults,$s(Fc.defaults),Fc},Fc.walkTokens=function(t,e){return Bc.walkTokens(t,e)},Fc.parseInline=Bc.parseInline,Fc.Parser=Nc,Fc.parser=Nc.parse,Fc.Renderer=Ic,Fc.TextRenderer=Rc,Fc.Lexer=Mc,Fc.lexer=Mc.lex,Fc.Tokenizer=Dc,Fc.Hooks=zc,Fc.parse=Fc,Fc.options,Fc.setOptions,Fc.use,Fc.walkTokens,Fc.parseInline,Nc.parse,Mc.lex;var Qc,Kc=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,r){return e=Jc(e),function(t,e){if(e&&("object"==Gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wc()?Reflect.construct(e,r||[],Jc(t).constructor):e.apply(t,r))}(this,e,["agora-chat-bubble","".concat(T.BASE_COMPONENTS,"/ChatBubble/ChatBubble.css")])).author=new n(t.getAttribute("author"),t),t.time=new n(t.getAttribute("time"),t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xc(t,e)}(e,t),r=e,(i=[{key:"template",value:function(){return C(Hc||(Hc=Yc(["\n            ",'\n            <div class="bubble ','">\n                <span class="bubble-content">','</span>\n                <div class="time">\n                    <span class="separator"></span>\n                    <span class="bubble-time">',"</span>\n                </div>\n            </div>\n            ","\n        "])),"bot"===this.author.getState()?C(qc||(qc=Yc(['<div class="little-bubble"></div>']))):"",this.author.getState(),this.formatMarkdown(this.textContent),this.formatTime(this.time.getState()),"user"===this.author.getState()?C(Uc||(Uc=Yc(['<div class="little-bubble"></div>']))):"")}},{key:"formatTime",value:function(t){var e=t.split(":")[0],r=t.split(":")[1],n=t.split(" ")[1];return"".concat(e,":").concat(r," ").concat(n.toLowerCase())}},{key:"formatMarkdown",value:function(t){return Fc.setOptions({gfm:!0,breaks:!0}),Fc.parse(t.trim())}}])&&Vc(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(t);function tu(t){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(t)}function eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ru(n.key),n)}}function ru(t){var e=function(t){if("object"!=tu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=tu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tu(e)?e:e+""}function nu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nu=function(){return!!t})()}function iu(t){return iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(t)}function ou(t,e){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ou(t,e)}window.customElements.define("agora-chat-bubble",Kc);var au=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=iu(e),function(t,e){if(e&&("object"==tu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nu()?Reflect.construct(e,r||[],iu(t).constructor):e.apply(t,r))}(this,e,["agora-chat-input","".concat(T.BASE_COMPONENTS,"/ChatInput/ChatInput.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ou(t,e)}(e,t),r=e,n=[{key:"template",value:function(){return C(Qc||(t=['\n            <input type="text" placeholder="Type your message...">\n            \x3c!-- <button class="send-button">','</button> --\x3e\n            <button class="send-button">\n                ',"\n            </button>\n        "],e||(e=t.slice(0)),Qc=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),N,F);var t,e}},{key:"listeners",value:function(){var t=this;this.$("input").onkeydown=function(e){return t.handleIntro(e)},this.$("input").onfocus=function(){return t.parentComponent.unfold()},this.$(".send-button").onclick=function(){return t.parentComponent.toogleFold()}}},{key:"handleIntro",value:function(t){"Enter"===t.key&&this.sendMessage()}},{key:"sendMessage",value:function(){this.animateClick(),0!==this.$("input").value.length&&(this.parentComponent.sendMessage(this.$("input").value),this.$("input").value="")}},{key:"animateClick",value:function(){var t=this;this.$(".send-button").classList.add("clicked"),this.$(".send-button").onanimationend=function(){return t.$(".send-button").classList.remove("clicked")}}}],n&&eu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(t);window.customElements.define("agora-chat-input",au);var su,cu,uu,lu,fu=function(){return"1"===new URLSearchParams(window.location.search).get("debug")};function hu(t){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(t)}function pu(t){return function(t){if(Array.isArray(t))return du(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return du(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?du(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function gu(){gu=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==hu(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(hu(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vu(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function yu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function mu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bu(n.key),n)}}function bu(t){var e=function(t){if("object"!=hu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==hu(e)?e:e+""}function wu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wu=function(){return!!t})()}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(t)}function xu(t,e){return xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xu(t,e)}var ku,Su=function(t){function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(t,e,r){return e=_u(e),function(t,e){if(e&&("object"==hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wu()?Reflect.construct(e,r||[],_u(t).constructor):e.apply(t,r))}(this,i,["agora-searchbar","".concat(T.BASE_COMPONENTS,"/Searchbar/Searchbar.css")])).defaultTreshold=.45,t.configContext=new e("config",t,!1),t.resultContext=new e("result",t,!1),t.serviceContext=new e("service",t,!1),t.searchContext=new e("search",t,!1,"local"),t.currentSource=new n("all",t),t.signals=new r(t),t.signals.register("results-updated"),t.signals.register("no-results"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xu(t,e)}(i,t),o=i,a=[{key:"template",value:function(){return C(su||(su=yu(['\n        \x3c!-- Score Treshold --\x3e\n        <div class="treshold">\n          ','\n        </div>\n\n        \x3c!-- Searchbar Input --\x3e\n        <input \n          class="searchbar-input folded" \n          type="text" \n          placeholder="','"/>\n        <span class="agora-logo">','</span>\n        <button class="searchbar-button">','</button>\n\n        \x3c!-- Autocomplete Dropdown --\x3e\n        <ul class="autocomplete-dropdown"></ul>\n    '])),fu()?C(cu||(cu=yu(['\n                <input type="range" min="0" max="1" value="0.35" step="0.01" id="treshold"/>\n                <label class="treshold-label" for="treshold">A: 0.35</label>\n              ']))):C(uu||(uu=yu([""]))),this.searchContext.getData("current")&&this.searchContext.getData("current").length>0?"".concat(this.searchContext.getData("current").join(" ")):"Search...",F,Y)}},{key:"listeners",value:function(){var t=this;this.$(".searchbar-input").onkeydown=function(e){return t.handleKeyDown(e)},this.$(".searchbar-input").onfocus=function(){return t.unfold()},this.$(".searchbar-input").onblur=function(){return t.fold()},this.$(".searchbar-input").oninput=function(){return t.autocompleteWhileTyping()},this.$(".searchbar-button").onclick=function(){return t.query()},this.$("#treshold")&&(this.$("#treshold").oninput=function(e){return t.$(".treshold-label").innerHTML="A: ".concat(e.target.value)})}},{key:"query",value:(s=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){vu(o,n,i,a,s,"next",t)}function s(t){vu(o,n,i,a,s,"throw",t)}a(void 0)}))}}(gu().mark((function t(){var e,r,n;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.$(".searchbar-input").value.length){t.next=2;break}return t.abrupt("return");case 2:return e="all"===this.currentSource.getState()?cs(this.serviceContext.getData("services"),"model").map((function(t){return t.model})):[this.currentSource.getState()],t.prev=3,r=this.$(".searchbar-input").value,t.next=7,vt(this.configContext.getData("host"),r,e);case 7:n=t.sent,this.handleResponse(r,n),this.$(".searchbar-input").placeholder=this.searchContext.getData("current").join(" ").replace(/\/$/,""),this.$(".searchbar-input").value="",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),console.error("Error while searching: ".concat(t.t0.message));case 16:case"end":return t.stop()}}),t,this,[[3,13]])}))),function(){return s.apply(this,arguments)})},{key:"handleResponse",value:function(t,e){var r=this;if(0===e.results.length)return this.resultContext.setData({grouped:a,data:o},!0),void this.signals.emit("no-results");this.storeQueryInContext(t);var n=pu(new Set(this.serviceContext.getData("services").map((function(t){return{service:t.fields.name,models:cs(t,"model").map((function(t){return t.model}))}}))));e.results.forEach((function(t){var e=n.find((function(e){return e.models.includes(t.model)})).service;t.service=e}));var i=e.results.sort((function(t,e){return e.score-t.score})).map((function(t){return{model:t.model,service:t.service,featured_fields:t.featured_fields||["web_link","url","website"],featured:t.featured||!1,data:t.data,score:{absolute:Number(t.score/r.getMaxScore(e.results)).toFixed(2)||1,relative:Number(t.score/r.getGroupMaxScore(e.results,t.service)).toFixed(2)||1}}})),o=this.applyScoreTreshold(i,"absolute"),a=pu(new Set(o.map((function(t){return t.service})))).sort().map((function(t){var e=o.filter((function(e){return e.service===t}));return{service:t,items:e}}));this.resultContext.setData({grouped:a,data:o},!0),this.signals.emit("results-updated",a)}},{key:"getMaxScore",value:function(t){return Math.max.apply(Math,pu(t.map((function(t){return t.score}))))}},{key:"getGroupMaxScore",value:function(t,e){return Math.max.apply(Math,pu(t.filter((function(t){return t.service===e})).map((function(t){return t.score}))))}},{key:"applyScoreTreshold",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absolute",r=this.defaultTreshold;return fu()&&(r=this.$("#treshold").value),"absolute"===e?t.filter((function(t){return t.score.absolute>=r})):"relative"===e?t.filter((function(t){return t.score.relative>=r})):void 0}},{key:"storeQueryInContext",value:function(t){var e=this.searchContext.getData("history")||[];this.searchContext.setData({history:pu(new Set([].concat(pu(e),[t]))),current:t.split(" ")},!1)}},{key:"handleKeyDown",value:function(t){"Enter"===t.key&&(this.toogleAutocompleteDropdown("fold"),this.query()),"Tab"===t.key&&(t.preventDefault(),Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")}))?(this.autocompleteFromDropdown(),this.toogleAutocompleteDropdown("fold")):this.autocompleteFromPlaceholder(t)),"ArrowUp"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("up")),"ArrowDown"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("down"))}},{key:"unfold",value:function(){this.$(".searchbar-input").classList.remove("folded")}},{key:"fold",value:function(){var t=this;setTimeout((function(){t.$(".searchbar-input").classList.add("folded")}),100)}},{key:"autocompleteWhileTyping",value:function(){var t=this,e=this.searchContext.getData("history")||[],r=this.$(".autocomplete-dropdown");if(0!==e.length){var n=this.$(".searchbar-input").value;if(0!==n.length){var i=n.length,o=e.filter((function(t){return t.slice(0,i)===n}));r.innerHTML="",o.forEach((function(e){var n=document.createElement("li");n.innerHTML=C(lu||(lu=yu(['<span class="match highlighted">','</span><span class="match">',"</span>"])),e.slice(0,i),e.slice(i)),t.setupAutocompleteOptionListener(n),r.appendChild(n)}));var a=r.children[0];a&&a.classList.add("selected-match")}else r.innerHTML=""}}},{key:"autocompleteFromDropdown",value:function(){var t=Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")}));this.$(".searchbar-input").value=t.innerText,this.$(".searchbar-input").focus()}},{key:"autocompleteFromPlaceholder",value:function(){var t=this.$(".searchbar-input").placeholder;this.$(".searchbar-input").value=t,this.$(".searchbar-input").focus()}},{key:"autocompleteFromSuggestedTag",value:function(t){this.$(".searchbar-input").value=t}},{key:"setupAutocompleteOptionListener",value:function(t){var e=this;t.onmouseenter=function(){return e.handleMatchOptionHover(t)},t.onmouseleave=function(){return t.classList.remove("selected-match")},t.onclick=function(){e.autocompleteFromDropdown(),e.toogleAutocompleteDropdown("fold"),e.$(".searchbar-input").blur()}}},{key:"handleMatchOptionHover",value:function(t){var e=this.$(".autocomplete-dropdown");Array.from(e.children).forEach((function(t){t.classList.remove("selected-match")})),t.classList.add("selected-match")}},{key:"moveThroughAutocompleteOptions",value:function(t){var e=this.$(".autocomplete-dropdown"),r=Array.from(e.children).find((function(t){return t.classList.contains("selected-match")})),n=Array.from(e.children).indexOf(r);if(r){if("up"===t){if(0===n)return e.children[e.children.length-1].classList.add("selected-match"),void e.children[n].classList.remove("selected-match");e.children[n-1].classList.add("selected-match"),e.children[n].classList.remove("selected-match")}else if("down"===t){if(n===e.children.length-1)return e.children[0].classList.add("selected-match"),void e.children[n].classList.remove("selected-match");e.children[n+1].classList.add("selected-match"),e.children[n].classList.remove("selected-match")}}else e.children[0].classList.add("selected-match")}},{key:"toogleAutocompleteDropdown",value:function(t){"unfold"===t?this.$(".autocomplete-dropdown").style.height="100px":"fold"===t&&(this.$(".autocomplete-dropdown").innerHTML="")}},{key:"isDebugMode",value:function(){return"1"===new URLSearchParams(window.location.search).get("debug")}}],a&&mu(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,s}(t);function Ou(t){return Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(t)}function Eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ju(n.key),n)}}function ju(t){var e=function(t){if("object"!=Ou(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ou(e)?e:e+""}function Tu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Tu=function(){return!!t})()}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(t)}function Lu(t,e){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lu(t,e)}window.customElements.define("agora-searchbar",Su);var Pu,Au,$u,Du=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=Cu(e),function(t,e){if(e&&("object"==Ou(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tu()?Reflect.construct(e,r||[],Cu(t).constructor):e.apply(t,r))}(this,e,["agora-layout-v1","".concat(T.LAYOUT_COMPONENTS,"/v1/v1.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lu(t,e)}(e,t),r=e,n=[{key:"template",value:function(){return C(ku||(t=['\n            \x3c!-- Greetings --\x3e\n            <div class="greetings a">\n                <span>Hi there, <em>John</em></span><br>\n                <span>How could I help you?</span>\n                <p class="greetings-description">\n                    You can navigate directly through our acceleration services \n                    or ask our assistant to guide you through the process of finding resources.\n                </p>\n            </div>\n            <div class="logo b">\n                <span class="agora-name">Agora</span>\n                <span class="alliance-name">Unite!</span>\n            </div>\n            <div class="showcase c">\n                <agora-showcase></agora-showcase> \n            </div>\n            <div class="greetings d"></div>\n        '],e||(e=t.slice(0)),ku=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],n&&Eu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(t);function Mu(t){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(t)}function Iu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ru(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nu(n.key),n)}}function Nu(t){var e=function(t){if("object"!=Mu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mu(e)?e:e+""}function zu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zu=function(){return!!t})()}function Bu(t){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bu(t)}function Fu(t,e){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fu(t,e)}window.customElements.define("agora-layout-v1",Du);var Gu,Hu=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=Bu(e),function(t,e){if(e&&("object"==Mu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zu()?Reflect.construct(e,r||[],Bu(t).constructor):e.apply(t,r))}(this,r,["agora-layout-v2","".concat(T.LAYOUT_COMPONENTS,"/v2/v2.css")])).configContext=new e("config",t,!1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fu(t,e)}(r,t),n=r,(i=[{key:"template",value:function(){return C(Pu||(Pu=Iu(['\n            <main class="main">\n                \x3c!-- Left Side --\x3e\n                <div class="left">\n                    \x3c!-- Navigator --\x3e\n                    <div class="navigator-wrapper">\n                        <agora-navigator></agora-navigator>\n                    </div>\n                </div>\n\n                \x3c!-- Right Side --\x3e\n                <div class="right">\n\n                    \x3c!-- Greetings and Showcase --\x3e\n                    <div class="showcase">\n                        <agora-landing></agora-landing>\n                    </div>\n\n                    \x3c!-- Results --\x3e\n                    <agora-result-window></agora-result-window>\n                </div>\n            </main>\n\n            \x3c!-- Chat or Searchbar --\x3e\n            ','\n\n            \x3c!-- Pin Box --\x3e\n            <agora-pin-box></agora-pin-box>\n\n            \x3c!-- Carousel --\x3e\n            <agora-card-info-carousel></agora-card-info-carousel>\n\n            \x3c!-- Bottom Fade --\x3e\n            <div class="bottom-fade"></div>\n        '])),this.configContext.getData("enabled_ai")?C(Au||(Au=Iu(['<agora-chat class="chat"></agora-chat>']))):C($u||($u=Iu(['<agora-searchbar class="searchbar"></agora-searchbar>']))))}}])&&Ru(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(t);function qu(t){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(t)}function Uu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yu(n.key),n)}}function Yu(t){var e=function(t){if("object"!=qu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qu(e)?e:e+""}function Vu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vu=function(){return!!t})()}function Zu(t){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(t)}function Wu(t,e){return Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wu(t,e)}window.customElements.define("agora-layout-v2",Hu);var Ju,Xu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=Zu(e),function(t,e){if(e&&("object"==qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vu()?Reflect.construct(e,r||[],Zu(t).constructor):e.apply(t,r))}(this,e,["agora-chat-loader","".concat(T.BASE_COMPONENTS,"/ChatLoader/ChatLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wu(t,e)}(e,t),r=e,n=[{key:"template",value:function(){return C(Gu||(t=['\n            <div class="circle a"></div>\n            <div class="circle b"></div>\n            <div class="circle c"></div>\n        '],e||(e=t.slice(0)),Gu=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],n&&Uu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(t);function Qu(t){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(t)}function Ku(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tl(n.key),n)}}function tl(t){var e=function(t){if("object"!=Qu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qu(e)?e:e+""}function el(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(el=function(){return!!t})()}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(t)}function nl(t,e){return nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nl(t,e)}window.customElements.define("agora-chat-loader",Xu);var il,ol,al,sl,cl,ul,ll,fl,hl,pl,dl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){return e=rl(e),function(t,e){if(e&&("object"==Qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,el()?Reflect.construct(e,r||[],rl(t).constructor):e.apply(t,r))}(this,e,["agora-base-loader","".concat(T.BASE_COMPONENTS,"/BaseLoader/BaseLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nl(t,e)}(e,t),r=e,n=[{key:"template",value:function(){return C(Ju||(t=["\n            ","\n        "],e||(e=t.slice(0)),Ju=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),F);var t,e}}],n&&Ku(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(t);function gl(t){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(t)}function vl(){vl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==gl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(gl(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function yl(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function ml(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wl(n.key),n)}}function wl(t){var e=function(t){if("object"!=gl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==gl(e)?e:e+""}function _l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_l=function(){return!!t})()}function xl(t){return xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xl(t)}function kl(t,e){return kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kl(t,e)}window.customElements.define("agora-base-loader",dl);var Sl,Ol,El=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=xl(e),function(t,e){if(e&&("object"==gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_l()?Reflect.construct(e,r||[],xl(t).constructor):e.apply(t,r))}(this,r,["agora-dynamic-card","".concat(T.BASE_COMPONENTS,"/DynamicCard/DynamicCard.css")])).configContext=new e("config",t,!1),t.data=new n(null,t),t.enableDrag(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kl(t,e)}(r,t),i=r,o=[{key:"template",value:function(){return this.highlightIfFeatured(),this.hideIfNotFeatured(),C(il||(il=ml(["\n            ","\n        "])),this.build())}},{key:"listeners",value:function(){var t=this;this.wrapper.ondragstart=function(e){return t.handleDrag(e)},this.wrapper.ondragend=function(e){return t.handleDrop(e)},this.wrapper.onclick=function(){return t.openInfoDialog()},this.$(".card-image").onload=function(){return t.replaceImageIfItsPlaceholder()}}},{key:"build",value:function(){this.data.setState(JSON.parse(this.dataset.data),!1);var t=C(ol||(ol=ml(['<img class="card-image" src="',"/web/image?model=","&id=",'&field=image"/>'])),this.configContext.getData("host"),this.getAttribute("model"),this.id.split("-")[1]),e=this.data.getState().name?C(al||(al=ml(['<span class="card-name">',"</span>"])),this.data.getState().name):null,r=this.data.getState().lastname?C(sl||(sl=ml(['<span class="card-lastname">',"</span>"])),this.data.getState().lastname):null,n=this.data.getState().summary?C(cl||(cl=ml(['<span class="card-summary">',"</span>"])),this.data.getState().summary):null,i=this.data.getState().description?C(ul||(ul=ml(['<span class="card-summary">',"</span>"])),this.data.getState().description):null,o=this.data.getState().content?C(ll||(ll=ml(['<span class="card-summary">',"</span>"])),this.data.getState().content):null,a=this.data.getState().university_origin?C(fl||(fl=ml(['<span class="card-origin">',"</span>"])),this.data.getState().university_origin[1]):null,s=Math.round(10*Number(this.getAttribute("absolute-score")));return C(hl||(hl=ml(["\n            ",'\n            <div class="card-content">\n                ',"\n                ","\n                ",'\n                <div class="separator"></div>\n                ',"\n                ","\n                ",'\n                <div class="fill-space"></div>\n\n                <div class="additional-info">\n                    <div \n                        class="public-score" \n                        title="This score represents the relevance of this\nitem in the search results."\n                        style="filter: hue-rotate(','deg);"\n                    >',"</div>\n                    ",'\n                </div>\n                <span \n                    class="score" \n                    title="(A)bsolute and (R)elative (to the group) scores"\n                    style="','"\n                >\n                        A: ',", R: ","\n                </span>\n            </div>\n        "],["\n            ",'\n            <div class="card-content">\n                ',"\n                ","\n                ",'\n                <div class="separator"></div>\n                ',"\n                ","\n                ",'\n                <div class="fill-space"></div>\n\n                <div class="additional-info">\n                    <div \n                        class="public-score" \n                        title="This score represents the relevance of this\\nitem in the search results."\n                        style="filter: hue-rotate(','deg);"\n                    >',"</div>\n                    ",'\n                </div>\n                <span \n                    class="score" \n                    title="(A)bsolute and (R)elative (to the group) scores"\n                    style="','"\n                >\n                        A: ',", R: ","\n                </span>\n            </div>\n        "])),t,a,e,r,n,i,o,20*(s-10),s,this.wrapper.classList.contains("featured")?C(pl||(pl=ml(['\n                                \x3c!-- <span title="This element is recommended by AIDA" class="featured-badge">\n                                    ',"\n                                </span>--\x3e"])),F):"",fu()?"":"display:none",this.getAttribute("absolute-score"),this.getAttribute("relative-score"))}},{key:"openInfoDialog",value:function(){var t,e,r,n,i,o,a=document.querySelector("agora-app"),s={id:this.data.getState().id,src:null!==(t="".concat(this.configContext.getData("host"),"/web/image?model=").concat(this.getAttribute("model"),"&id=").concat(this.id.split("-")[1],"&field=image"))&&void 0!==t?t:"",name:null!==(e=this.data.getState().name)&&void 0!==e?e:"",lastname:null!==(r=this.data.getState().lastname)&&void 0!==r?r:"",summary:null!==(n=null!==(i=this.data.getState().summary)&&void 0!==i?i:this.data.getState().description)&&void 0!==n?n:"",university_origin:this.data.getState().university_origin?this.data.getState().university_origin[1]:"",href:null!==(o=this.getAttribute("href"))&&void 0!==o?o:"",additional_fields:this.parseAdditionalFields(),data:this.data.getState(),has_image:!this.wrapper.classList.contains("no-image")};a.openInfoDialog(s)}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"replaceImageIfItsPlaceholder",value:(a=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){yl(o,n,i,a,s,"next",t)}function s(t){yl(o,n,i,a,s,"throw",t)}a(void 0)}))}}(vl().mark((function t(){var e,r;return vl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:256===(e=this.$(".card-image")).naturalWidth&&256===e.naturalHeight&&(this.wrapper.classList.add("no-image"),(r=document.createElement("div")).classList.add("card-image"),r.classList.add("default-image"),e.remove(),this.wrapper.insertBefore(r,this.wrapper.firstChild));case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"highlightIfFeatured",value:function(){this.hasAttribute("featured")&&this.wrapper.classList.add("featured")}},{key:"hideIfNotFeatured",value:function(){this.hasAttribute("featured")||(this.style.display="none")}},{key:"enableDrag",value:function(){this.wrapper.draggable=!0}},{key:"handleDrag",value:function(t){this.wrapper.classList.add("ondrag"),t.dataTransfer.setData("data",JSON.stringify(this.data.getState())),t.dataTransfer.setData("id",this.id),t.dataTransfer.setData("model",this.getAttribute("model")),t.dataTransfer.setData("href",this.getAttribute("href")),t.dataTransfer.setData("featured-fields",this.getAttribute("featured-fields")),t.dataTransfer.setData("featured",this.hasAttribute("featured"))}},{key:"handleDrop",value:function(t){this.wrapper.classList.remove("ondrag")}}],o&&bl(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,a}(t);function jl(t){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(t)}function Tl(){Tl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==jl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(jl(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Cl(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Ll(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Pl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Al(n.key),n)}}function Al(t){var e=function(t){if("object"!=jl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=jl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jl(e)?e:e+""}function $l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($l=function(){return!!t})()}function Dl(t){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dl(t)}function Ml(t,e){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ml(t,e)}window.customElements.define("agora-dynamic-card",El);var Il=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=Dl(e),function(t,e){if(e&&("object"==jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$l()?Reflect.construct(e,r||[],Dl(t).constructor):e.apply(t,r))}(this,r,["agora-pin-card","".concat(T.BASE_COMPONENTS,"/PinCard/PinCard.css")])).configContext=new e("config",t,!1),t.data=new n(JSON.parse(t.dataset.data),t),t.loadAttributes(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ml(t,e)}(r,t),i=r,o=[{key:"template",value:function(){var t=JSON.parse(this.dataset.data),e="".concat(this.configContext.getData("host"),"/web/image?model=").concat(t.model,"&id=").concat(t.id.split("-")[1],"&field=image");return C(Sl||(Sl=Ll(['\n            <div class="image-wrapper">\n                <img class="image" src="','" />\n            </div>\n            <span class="name">','</span>\n            <div class="icon-wrapper">\n                <span class="info-icon">','</span>\n                <span class="delete-icon">',"</span>\n            </div>\n        "])),e,t.data.name,H,G)}},{key:"listeners",value:function(){var t=this;this.$(".info-icon").onclick=function(){return t.openInfo()},this.$(".delete-icon").onclick=function(){return t.delete()},this.$(".image").onload=function(){return t.replaceImageIfItsPlaceholder()}}},{key:"loadAttributes",value:function(){this.id=this.data.getState().id,this.setAttribute("model",this.data.getState().model),this.setAttribute("href",this.data.getState().href),this.setAttribute("featured-fields",this.data.getState().featured_fields),this.setAttribute("featured",this.data.getState().featured),this.data.setState(this.data.getState().data,!1)}},{key:"replaceImageIfItsPlaceholder",value:(a=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Cl(o,n,i,a,s,"next",t)}function s(t){Cl(o,n,i,a,s,"throw",t)}a(void 0)}))}}(Tl().mark((function t(){var e,r;return Tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:256===(e=this.$(".image")).naturalWidth&&256===e.naturalHeight&&(this.wrapper.classList.add("no-image"),(r=document.createElement("div")).classList.add("card-image"),r.classList.add("default-image"),e.remove(),this.$(".image-wrapper").appendChild(r));case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"openInfo",value:function(){var t,e,r,n,i,o,a=document.querySelector("agora-app").$(".card-info-dialog");document.querySelector("agora-app").$(".carousel-controls").style.display="none",a.classList.add("fade-in"),a.classList.remove("no-image"),this.wrapper.classList.contains("no-image")&&a.classList.add("no-image"),a.querySelector(".card-info-image").src=null!==(t="".concat(this.configContext.getData("host"),"/web/image?model=").concat(this.getAttribute("model"),"&id=").concat(this.id.split("-")[1],"&field=image"))&&void 0!==t?t:"",a.querySelector(".card-info-name").textContent=null!==(e=this.data.getState().name)&&void 0!==e?e:"",a.querySelector(".card-info-lastname").innerHTML=null!==(r=this.data.getState().lastname)&&void 0!==r?r:"",a.querySelector(".card-info-summary").innerHTML=null!==(n=null!==(i=this.data.getState().summary)&&void 0!==i?i:this.data.getState().description)&&void 0!==n?n:"",a.querySelector(".card-info-origin").textContent=this.data.getState().university_origin?this.data.getState().university_origin[1]:"",a.querySelector(".card-info-explore-button").dataset.url=null!==(o=this.getAttribute("href"))&&void 0!==o?o:"",this.displayAdditionalFieldsInDialog(a),a.showModal(),a.scrollTo(0,0)}},{key:"displayAdditionalFieldsInDialog",value:function(t){var e=this,r=this.parseAdditionalFields();if(0===r.length&&t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").remove();else{if(t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").innerHTML="";else{var n=document.createElement("div");n.classList.add("card-info-additional-fields"),t.querySelector(".card-info-content").appendChild(n)}r.forEach((function(r){if(e.data.getState()[r]){var n=r.replace(/_/g," ");n=n.toUpperCase();var i=C(Ol||(Ol=Ll(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),n,e.data.getState()[r]);t.querySelector(".card-info-additional-fields").innerHTML+=i}}))}}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"delete",value:function(){this.parentComponent.removePinnedCard(this.id)}}],o&&Pl(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,a}(t);window.customElements.define("agora-pin-card",Il);var Rl,Nl,zl,Bl,Fl,Gl="item";function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}function ql(){ql=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new L(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var c=f(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Hl(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=h;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Hl(e)+" is not iterable")}return m.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ul(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ul(Object(r),!0).forEach((function(e){Vl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vl(t,e,r){return(e=Kl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zl(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Wl(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Zl(o,n,i,a,s,"next",t)}function s(t){Zl(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Jl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Xl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ql(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kl(n.key),n)}}function Kl(t){var e=function(t){if("object"!=Hl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Hl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Hl(e)?e:e+""}function tf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tf=function(){return!!t})()}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ef(t)}function rf(t,e){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rf(t,e)}var nf,of,af=function(t){function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(t,e,r){return e=ef(e),function(t,e){if(e&&("object"==Hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tf()?Reflect.construct(e,r||[],ef(t).constructor):e.apply(t,r))}(this,i,["agora-result-window","".concat(T.MID_COMPONENTS,"/ResultWindow/ResultWindow.css")])).configContext=new e("config",t,!1),t.resultContext=new e("result",t,!0),t.serviceContext=new e("service",t,!0),t.signals=new r(t),t.signals.register("cards-fetched"),t.builtResults=new n([],t),t.isLoading=new n(!1,t),t.scrollInterval=null,t.currentScrollSpeed=0,t.scrollTreshold=.2,t.scrollSpeed=.25,t.speedMultiplier=6,!t.configContext.getData("enabled_ai")&&t.clear(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(i,t),o=i,a=[{key:"template",value:function(){var t=this,e=(this.resultContext.getData("data")?function(t){return function(t){if(Array.isArray(t))return Xl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xl(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(this.resultContext.getData("data").map((function(t){return t.service})))).sort():[]).map((function(e){var r=t.resultContext.getData("data").filter((function(t){return t.service===e}));return{service:e,items:r}}));return 0===e.length?this.style.display="none":this.style.display="block",C(Rl||(Rl=Jl(['\n            \x3c!-- No Results Message --\x3e\n            <div class="no-results-message" style="display: none;">\n                <h1>No results found</h1>\n                <p>Try changing the search terms.</p>\n            </div>\n\n            \x3c!-- Result counter --\x3e\n            \x3c!-- TODO --\x3e\n\n            \x3c!-- Cards --\x3e\n            <div class="card-wrapper">\n                ','\n            </div>\n\n            \x3c!-- Greetings --\x3e\n            <agora-greetings class="hidden" hidden="true"></agora-greetings>\n            \n            \x3c!-- Loader --\x3e\n            ',"\n        "])),e.map((function(e){var r=e.service.toLowerCase().replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"").replace(/  /g,"-").replace(/ /g,"-");return C(Nl||(Nl=Jl(['\n                            <div class="','-wrapper" data-name="','">\n                                <div class="movable-wrapper">\n                                    ',"\n                                </div>\n                            </div>\n                        "])),r,e.service,e.items.map((function(e){var r=t.createCardObject(e);return C(zl||(zl=Jl(['\n                                                <agora-dynamic-card \n                                                    id="','"\n                                                    class="fade-in"\n                                                    href="','"\n                                                    type="','"\n                                                    model="','"\n                                                    service="',"\"\n                                                    data-data='","'\n                                                    featured-fields=\"",'"\n                                                    featured="','"\n                                                    absolute-score="','"\n                                                    relative-score="','"\n                                                ></agora-dynamic-card>\n                                            '])),r.id,"".concat(t.configContext.getData("host"),"/offering/").concat(r.view_id,"/").concat(r.id.split("-")[1]),r.type,r.model,r.service,r.dataset,r.featured_fields,r.featured,r.score.absolute,r.score.relative)})).join(""))})).join(""),this.isLoading.getState()?C(Bl||(Bl=Jl(['\n                    <agora-base-loader width="100" height="100"></agora-base-loader>\n                ']))):C(Fl||(Fl=Jl(["\n                    \n                "]))))}},{key:"listeners",value:function(){var t=this;Array.from(this.$(".card-wrapper").children).forEach((function(e){var r=function(r){return t.handleCursorScroll(r,e)},n=e.querySelector(".movable-wrapper");e.onmouseenter=function(){document.addEventListener("mousemove",r),t.highlightServiceOnHover(e,!0),t.scrollInterval=setInterval((function(){0!==t.currentScrollSpeed&&(n.scrollLeft+=t.currentScrollSpeed)}),.01)},e.onmouseleave=function(){clearInterval(t.scrollInterval),t.scrollInterval=null,t.currentScrollSpeed=0,document.removeEventListener("mousemove",r),t.highlightServiceOnHover(e,!1)},t.handleCardWrapperScroll(e.querySelector(".movable-wrapper"))})),this.$$(".movable-wrapper").forEach((function(e){e.onscroll=function(){return t.handleCardWrapperScroll(e)}})),this.$(".show-more")&&(this.$(".show-more").onclick=function(e){return t.$(".show-more").classList.contains("folded")?t.unfoldCardWrapper(e):t.foldCardWrapper(e)})}},{key:"clear",value:function(){this.resultContext.setData({data:[],grouped:[]}),this.builtResults.setState([])}},{key:"createCardObject",value:function(t){var e=cs(this.serviceContext.getData("services"),"websites"),r={type:Gl,id:"element-".concat(t.data.id),model:t.model,service:t.service,featured_fields:t.featured_fields||[],dataset:JSON.stringify(t.data,zt),score:{absolute:t.score.absolute||1,relative:t.score.relative||1}};return e.forEach((function(t){t.websites.forEach((function(t){t.model===r.model&&(r.view_id=t.view_id)}))})),r}},{key:"addCard",value:function(t){var e=this.resultContext.getData("data")?cs(this.resultContext.getData("data"),"featured_element_ids"):[];e=e[0]?e[0].featured_element_ids:[],cs(this.serviceContext.getData("services"),"websites").forEach((function(e){e.websites.forEach((function(e){e.model===t.model&&(t.view_id=e.view_id)}))}));var r=document.createElement("agora-dynamic-card");r.id=t.id,r.setAttribute("href","".concat(this.configContext.getData("host"),"/offering/").concat(t.view_id,"/").concat(t.id.split("-")[1])),r.setAttribute("type",t.type),r.setAttribute("model",t.model),r.setAttribute("service",t.service),r.setAttribute("data-data",t.dataset),r.setAttribute("featured-fields",t.featured_fields),r.classList.add("fade-in"),e.includes(Number(t.id.split("-")[1]))&&r.setAttribute("featured",!0);var n=t.service.toLowerCase().replace(/ /g,"-").replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,""),i=this.$(".".concat(n,"-wrapper > .movable-wrapper"));i.appendChild(r),this.handleCardWrapperScroll(i)}},{key:"fetchResults",value:(s=Wl(ql().mark((function t(){var e,r,n=this;return ql().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("FETCHING RESULTS"),e=1e3,(r=this.resultContext.getData("data")).sort((function(t,e){return t.service.localeCompare(e.service)})).forEach((function(t){t.element_ids.forEach(function(){var i=Wl(ql().mark((function i(o){var a,s,c,u;return ql().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,dt(n.configContext.getData("host"),t.model,o,t.featured_fields);case 2:if((a=i.sent).id){i.next=5;break}return i.abrupt("return");case 5:console.log("This is the format of the response we need",a),s={type:Gl,id:"element-".concat(a.id),model:t.model,service:t.service,featured_fields:t.featured_fields,dataset:JSON.stringify(a,zt)},c=Yl(Yl({},s),{},{dataset:a}),(u=n.builtResults.getState()).push(c),n.builtResults.setState(u,!1),e+=500,setTimeout((function(){n.addCard(s),n.signals.emit("cards-fetched"),console.log("CARDS FETCHED SIGNAL EMITTED"),t===r.at(-1)&&Number(s.id.split("-")[1])===Number(t.element_ids.at(-1))&&setTimeout((function(){n.isLoading.setState(!1,!1),n.setLoading(!1),n.$(".show-more").style.display="grid",n.$(".show-more").classList.add("opacity-fade-in")}),500)}),e);case 13:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"countResults",value:function(t){var e=this.resultContext.getData("data").find((function(e){return e.service===t})),r=e.element_ids.length,n=e.featured_element_ids.length;return{numElementIds:r,numFeaturedElementIds:n,notFeaturedElementIds:r-n}}},{key:"showResults",value:function(){this.wrapper.classList.add("showing-results"),this.isLoading.setState(!0,!1),this.fetchResults()}},{key:"hideResults",value:function(){this.wrapper.classList.remove("showing-results")}},{key:"setLoading",value:function(t){t?this.$("agora-base-loader").wrapper.classList.add("fade-in"):(this.$("agora-base-loader").wrapper.classList.remove("fade-in"),this.$("agora-base-loader").wrapper.classList.add("fade-out"))}},{key:"handleCardWrapperScroll",value:function(t){var e=t.scrollLeft,r=t.scrollWidth-t.clientWidth;e<10&&t.classList.remove("scroll-left-active"),e>10&&t.classList.add("scroll-left-active"),r-e<10&&t.classList.remove("scroll-right-active"),r-e>10&&t.classList.add("scroll-right-active")}},{key:"handleCursorScroll",value:function(t,e){var r=e.querySelector(".movable-wrapper"),n=e.clientWidth;if(!(r.scrollWidth<=n+50)){var i,o=e.getBoundingClientRect(),a=o.x+o.width/2,s=t.clientX,c=-1*Math.round(a-s),u=(i=Math.round(c/n*100)/100*2,Math.min(Math.max(i,-1),1));if(Math.abs(u)>this.scrollTreshold){var l=Math.sign(u),f=Math.abs(u)*this.speedMultiplier;this.currentScrollSpeed=l*(this.scrollSpeed+f)}else this.currentScrollSpeed=0}}},{key:"unfoldCardWrapper",value:function(t){var e=t.target;e.classList.remove("folded"),e.innerHTML=D;var r=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(r.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="block")})),this.handleCardWrapperScroll(r)}},{key:"foldCardWrapper",value:function(t){var e=t.target;e.classList.add("folded"),e.innerHTML="+".concat(this.countResults(e.parentElement.dataset.name).notFeaturedElementIds);var r=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(r.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="none")})),this.handleCardWrapperScroll(r)}},{key:"highlightServiceOnHover",value:function(t,e){document.querySelector("agora-app").$("agora-layout-v2").$("agora-navigator").$$("agora-navigator-item").forEach((function(r){e&&r.dataset.name===t.dataset.name?r.wrapper.classList.add("highlight"):r.wrapper.classList.remove("highlight")}))}},{key:"displayNoResultsMessage",value:function(){this.style.display="block",this.$(".no-results-message").style.display="grid"}}],a&&Ql(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,s}(t);function sf(t){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(t)}function cf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function uf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lf(n.key),n)}}function lf(t){var e=function(t){if("object"!=sf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sf(e)?e:e+""}function ff(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ff=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hf(t)}function pf(t,e){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pf(t,e)}window.customElements.define("agora-result-window",af);var df,gf,vf=function(t){function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=function(t,e,r){return e=hf(e),function(t,e){if(e&&("object"==sf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ff()?Reflect.construct(e,r||[],hf(t).constructor):e.apply(t,r))}(this,i,["agora-card-info-carousel","".concat(T.MID_COMPONENTS,"/CardInfoCarousel/CardInfoCarousel.css")])).configContext=new e("config",t,!1),t.resultContext=new e("result",t,!0),t.searchContext=new e("search",t,!0,"local"),t.serviceContext=new e("service",t,!1),t.groupedData=new n(null,t),t.displayedCardId=new n(null,t),t.signals=new r(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pf(t,e)}(i,t),o=i,a=[{key:"template",value:function(){return C(nf||(nf=cf(['\n            \x3c!-- Close Button --\x3e\n            <button class="close-button">','</button>\n\n            \x3c!-- Card Content --\x3e\n            <div class="card-info-wrapper">\n                \x3c!-- Card Image --\x3e\n                <div class="card-info-image-container">\n                    <img class="card-info-image" src="">\n                </div>\n\n                \x3c!-- Card Main Content --\x3e\n                <div class="card-info-content">\n                    \x3c!-- Card Service --\x3e\n                    <span class="card-info-service"></span>\n                    <span class="card-info-origin"></span>\n                    <span class="card-info-name"></span>\n                    <span class="card-info-lastname"></span>\n                    <span class="card-info-summary"></span>\n                </div>\n\n                \x3c!-- Card Actions --\x3e\n                <div class="card-info-actions">\n                    <button class="card-info-explore-button">Explore</button>\n                </div>\n            </div>\n\n            \x3c!-- Carousel Controls --\x3e\n            <div class="controls-wrapper">\n                <span class="prev-control">','</span>\n                <span class="next-control">',"</span>\n            </div>\n        "])),V,q,U)}},{key:"listeners",value:function(){var t=this;this.wrapper.onclick=function(e){return t.close(e)},this.$(".next-control").onclick=function(e){return t.showNext(e)},this.$(".prev-control").onclick=function(e){return t.showPrevious(e)},this.$(".card-info-explore-button").onclick=function(){return window.open(t.$(".card-info-explore-button").dataset.url,"_blank")},document.addEventListener("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.close()}},{key:"show",value:function(t,e,r){this.displayedCardId.setState(t,!1);var n=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t)}));e||(e=this.updateUrl(n)),this.updateVisibility(r),this.updateCardConent(n,e),this.displayAdditionalFields(n.data,n.featured_fields),this.updateNavigationControls(),this.highlightSearchTerms()}},{key:"updateUrl",value:function(t){return cs(this.serviceContext.getData("services"),"websites").forEach((function(e){e.websites.forEach((function(e){e.model===t.model&&(t.data.view_id=e.view_id)}))})),"".concat(this.configContext.getData("host"),"/offering/").concat(t.data.view_id,"/").concat(t.data.id)}},{key:"updateVisibility",value:function(t){this.style.display="block",this.$(".card-info-wrapper").classList.add("fade-in"),this.wrapper.classList.remove("no-image"),this.wrapper.style.display="flex"}},{key:"updateCardConent",value:function(t,e){var r,n,i,o,a,s,c;this.$(".card-info-service").textContent=null!==(r=t.service)&&void 0!==r?r:"",this.$(".card-info-image").src=null!==(n="".concat(this.configContext.getData("host"),"/web/image?model=").concat(t.model,"&id=").concat(t.data.id,"&field=image"))&&void 0!==n?n:"",this.$(".card-info-name").textContent=null!==(i=t.data.name)&&void 0!==i?i:"",this.$(".card-info-lastname").innerHTML=null!==(o=t.data.lastname)&&void 0!==o?o:"",this.$(".card-info-summary").innerHTML=null!==(a=null!==(s=null!==(c=t.data.summary)&&void 0!==c?c:t.data.description)&&void 0!==s?s:t.data.content)&&void 0!==a?a:"",this.$(".card-info-origin").textContent="",this.$(".card-info-explore-button").dataset.url=null!=e?e:"",this.$(".card-info-content").scrollTo(0,0)}},{key:"updateNavigationControls",value:function(){this.toogleNextControl(),this.tooglePreviousControl()}},{key:"showNext",value:function(t){var e=this,r=this.resultContext.getData("data").find((function(t){return Number(t.data.id)===Number(e.displayedCardId.getState())})),n=this.groupedData.getState().find((function(t){return t.service===r.service})),i=n.items.findIndex((function(t){return Number(t.data.id)===Number(r.data.id)}));i!==n.items.length-1&&(this.displayedCardId.setState(n.items[i+1].data.id,!1),this.show(this.displayedCardId.getState(),r.data.detail_url,r.data.image_url))}},{key:"showPrevious",value:function(t){var e=this,r=this.resultContext.getData("data").find((function(t){return Number(t.data.id)===Number(e.displayedCardId.getState())})),n=this.groupedData.getState().find((function(t){return t.service===r.service})),i=n.items.findIndex((function(t){return Number(t.data.id)===Number(r.data.id)}));0!==i&&(this.displayedCardId.setState(n.items[i-1].data.id,!1),this.show(this.displayedCardId.getState(),r.data.detail_url,r.data.image_url))}},{key:"toogleNextControl",value:function(){var t=this,e=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t.displayedCardId.getState())})),r=this.groupedData.getState().find((function(t){return t.service===e.service})),n=r.items.findIndex((function(t){return Number(t.data.id)===Number(e.data.id)}));this.$(".next-control").classList.toggle("hidden",n===r.items.length-1)}},{key:"tooglePreviousControl",value:function(){var t=this,e=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t.displayedCardId.getState())})),r=this.groupedData.getState().find((function(t){return t.service===e.service})).items.findIndex((function(t){return Number(t.data.id)===Number(e.data.id)}));this.$(".prev-control").classList.toggle("hidden",0===r)}},{key:"close",value:function(t){t?t.target.classList.contains("close-button")?this.style.display="none":(t.stopPropagation(),t.target===this.wrapper&&(this.style.display="none")):this.style.display="none"}},{key:"setData",value:function(t){this.groupedData.setState(t,!1)}},{key:"displayAdditionalFields",value:function(t,e){var r=this,n=t;if(0===e.length&&this.$(".card-info-additional-fields"))this.$(".card-info-additional-fields").remove();else{if(this.$(".card-info-additional-fields"))this.$(".card-info-additional-fields").innerHTML="";else{var i=document.createElement("div");i.classList.add("card-info-additional-fields"),this.$(".card-info-content").appendChild(i)}e.forEach((function(t){if(n[t]){var e=t.replace(/_/g," ");e=e.toUpperCase();var i=C(of||(of=cf(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),e,n[t]);r.$(".card-info-additional-fields").innerHTML+=i}}))}}},{key:"highlightSearchTerms",value:function(){var t=this.searchContext.getData("current")||[],e=this.$(".card-info-content").innerHTML;t.forEach((function(t){var r=new RegExp("\\b".concat(t,"\\w*\\b"),"gi");e=e.replace(r,(function(e){var r,n=(r=t,e.split(new RegExp("(".concat(r,")"),"g"))),i="";return n.forEach((function(e){console.log(e),e.toLowerCase().includes(t.toLowerCase())?i+='<span class="highlight">'.concat(e,"</span>"):i+=e})),console.log(i),i}))})),this.$(".card-info-content").innerHTML=e}},{key:"handleAnimation",value:function(t,e){var r=this;t.preventDefault(),this.$(".card-info-wrapper").classList.remove("fade-in"),this.$(".card-info-wrapper").classList.remove("fade-left"),this.$(".card-info-wrapper").classList.remove("fade-right"),"prev"===e&&(this.$(".card-info-wrapper").classList.add("fade-left"),this.$(".controls-wrapper").style.opacity=0,this.$(".card-info-wrapper").style.overflowY="hidden",this.$(".card-info-wrapper").onanimationend=function(){r.$(".card-info-wrapper").classList.remove("fade-left"),r.$(".card-info-wrapper").classList.add("fade-in"),r.$(".card-info-wrapper").onanimationend=function(){r.$(".card-info-wrapper").classList.remove("fade-in"),r.$(".controls-wrapper").style.opacity=1,r.$(".card-info-wrapper").style.overflowY="auto"}}),"next"===e&&(this.$(".card-info-wrapper").classList.add("fade-right"),this.$(".controls-wrapper").style.opacity=0,this.$(".card-info-wrapper").style.overflowY="hidden",this.$(".card-info-wrapper").onanimationend=function(){r.$(".card-info-wrapper").classList.remove("fade-right"),r.$(".card-info-wrapper").classList.add("fade-in"),r.$(".card-info-wrapper").onanimationend=function(){r.$(".card-info-wrapper").classList.remove("fade-in"),r.$(".controls-wrapper").style.opacity=1,r.$(".card-info-wrapper").style.overflowY="auto"}})}}],a&&uf(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a}(t);function yf(t){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(t)}function mf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wf(n.key),n)}}function wf(t){var e=function(t){if("object"!=yf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yf(e)?e:e+""}function _f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_f=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}function kf(t,e){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kf(t,e)}window.customElements.define("agora-card-info-carousel",vf);var Sf,Of,Ef=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=xf(e),function(t,e){if(e&&("object"==yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_f()?Reflect.construct(e,r||[],xf(t).constructor):e.apply(t,r))}(this,r,["agora-pin-box","".concat(T.MID_COMPONENTS,"/PinBox/PinBox.css")])).pinContext=new e("pin",t,!1,"local"),t.unfolded=new n(!1,t),t.data=new n(null,t),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kf(t,e)}(r,t),i=r,o=[{key:"template",value:function(){return C(df||(df=mf(['\n            <div class="pin-icon ','">','</div>\n            <div class="card-wrapper ','">\n                ','\n                <div class="drop-placeholder">Drop and save your items here</div>\n            </div>\n        '])),this.unfolded.getState()?"unfolded":"",B,this.data.getState()&&this.data.getState().length>0?"":"no-cards",this.data.getState()&&this.data.getState().length>0?this.data.getState().map((function(t){return C(gf||(gf=mf(["\n                        <agora-pin-card data-data='","'></agora-pin-card>\n                        "])),JSON.stringify(t,zt))})).join(""):"")}},{key:"listeners",value:function(){var t=this;this.$(".pin-icon").onclick=function(){return t.toogleFold()},this.wrapper.ondragover=function(e){return t.handleDragOver(e)},this.wrapper.ondragleave=function(e){return t.handleDragLeave(e)},this.wrapper.ondrop=function(e){return t.handleDragDrop(e)}}},{key:"load",value:function(){var t=this.pinContext.getData("data");t&&this.data.setState(t,!1)}},{key:"toogleFold",value:function(){this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".pin-icon").classList.toggle("unfolded")}},{key:"handleDragOver",value:function(t){t.preventDefault(),this.wrapper.classList.add("dragover")}},{key:"handleDragLeave",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover")}},{key:"handleDragDrop",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover");var e={id:t.dataTransfer.getData("id"),model:t.dataTransfer.getData("model"),href:t.dataTransfer.getData("href"),featured_fields:t.dataTransfer.getData("featured-fields"),featured:t.dataTransfer.getData("featured"),data:JSON.parse(t.dataTransfer.getData("data"))};this.addPinnedCard(e)}},{key:"addPinnedCard",value:function(t){this.pinContext.getData("data")||this.pinContext.setData({data:[]});var e=this.pinContext.getData("data");cs(e,"id").find((function(e){return e.id===t.id}))||(e.push(t),this.pinContext.setData({data:e}),this.data.setState(e,!0))}},{key:"removePinnedCard",value:function(t){if(this.pinContext.getData("data")){var e=this.pinContext.getData("data").filter((function(e){return e.id!==t}));this.pinContext.setData({data:e}),this.data.setState(e,!0)}}}],o&&bf(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o}(t);function jf(t){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(t)}function Tf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Cf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lf(n.key),n)}}function Lf(t){var e=function(t){if("object"!=jf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jf(e)?e:e+""}function Pf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pf=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Af(t)}function $f(t,e){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$f(t,e)}window.customElements.define("agora-pin-box",Ef);var Df=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(t,e,r){return e=Af(e),function(t,e){if(e&&("object"==jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pf()?Reflect.construct(e,r||[],Af(t).constructor):e.apply(t,r))}(this,r,["agora-app","".concat(T.SRC,"/App.css")])).companyContext=new e("company",t,!1),t.resultContext=new e("result",t,!1),t.serviceContext=new e("service",t,!1),t.chatContext=new e("chat",t,!1),t.configContext=new e("config",t,!1),t.layout=new n("main",t),t.setupConfig(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$f(t,e)}(r,t),i=r,o=[{key:"setupConfig",value:function(){var t,e,r,n,i,o={name:null!==(t=this.getAttribute("name"))&&void 0!==t?t:$t,host:null!==(e=this.getAttribute("host"))&&void 0!==e?e:Dt,company_id:null!==(r=this.getAttribute("company_id"))&&void 0!==r?r:Mt,enabled_ai:null!==(n=this.hasAttribute("enabled_ai"))&&void 0!==n?n:It,ai_host:null!==(i=this.getAttribute("ai_host"))&&void 0!==i?i:Rt};this.configContext.setData(o)}},{key:"template",value:function(){return C(Sf||(Sf=Tf(['\n            \x3c!-- <agora-navigator></agora-navigator> --\x3e\n            \x3c!-- <agora-navbar></agora-navbar> --\x3e\n            \x3c!-- <agora-layout-v1></agora-layout-v1> --\x3e\n            \n            <agora-layout-v2></agora-layout-v2>\n\n            \x3c!-- Element Info Dialog --\x3e\n            <dialog class="card-info-dialog">\n                \x3c!-- Card Content --\x3e\n                <div class="card-info-dialog-wrapper">\n                    \x3c!-- Card Image --\x3e\n                    <div class="card-info-image-container">\n                        <img class="card-info-image" src="">\n                    </div>\n\n                    \x3c!-- Card Main Content --\x3e\n                    <div class="card-info-content">\n                        <span class="card-info-origin"></span>\n                        <span class="card-info-name"></span>\n                        <span class="card-info-lastname"></span>\n                        <span class="card-info-summary"></span>\n                    </div>\n\n                    \x3c!-- Card Actions --\x3e\n                    <div class="card-info-actions">\n                        <button class="card-info-explore-button">Explore</button>\n                    </div>\n                </div>\n\n                \x3c!-- Carousel Controls --\x3e\n                <div class="carousel-controls">\n                    <span class="prev-control">','</span>\n                    <span class="next-control">',"</span>\n                </div>\n            </dialog>\n            \x3c!-- This element could be encapsulated in a component --\x3e\n        "])),q,U)}},{key:"listeners",value:function(){var t=this;this.$(".card-info-dialog").onclick=function(e){return t.closeInfoDialog(e)},this.$(".card-info-dialog").onanimationend=function(){return t.$(".card-info-dialog").classList.remove("fade-in")},this.$(".card-info-explore-button").onclick=function(){return window.open(t.$(".card-info-explore-button").dataset.url,"_blank")},this.wrapper.onclick=function(e){if("AGORA-NAVBAR"!==e.target.tagName){var r=t.$("agora-navbar");if(!r)return;r.foldAllSubmenus()}},this.$(".prev-control").onclick=function(e){return t.handleCarouselControls(e,"prev")},this.$(".next-control").onclick=function(e){return t.handleCarouselControls(e,"next")}}},{key:"connectors",value:function(){var t=this.configContext.getData("enabled_ai")?this.$("agora-layout-v2").$("agora-chat").$("agora-chat-window"):null,e=this.$("agora-layout-v2").$("agora-result-window"),r=this.configContext.getData("enabled_ai")?null:this.$("agora-layout-v2").$("agora-searchbar"),n=this.$("agora-layout-v2").$("agora-navigator"),i=this.$("agora-layout-v2").$("agora-card-info-carousel");e&&t&&e.signals.connect(t,"results-updated",(function(){return e.clear()})),e&&r&&e.signals.connect(r,"no-results",(function(){return e.displayNoResultsMessage()})),n&&t&&n.signals.connect(t,"results-updated",(function(){return n.render()})),i&&t&&i.signals.connect(e,"cards-fetched",(function(){return i.setData(e.builtResults.getState())})),i&&r&&i.signals.connect(r,"results-updated",(function(t){return i.setData(t)}))}},{key:"openInfoDialog",value:function(t){this.$("agora-layout-v2").$("agora-card-info-carousel").show(t.id,t.href,t.has_image)}},{key:"displayAdditionalFieldsInDialog",value:function(t,e){var r=e.additional_fields,n=e.data;if(0===r.length&&t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").remove();else{if(t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").innerHTML="";else{var i=document.createElement("div");i.classList.add("card-info-additional-fields"),t.querySelector(".card-info-content").appendChild(i)}r.forEach((function(e){if(n[e]){var r=e.replace(/_/g," ");r=r.toUpperCase();var i=C(Of||(Of=Tf(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),r,n[e]);t.querySelector(".card-info-additional-fields").innerHTML+=i}}))}}},{key:"closeInfoDialog",value:function(t){["BUTTON","SVG","PATH","svg","path"].includes(t.target.tagName)||t.target.classList.contains("carousel-controls")||t.target.classList.contains("prev-control")||t.target.classList.contains("next-control")||this.$(".card-info-dialog").close()}},{key:"handleCarouselControls",value:function(t,e){var r=this;t.preventDefault(),this.$(".card-info-dialog").classList.remove("fade-in"),this.$(".card-info-dialog").classList.remove("fade-left"),this.$(".card-info-dialog").classList.remove("fade-right"),"prev"===e&&(this.$(".card-info-dialog").classList.add("fade-left"),this.$(".carousel-controls").style.opacity=0,this.$(".card-info-dialog").style.overflowY="hidden",this.$(".card-info-dialog").onanimationend=function(){r.$(".card-info-dialog").classList.remove("fade-left"),r.$(".card-info-dialog").classList.add("fade-in"),r.$(".card-info-dialog").onanimationend=function(){r.$(".card-info-dialog").classList.remove("fade-in"),r.$(".carousel-controls").style.opacity=1,r.$(".card-info-dialog").style.overflowY="auto"}}),"next"===e&&(this.$(".card-info-dialog").classList.add("fade-right"),this.$(".carousel-controls").style.opacity=0,this.$(".card-info-dialog").style.overflowY="hidden",this.$(".card-info-dialog").onanimationend=function(){r.$(".card-info-dialog").classList.remove("fade-right"),r.$(".card-info-dialog").classList.add("fade-in"),r.$(".card-info-dialog").onanimationend=function(){r.$(".card-info-dialog").classList.remove("fade-in"),r.$(".carousel-controls").style.opacity=1,r.$(".card-info-dialog").style.overflowY="auto"}})}}],o&&Cf(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o}(t);window.customElements.define("agora-app",Df)}},n={};function i(t){var e=n[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var o=n[t]={exports:{}};try{var a={id:t,module:o,factory:r[t],require:i};i.i.forEach((function(t){t(a)})),o=a.module,a.factory.call(o.exports,o,o.exports,a.require)}catch(t){throw o.error=t,t}return o.exports}i.m=r,i.c=n,i.i=[],i.hu=t=>t+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"44b11250d34045e06608",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="agora-ai-assistant-frontend:",i.l=(r,n,o,a)=>{if(t[r])t[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[n];var h=(e,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},(()=>{var t,e,r,n={},o=i.c,a=[],s=[],c="idle",u=0,l=[];function f(t){c=t;for(var e=[],r=0;r<s.length;r++)e[r]=s[r].call(null,t);return Promise.all(e).then((function(){}))}function h(){0==--u&&f("ready").then((function(){if(0===u){var t=l;l=[];for(var e=0;e<t.length;e++)t[e]()}}))}function p(t){if("idle"!==c)throw new Error("check() is only allowed in idle status");return f("check").then(i.hmrM).then((function(r){return r?f("prepare").then((function(){var n=[];return e=[],Promise.all(Object.keys(i.hmrC).reduce((function(t,o){return i.hmrC[o](r.c,r.r,r.m,t,e,n),t}),[])).then((function(){return e=function(){return t?g(t):f("ready").then((function(){return n}))},0===u?e():new Promise((function(t){l.push((function(){t(e())}))}));var e}))})):f(v()?"ready":"idle").then((function(){return null}))}))}function d(t){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):g(t)}function g(t){t=t||{},v();var n=e.map((function(e){return e(t)}));e=void 0;var i=n.map((function(t){return t.error})).filter(Boolean);if(i.length>0)return f("abort").then((function(){throw i[0]}));var o=f("dispose");n.forEach((function(t){t.dispose&&t.dispose()}));var a,s=f("apply"),c=function(t){a||(a=t)},u=[];return n.forEach((function(t){if(t.apply){var e=t.apply(c);if(e)for(var r=0;r<e.length;r++)u.push(e[r])}})),Promise.all([o,s]).then((function(){return a?f("fail").then((function(){throw a})):r?g(t).then((function(t){return u.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):f("idle").then((function(){return u}))}))}function v(){if(r)return e||(e=[]),Object.keys(i.hmrI).forEach((function(t){r.forEach((function(r){i.hmrI[t](r,e)}))})),r=void 0,!0}i.hmrD=n,i.i.push((function(l){var g,v,y,m,b=l.module,w=function(e,r){var n=o[r];if(!n)return e;var i=function(i){if(n.hot.active){if(o[i]){var s=o[i].parents;-1===s.indexOf(r)&&s.push(r)}else a=[r],t=i;-1===n.children.indexOf(i)&&n.children.push(i)}else console.warn("[HMR] unexpected require("+i+") from disposed module "+r),a=[];return e(i)},s=function(t){return{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(r){e[t]=r}}};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&"e"!==l&&Object.defineProperty(i,l,s(l));return i.e=function(t,r){return function(t){switch(c){case"ready":f("prepare");case"prepare":return u++,t.then(h,h),t;default:return t}}(e.e(t,r))},i}(l.require,l.id);b.hot=(g=l.id,v=b,m={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=t!==g,_requireSelf:function(){a=v.parents.slice(),t=y?void 0:g,i(g)},active:!0,accept:function(t,e,r){if(void 0===t)m._selfAccepted=!0;else if("function"==typeof t)m._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var n=0;n<t.length;n++)m._acceptedDependencies[t[n]]=e||function(){},m._acceptedErrorHandlers[t[n]]=r;else m._acceptedDependencies[t]=e||function(){},m._acceptedErrorHandlers[t]=r},decline:function(t){if(void 0===t)m._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)m._declinedDependencies[t[e]]=!0;else m._declinedDependencies[t]=!0},dispose:function(t){m._disposeHandlers.push(t)},addDisposeHandler:function(t){m._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=m._disposeHandlers.indexOf(t);e>=0&&m._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":e=[],Object.keys(i.hmrI).forEach((function(t){i.hmrI[t](g,e)})),f("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(t){i.hmrI[t](g,e)}));break;case"prepare":case"check":case"dispose":case"apply":(r=r||[]).push(g)}},check:p,apply:d,status:function(t){if(!t)return c;s.push(t)},addStatusHandler:function(t){s.push(t)},removeStatusHandler:function(t){var e=s.indexOf(t);e>=0&&s.splice(e,1)},data:n[g]},t=void 0,m),b.parents=a,b.children=[],a=[],l.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t,e,r,n,o,a=i.hmrS_jsonp=i.hmrS_jsonp||{792:0},s={};function c(e,r){return t=r,new Promise(((t,r)=>{s[e]=t;var n=i.p+i.hu(e),o=new Error;i.l(n,(t=>{if(s[e]){s[e]=void 0;var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,r(o)}}))}))}function u(t){function s(t){for(var e=[t],r={},n=e.map((function(t){return{chain:[t],id:t}}));n.length>0;){var o=n.pop(),a=o.id,s=o.chain,u=i.c[a];if(u&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var l=0;l<u.parents.length;l++){var f=u.parents[l],h=i.c[f];if(h){if(h.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([f]),moduleId:a,parentId:f};-1===e.indexOf(f)&&(h.hot._acceptedDependencies[a]?(r[f]||(r[f]=[]),c(r[f],[a])):(delete r[f],e.push(f),n.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:r}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];-1===t.indexOf(n)&&t.push(n)}}i.f&&delete i.f.jsonpHmr,e=void 0;var u={},l=[],f={},h=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in r)if(i.o(r,p)){var d=r[p],g=d?s(p):{type:"disposed",moduleId:p},v=!1,y=!1,m=!1,b="";switch(g.chain&&(b="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of self decline: "+g.moduleId+b));break;case"declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+b));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(g),t.ignoreUnaccepted||(v=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":t.onAccepted&&t.onAccepted(g),y=!0;break;case"disposed":t.onDisposed&&t.onDisposed(g),m=!0;break;default:throw new Error("Unexception type "+g.type)}if(v)return{error:v};if(y)for(p in f[p]=d,c(l,g.outdatedModules),g.outdatedDependencies)i.o(g.outdatedDependencies,p)&&(u[p]||(u[p]=[]),c(u[p],g.outdatedDependencies[p]));m&&(c(l,[g.moduleId]),f[p]=h)}r=void 0;for(var w,_=[],x=0;x<l.length;x++){var k=l[x],S=i.c[k];S&&(S.hot._selfAccepted||S.hot._main)&&f[k]!==h&&!S.hot._selfInvalidated&&_.push({module:k,require:S.hot._requireSelf,errorHandler:S.hot._selfAccepted})}return{dispose:function(){var t;n.forEach((function(t){delete a[t]})),n=void 0;for(var e,r=l.slice();r.length>0;){var o=r.pop(),s=i.c[o];if(s){var c={},f=s.hot._disposeHandlers;for(x=0;x<f.length;x++)f[x].call(null,c);for(i.hmrD[o]=c,s.hot.active=!1,delete i.c[o],delete u[o],x=0;x<s.children.length;x++){var h=i.c[s.children[x]];h&&(t=h.parents.indexOf(o))>=0&&h.parents.splice(t,1)}}}for(var p in u)if(i.o(u,p)&&(s=i.c[p]))for(w=u[p],x=0;x<w.length;x++)e=w[x],(t=s.children.indexOf(e))>=0&&s.children.splice(t,1)},apply:function(e){for(var r in f)i.o(f,r)&&(i.m[r]=f[r]);for(var n=0;n<o.length;n++)o[n](i);for(var a in u)if(i.o(u,a)){var s=i.c[a];if(s){w=u[a];for(var c=[],h=[],p=[],d=0;d<w.length;d++){var g=w[d],v=s.hot._acceptedDependencies[g],y=s.hot._acceptedErrorHandlers[g];if(v){if(-1!==c.indexOf(v))continue;c.push(v),h.push(y),p.push(g)}}for(var m=0;m<c.length;m++)try{c[m].call(null,w)}catch(r){if("function"==typeof h[m])try{h[m](r,{moduleId:a,dependencyId:p[m]})}catch(n){t.onErrored&&t.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:p[m],error:n,originalError:r}),t.ignoreErrored||(e(n),e(r))}else t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:p[m],error:r}),t.ignoreErrored||e(r)}}}for(var b=0;b<_.length;b++){var x=_[b],k=x.module;try{x.require(k)}catch(r){if("function"==typeof x.errorHandler)try{x.errorHandler(r,{moduleId:k,module:i.c[k]})}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:n,originalError:r}),t.ignoreErrored||(e(n),e(r))}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:k,error:r}),t.ignoreErrored||e(r)}}return l}}}self.webpackHotUpdateagora_ai_assistant_frontend=(e,n,a)=>{for(var c in n)i.o(n,c)&&(r[c]=n[c],t&&t.push(c));a&&o.push(a),s[e]&&(s[e](),s[e]=void 0)},i.hmrI.jsonp=function(t,e){r||(r={},o=[],n=[],e.push(u)),i.o(r,t)||(r[t]=i.m[t])},i.hmrC.jsonp=function(t,s,l,f,h,p){h.push(u),e={},n=s,r=l.reduce((function(t,e){return t[e]=!1,t}),{}),o=[],t.forEach((function(t){i.o(a,t)&&void 0!==a[t]?(f.push(c(t,p)),e[t]=!0):e[t]=!1})),i.f&&(i.f.jsonpHmr=function(t,r){e&&i.o(e,t)&&!e[t]&&(r.push(c(t)),e[t]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})(),i(588)})();