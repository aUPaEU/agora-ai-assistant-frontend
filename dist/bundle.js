/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,n={493:()=>{var t="1.1.5",e={name:"Unite!",host:"https://agora.unite-university.eu",company_id:1,enabled_ai:!1,ai_host:"http://localhost:2000",translation_host:"https://agora.unite-university.eu/translation",current_version:t};class n{static instance=null;constructor(){this.name=name;const t=this.constructor.instance;if(t)return t;this.styles=[],n.instance=this}registerCSS(t,e){this.styles[t]||(this.styles[t]=this.fetchCSS(e))}renderCSS(t){if(!this.styles[t])throw new Error(`The styles for ${t} have not been loaded. Please use the registerCSS method first to load the styles`);const e=document.createElement("style");return e.textContent=this.styles[t],e}fetchCSS(t){const e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e.responseText}}class r extends HTMLElement{constructor(t,e){super(),this.name=t,this.parentComponent=null,this.shadow=this.#t(),this.styles=this.#e(e),this.wrapper=this.#n(),this.signals=null,this.shadow.appendChild(this.styles),this.shadow.appendChild(this.wrapper)}connectedCallback(){this.render(),this.elementConnected()}disconnectedCallback(){this.elementDisconnected()}#t(){return this.attachShadow({mode:"open"})}#n(){const t=document.createElement("div");return t.classList.add(`${this.name}-wrapper`),t.setAttribute("plan","wrapper"),t}#e(t=null){t||console.warn(`You haven't defined any style path for the component ${this.name}. \n                This component won't have any styles embedded in the shadow DOM. \n                If you want to use encapsulated styles, please define a path to the stylesheet in the constructor`);const e=new n;return e.registerCSS(this.name,t),e.renderCSS(this.name)}$(t){return this.wrapper.querySelector(t)||null}$$(t){return this.wrapper.querySelectorAll(t)||null}render(){this.beforeRender(),this.wrapper.innerHTML=this.template(),this.#r(),this.listeners(),this.connectors(),this.afterRender()}#o(t,e){}#i(t,e){}#a(t){}template(){}listeners(){}connectors(){}elementConnected(){}elementDisconnected(){}beforeRender(){}afterRender(){}#r(){this.wrapper.querySelectorAll("*").forEach((t=>{t.parentComponent=this}))}}class o{static instances={};constructor(t,e,n=!0,r="session"){this.name=`${t}Context`;const i=o.instances[this.name];if(i)return n&&i.subscribe(e),i;this.subscribers=[],this.location=r,this.#s(),n&&this.subscribe(e),o.instances[this.name]=this}#s(){"session"===this.location?!sessionStorage.getItem(this.name)&&sessionStorage.setItem(this.name,JSON.stringify({})):"local"===this.location&&!localStorage.getItem(this.name)&&localStorage.setItem(this.name,JSON.stringify({}))}#c(){this.subscribers.forEach((t=>{t.render()}))}subscribe(t){this.subscribers.includes(t)||this.subscribers.push(t)}setData(t,e=!1){if("session"===this.location){let e=JSON.parse(sessionStorage.getItem(this.name));if(!e)return;e={...e,...t},sessionStorage.setItem(this.name,JSON.stringify(e))}else if("local"===this.location){let e=JSON.parse(localStorage.getItem(this.name));if(!e)return;e={...e,...t},localStorage.setItem(this.name,JSON.stringify(e))}e&&this.#c()}getData(t){return"session"===this.location?JSON.parse(sessionStorage.getItem(this.name))[t]:JSON.parse(localStorage.getItem(this.name))[t]}clear(){"session"===this.location?sessionStorage.removeItem(this.name):"local"===this.location&&localStorage.removeItem(this.name),delete o.instances[this.name]}}class i{constructor(t){if(!t)throw new Error("You need to specify the parent of the signal. Use 'this' as default.");this.parent=t,this.registered={}}register(t){if(this.registered[t])throw new Error(`'${t}' signal already exists.`);this.registered[t]=[]}emit(t,e=null){this.registered[t].forEach((t=>{t.element[t.callback.name]?e?t.element[t.callback.name](e):t.element[t.callback.name]():e?t.callback(e):t.callback()}))}connect(t,e,n){if(!t.signals.registered[e])throw new Error(`${t}:'${e}' signal does not exist. Maybe you're trying to connect to ${this.#l(e)}...`);t.signals.registered[e].push({element:this.parent,callback:n})}#l(t){let e=[];this.registered.keys().forEach((n=>{let r=0;t.split().forEach(((t,e)=>{n.length-1<=e&&n[e]===t&&r++})),e[n]=r}));let n=null,r=0;return e.forEach(((t,e)=>{e>r&&(r=e,n=t)})),n}}class a{#u;#f;#h;constructor(t,e){this.#u=e,this.#f=t,this.#h=t}setState(t,e=!0){this.#f=this.#h,this.#h=t,e&&this.#u.render()}getState(){return this.#h}getPrevState(){return this.#f}}var s,c,l,u,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O,C,E,T,j,L,P,A,$,M,D,I,R,N,B="https://cdn.jsdelivr.net/gh/aUPaEU/agora-ai-assistant-frontend@".concat(e.current_version),z={SRC:"".concat(B,"/src"),DIST:"".concat(B,"/dist"),PUBLIC:"".concat(B,"/public"),BASE_COMPONENTS:"".concat(B,"/src/components/base"),MID_COMPONENTS:"".concat(B,"/src/components/mid"),COMPLEX_COMPONENTS:"".concat(B,"/src/components/complex"),LAYOUT_COMPONENTS:"".concat(B,"/src/components/layout"),PAGE_COMPONENTS:"".concat(B,"/src/components/page")},F=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((function(t,e,r){return t+e+(n[r]||"")}),"")};function q(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var G=F(s||(s=q(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 34L2 18L18 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),H=F(c||(c=q(['\n    <svg width="24" height="24" viewBox="0 0 20 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 34L18 18L2 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),U=(F(l||(l=q(['\n    <svg width="24" height="24" viewBox="0 0 36 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 2L18 18L34 2" stroke="#0080FF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),F(u||(u=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 4V20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2"  stroke-linejoin="round"/>\n    </svg>\n'])))),V=F(f||(f=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    </svg>\n']))),Z=F(h||(h=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.9365 3.4896V1.6H16.7429V0H10.2921V1.6H11.0984V3.4928C8.66324 4.0648 6.46675 5.5048 5 7.5336L6.31032 8.4664C7.67698 6.58507 9.73496 5.31287 12.0394 4.9248C13.0182 4.75882 14.0183 4.75882 14.9971 4.9248C17.0667 5.26453 18.9468 6.32399 20.3009 7.91351C21.6549 9.50303 22.3946 11.5188 22.3873 13.6C22.3873 18.452 18.408 22.4 13.5175 22.4C12.1094 22.3985 10.7218 22.0653 9.46887 21.4279C8.21591 20.7905 7.13338 19.8671 6.31032 18.7336L5.00081 19.6664C5.97334 21.006 7.25252 22.0973 8.73313 22.8507C10.2137 23.6041 11.8535 23.998 13.5175 24C19.2974 24 24 19.3344 24 13.6C24 8.7288 20.6456 4.5856 15.9365 3.4896ZM12.7111 3.2344V1.6H14.3238V3.2344C13.7871 3.1929 13.2479 3.1929 12.7111 3.2344Z" fill="currentColor"/>\n    <path d="M0 12.7169H7.32115V14.4779H0V12.7169ZM1.62692 9.19486H8.94807V10.9559H1.62692V9.19486ZM1.62692 16.239H8.94807V18H1.62692V16.239ZM17.8498 8L14.8741 11.2209C14.5485 11.0487 14.1912 10.9581 13.8288 10.9559C12.4834 10.9559 11.3884 12.1411 11.3884 13.5974C11.3884 15.0538 12.4834 16.239 13.8288 16.239C15.1743 16.239 16.2692 15.0538 16.2692 13.5974C16.2692 13.1906 16.1773 12.8102 16.0252 12.466L19 9.24505L17.8498 8ZM13.8288 14.4779C13.3806 14.4779 13.0154 14.0826 13.0154 13.5974C13.0154 13.1123 13.3806 12.7169 13.8288 12.7169C14.277 12.7169 14.6423 13.1123 14.6423 13.5974C14.6423 14.0826 14.277 14.4779 13.8288 14.4779Z" fill="currentColor"/>\n    </svg>\n']))),Y=F(p||(p=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="4" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="4" width="4" height="4" fill="currentColor"/>\n    <rect x="4" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="10" width="4" height="4" fill="currentColor"/>\n    <rect x="4" y="16" width="4" height="4" fill="currentColor"/>\n    <rect x="10" y="16" width="4" height="4" fill="currentColor"/>\n    <rect x="16" y="16" width="4" height="4" fill="currentColor"/>\n    </svg>\n']))),W=(F(d||(d=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 12C2 12 5.63636 5 12 5C18.3636 5 22 12 22 12C22 12 18.3636 19 12 19C5.63636 19 2 12 2 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),F(g||(g=q(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q146 0 255.5 91.5T872-559h-82q-19-73-68.5-130.5T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h80v120h-40L168-552q-3 18-5.5 36t-2.5 36q0 131 92 225t228 95v80Zm364-20L716-228q-21 12-45 20t-51 8q-75 0-127.5-52.5T440-380q0-75 52.5-127.5T620-560q75 0 127.5 52.5T800-380q0 27-8 51t-20 45l128 128-56 56ZM620-280q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Z"/></svg>\n'])))),J=F(v||(v=q(['\n    <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0.0152381 30.6667L32 16.6667L0.0152381 2.66669L0 13.5556L22.8571 16.6667L0 19.7778L0.0152381 30.6667Z" fill="currentColor"/>\n    </svg>\n']))),X=F(y||(y=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4 7H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M10 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M14 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M6 7L7 19C7 19.5304 7.21071 20.0391 7.58579 20.4142C7.96086 20.7893 8.46957 21 9 21H15C15.5304 21 16.0391 20.7893 16.4142 20.4142C16.7893 20.0391 17 19.5304 17 19L18 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M9 7V4C9 3.73478 9.10536 3.48043 9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),Q=(F(m||(m=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 22C12 22 19 16 19 9.5C19 5.35786 15.866 2 12 2C8.13401 2 5 5.35786 5 9.5C5 16 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="9.5" r="2.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),F(b||(b=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 3H8C7.44772 3 7 3.44772 7 4V21L12 18L17 21V4C17 3.44772 16.5523 3 16 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n'])))),K=F(w||(w=q(['\n    <svg id="Capa_2" data-name="Capa 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 658.08 657.97">\n        <defs>\n            <style>\n                .cls-1 {\n                fill: #3a85fe;\n                }\n\n                .cls-2 {\n                fill: #febd0b;\n                }\n\n                .cls-3 {\n                fill: #fe006e;\n                }\n\n                .cls-4 {\n                fill: #8238eb;\n                }\n\n                .cls-5 {\n                fill: #fa5607;\n                }\n            </style>\n        </defs>\n        <g id="Capa_1-2" data-name="Capa 1">\n        <path class="cls-2" d="M318.49,229.28c89.04-7.92,144.11,93.15,88.17,163.02-44.78,55.93-135.14,46.33-167.52-17.41-31.65-62.3,9.58-139.4,79.34-145.61Z"/>\n        <path class="cls-5" d="M330.39,459.87l2.84.83c17.63,19.48,39.12,36.96,56.48,56.48,52.92,59.49,11,147.48-68.51,140.38-39.16-3.5-70.49-38.81-72.56-77.37-2.95-55.05,49.76-83.94,81.74-120.32Z"/>\n        <path class="cls-5" d="M316.49.48c76-7.75,121.11,79.38,71.23,137.11-17.65,20.43-40.91,38.6-58.98,58.96l-2.55,1.49-2.55-1.49c-37.16-42.18-95.3-71.92-76.22-138.18C256.21,27.88,284.72,3.72,316.49.48Z"/>\n        <path class="cls-3" d="M234.69,238.97c-27.69-1.31-56.98,1.76-84.49,0-113.78-7.32-100.41-171.77,8.03-164.88,35.63,2.26,76.46,36.06,76.46,73.47v91.42Z"/>\n        <path class="cls-1" d="M71.49,247.26c23.94-2.44,46.51,4.05,64.73,19.66l61.4,61.61-1.39,2.39c-42.26,36.94-72.35,96.51-138.97,76.84-83.95-24.78-72.52-151.67,14.23-160.5Z"/>\n        <path class="cls-1" d="M565.49,247.26c59.39-6.04,105.16,46.45,89.49,104.39-15.5,57.32-87.79,78.51-132.81,40.21l-62.4-62.61,1.39-2.39c32.04-26.68,59.42-75.04,104.33-79.6Z"/>\n        <path class="cls-4" d="M237.69,422.8v95.41c0,14.05-16.07,39.15-26.53,48.43-61.42,54.54-155.86-3.87-134.76-83.68,7.76-29.36,40.22-60.16,71.78-60.16h89.5Z"/>\n        <path class="cls-3" d="M422.69,419.8h93.5c25.66,0,55.74,27.24,64.98,49.97,31.93,78.52-59.75,148.36-126.94,96.85-14.97-11.48-31.54-37.09-31.54-56.41v-90.42Z"/>\n        <path class="cls-4" d="M419.69,234.97v-94.41c0-21.13,22.97-49.27,40.69-59.25,66.87-37.68,143.92,26.9,118.76,99.67-8.8,25.46-39.99,53.99-67.96,53.99h-91.5Z"/>\n        </g>\n        </svg>\n']))),tt=F(_||(_=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),et=F(x||(x=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12 16V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <circle cx="12" cy="8" r="1" fill="currentColor"/>\n    </svg>\n']))),nt=F(k||(k=q(['\n    <svg\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 24 24"\n    width="24"\n    height="24"\n    fill="currentColor"\n    >\n    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>\n    <line x1="12" y1="8" x2="12" y2="8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <line x1="12" y1="11" x2="12" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n']))),rt=F(S||(S=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),ot=F(O||(O=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),it=F(C||(C=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),at=F(E||(E=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18 15L12 9L6 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),st=F(T||(T=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M16 16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),ct=F(j||(j=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),lt=F(L||(L=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>\n    <path d="M3 8H21" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>\n    <path d="M7 6H7.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    <path d="M11 6H11.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n    </svg>\n']))),ut=F(P||(P=q(['\n    <svg \n        viewBox="0 0 24 24" \n        fill="none" \n        xmlns="http://www.w3.org/2000/svg"\n    >\n    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>\n    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>\n    <g id="SVGRepo_iconCarrier"> \n        <path d="M18 20.75H6C5.27065 20.75 4.57118 20.4603 4.05546 19.9445C3.53973 19.4288 3.25 18.7293 3.25 18V6C3.25 5.27065 3.53973 4.57118 4.05546 4.05546C4.57118 3.53973 5.27065 3.25 6 3.25H12C12.1989 3.25 12.3897 3.32902 12.5303 3.46967C12.671 3.61032 12.75 3.80109 12.75 4C12.75 4.19891 12.671 4.38968 12.5303 4.53033C12.3897 4.67098 12.1989 4.75 12 4.75H6C5.66848 4.75 5.35054 4.8817 5.11612 5.11612C4.8817 5.35054 4.75 5.66848 4.75 6V18C4.75 18.3315 4.8817 18.6495 5.11612 18.8839C5.35054 19.1183 5.66848 19.25 6 19.25H18C18.3315 19.25 18.6495 19.1183 18.8839 18.8839C19.1183 18.6495 19.25 18.3315 19.25 18V12C19.25 11.8011 19.329 11.6103 19.4697 11.4697C19.6103 11.329 19.8011 11.25 20 11.25C20.1989 11.25 20.3897 11.329 20.5303 11.4697C20.671 11.6103 20.75 11.8011 20.75 12V18C20.75 18.7293 20.4603 19.4288 19.9445 19.9445C19.4288 20.4603 18.7293 20.75 18 20.75Z" fill="currentColor"></path>\n        <path d="M20 8.75C19.8019 8.74741 19.6126 8.66756 19.4725 8.52747C19.3324 8.38737 19.2526 8.19811 19.25 8V4.75H16C15.8011 4.75 15.6103 4.67098 15.4697 4.53033C15.329 4.38968 15.25 4.19891 15.25 4C15.25 3.80109 15.329 3.61032 15.4697 3.46967C15.6103 3.32902 15.8011 3.25 16 3.25H20C20.1981 3.25259 20.3874 3.33244 20.5275 3.47253C20.6676 3.61263 20.7474 3.80189 20.75 4V8C20.7474 8.19811 20.6676 8.38737 20.5275 8.52747C20.3874 8.66756 20.1981 8.74741 20 8.75Z" fill="currentColor"></path>\n        <path d="M13.5 11.25C13.3071 11.2352 13.1276 11.1455 13 11C12.877 10.8625 12.809 10.6845 12.809 10.5C12.809 10.3155 12.877 10.1375 13 10L19.5 3.5C19.5687 3.42631 19.6515 3.36721 19.7435 3.32622C19.8355 3.28523 19.9348 3.26319 20.0355 3.26141C20.1362 3.25963 20.2362 3.27816 20.3296 3.31588C20.423 3.3536 20.5078 3.40974 20.579 3.48096C20.6503 3.55218 20.7064 3.63701 20.7441 3.7304C20.7818 3.82379 20.8004 3.92382 20.7986 4.02452C20.7968 4.12523 20.7748 4.22454 20.7338 4.31654C20.6928 4.40854 20.6337 4.49134 20.56 4.56L14 11C13.8724 11.1455 13.6929 11.2352 13.5 11.25Z" fill="currentColor"></path>\n    </g>\n    </svg>\n']))),ft=F(A||(A=q(['\n    <svg \n        fill="currentColor" \n        width="800px" \n        height="800px" \n        viewBox="0 0 32 32" \n        id="Camada_1" \n        version="1.1" \n        xml:space="preserve" \n        xmlns="http://www.w3.org/2000/svg" \n        xmlns:xlink="http://www.w3.org/1999/xlink"\n    >\n        <path d="M5,19.5c0-4.6,2.3-9.4,5-9.4c1.5,0,2.7,0.9,4.6,3.6c-1.8,2.8-2.9,4.5-2.9,4.5c-2.4,3.8-3.2,4.6-4.5,4.6  C5.9,22.9,5,21.7,5,19.5 M20.7,17.8L19,15c-0.4-0.7-0.9-1.4-1.3-2c1.5-2.3,2.7-3.5,4.2-3.5c3,0,5.4,4.5,5.4,10.1  c0,2.1-0.7,3.3-2.1,3.3S23.3,22,20.7,17.8 M16.4,11c-2.2-2.9-4.1-4-6.3-4C5.5,7,2,13.1,2,19.5c0,4,1.9,6.5,5.1,6.5  c2.3,0,3.9-1.1,6.9-6.3c0,0,1.2-2.2,2.1-3.7c0.3,0.5,0.6,1,0.9,1.6l1.4,2.4c2.7,4.6,4.2,6.1,6.9,6.1c3.1,0,4.8-2.6,4.8-6.7  C30,12.6,26.4,7,22.1,7C19.8,7,18,8.8,16.4,11"/>\n    </svg>\n']))),ht=F($||($=q(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor">\n        <path d="M200-313q10-3 19.5-5t20.5-2h40v-480h-40q-17 0-28.5 11.5T200-760v447Zm40 233q-50 0-85-35t-35-85v-560q0-50 35-85t85-35h280v80H360v480h240v-120h80v200H240q-17 0-28.5 11.5T200-200q0 17 11.5 28.5T240-160h520v-320h80v400H240Zm-40-233v-487 487Zm500-167q0-92 64-156t156-64q-92 0-156-64t-64-156q0 92-64 156t-156 64q92 0 156 64t64 156Z"/></svg>\n']))),pt=F(M||(M=q(['\n<svg \n    xmlns="http://www.w3.org/2000/svg" \n    height="24px" \n    viewBox="0 -960 960 960" \n    width="24px" \n    fill="currentColor"\n    ><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>\n']))),dt=F(D||(D=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <rect x="1" y="1" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"/>\n    <rect x="5" y="5" width="14" height="14" fill="currentColor" opacity="0.65" />\n    </svg>\n']))),gt=F(I||(I=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <rect x="1" y="1" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2"/>\n    </svg>\n']))),vt=F(R||(R=q(['\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8 18L1 22V6L8 2M8 18L16 22M8 18V2M16 22L23 18V2L16 6M16 22V6M16 6L8 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n']))),yt=F(N||(N=q(['\n    <svg width="24" height="24" viewBox="0 0 489.698 489.698" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <path d="M468.999,227.774c-11.4,0-20.8,8.3-20.8,19.8c-1,74.9-44.2,142.6-110.3,178.9c-99.6,54.7-216,5.6-260.6-61l62.9,13.1 c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-123.7-26c-7.2-1.7-26.1,3.5-23.9,22.9l15.6,124.8 c1,10.4,9.4,17.7,19.8,17.7c15.5,0,21.8-11.4,20.8-22.9l-7.3-60.9c101.1,121.3,229.4,104.4,306.8,69.3 c80.1-42.7,131.1-124.8,132.1-215.4C488.799,237.174,480.399,227.774,468.999,227.774z" fill="currentColor"/>\n        <path d="M20.599,261.874c11.4,0,20.8-8.3,20.8-19.8c1-74.9,44.2-142.6,110.3-178.9c99.6-54.7,216-5.6,260.6,61l-62.9-13.1 c-10.4-2.1-21.8,4.2-23.9,15.6c-2.1,10.4,4.2,21.8,15.6,23.9l123.8,26c7.2,1.7,26.1-3.5,23.9-22.9l-15.6-124.8 c-1-10.4-9.4-17.7-19.8-17.7c-15.5,0-21.8,11.4-20.8,22.9l7.2,60.9c-101.1-121.2-229.4-104.4-306.8-69.2 c-80.1,42.6-131.1,124.8-132.2,215.3C0.799,252.574,9.199,261.874,20.599,261.874z" fill="currentColor"/>\n    </g>\n    </svg>\n']))),mt={"Research Infrastructure":{link:"https://www.research.manchester.ac.uk/research-infrastructure",description:"Access world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",subServices:{"Open Access Facilities":{link:"https://www.research.manchester.ac.uk/student-catalogue",description:"Access publicly available facilities including the National Graphene Institute, Manchester Institute of Biotechnology, and shared computing clusters.",subServices:{}},"Restricted Access Facilities":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Exclusive access to specialized infrastructure for confidential projects, including clean rooms, secure data centers, and private laboratory spaces.",subServices:{}}}},"Student Catalogue":{link:"https://www.research.manchester.ac.uk/student-catalogue",description:"Explore our database of over 5,000 student research projects and initiatives. Discover collaborative opportunities across all academic disciplines.",subServices:{}},"Funding Opportunities":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Navigate through research funding opportunities worth over £200 million annually. Find grants, fellowships, and scholarships tailored to your research area.",subServices:{"Local Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access regional funding through Greater Manchester Innovation Fund and Northern Powerhouse Investment Fund. Grants ranging from £10,000 to £500,000.",subServices:{"Enterprise Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Connect with local business funding including SME Innovation Vouchers and Knowledge Transfer Partnerships.",subServices:{}},"Non-Profit Organizations":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Explore funding from Wellcome Trust North, Cancer Research UK Manchester Centre, and local healthcare trusts.",subServices:{"Healthcare Trusts":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access specialized funding for rare diseases, public health initiatives, and clinical trials in Greater Manchester.",subServices:{}}}}}},"International Funding":{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Access EU Horizon Europe grants, Global Challenges Research Fund, and Newton Fund partnerships. Funding from €50,000 to €5 million.",subServices:{}},Industry:{link:"https://www.research.manchester.ac.uk/funding-opportunities",description:"Industry-sponsored opportunities from global corporations including GSK, Siemens, and BP. Funding from £100,000 to £2 million per project.",subServices:{}}}},"R&I Collaboration":{link:"https://www.research.manchester.ac.uk/r-i-collaboration",description:"Connect with our network of over 1,000 research partners across 100 countries through our dedicated partnership development team.",subServices:{}},Internships:{link:"https://www.research.manchester.ac.uk/internships",description:"Find research internship opportunities ranging from 8-week summer placements to year-long positions, with competitive stipends.",subServices:{}},"Faculty and Staff":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources and support services for 5,000+ academic staff and researchers. Access career development and research support.",subServices:{"Academic Staff":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for 2,000+ faculty members, including research development support and leadership development opportunities.",subServices:{"Teaching Resources":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Access teaching resources, departmental research strategies, and support for research group leadership.",subServices:{}}}},"Professional Services":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for 3,000+ professional services staff, including administrative procedures and development opportunities.",subServices:{"Research Support":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Support for research staff including funding opportunities and career development programs.",subServices:{}},Operations:{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Resources for managing research projects, including grant management and compliance guidelines.",subServices:{"Research Management":{link:"https://www.research.manchester.ac.uk/faculty-and-staff",description:"Guidance for research administration including award management and ethical approval processes.",subServices:{}}}}}}}},Stakeholders:{link:"https://www.research.manchester.ac.uk/stakeholders",description:"Connect with industrial partners, government agencies, and community organizations. Access partnership opportunities and engagement initiatives.",subServices:{}},Projects:{link:"https://www.research.manchester.ac.uk/projects",description:"Explore our portfolio of 2,000+ active research projects addressing global challenges across all academic disciplines.",subServices:{"Active Projects":{link:"https://www.research.manchester.ac.uk/projects",description:"Browse 1,200+ current projects worth over £500 million. Find collaboration opportunities and engage with research teams.",subServices:{}},"Project Archive":{link:"https://www.research.manchester.ac.uk/projects",description:"Access our archive of 5,000+ completed projects, including outcomes, impact statements, and published findings.",subServices:{}}}}},bt={"Sudent Services":{description:"Unite! offerings and activities open to students enrolled in any of the nine Unite! partner universities",showcase:"",subServices:[],catalogues:[{name:"Student Catalogue",description:"Explore our database of over 5,000 student research projects and initiatives. Discover collaborative opportunities across all academic disciplines.",models:[{name:"Course Catalogue",model:"student.course"},{name:"Extracurricular Activity Catalogue",model:"student.extra.activity"},{name:"Joint Programmes Catalogue",model:"student.jp"},{name:"MOOCs Catalogue",model:"student.mooc"}],websites:[{view_name:"Course",page_url:"https://agora.unite-university.eu/student-catalogue/course"},{view_name:"Extracurricular Activity",page_url:"https://agora.unite-university.eu/student-catalogue/extra-act"},{view_name:"Joint Programmes",page_url:"https://agora.unite-university.eu/student-catalogue/jp"},{view_name:"MOOCs",page_url:"https://agora.unite-university.eu/student-catalogue/mooc"}]}]},"Faculty & Staff Community Platform":{description:"Digital platform for Faculty & Staff members of Unite!",showcase:"https://facultyandstaff.unite-university.eu/",subServices:[{name:"Training Catalogue",description:"Faculty and Staff Trainings catalogue.",showcase:"https://agora.unite-university.eu/faculty-and-staff-training-catalogue",subServices:[],catalogues:[{name:"Training Catalogue",description:"Access trainings and courses offered by Unite!",models:[{name:"Certifications",model:"staff.course.certification"},{name:"Course Language",model:"staff.course.language"},{name:"Course Modality",model:"staff.course.modality"},{name:"Course Public",model:"staff.course.public"},{name:"Course Topic",model:"staff.course.topic"},{name:"Faculty & Staff Courses",model:"staff.course"},{name:"Organising Partner",model:"staff.course.partner"}],websites:[{view_name:"Trainings",page_url:"https://agora.unite-university.eu/resources/trainings"},{view_name:"Documentation",page_url:"https://agora.unite-university.eu/resources/documentation"}]}]},{name:"Academic Staff",description:"Resources for 2,000+ faculty members, including research development support and leadership development opportunities.",showcase:"",subServices:[],catalogues:[{name:"Training Catalogue",description:"Access trainings and courses offered by Unite!",models:[{name:"Certifications",model:"staff.course.certification"},{name:"Course Language",model:"staff.course.language"},{name:"Course Modality",model:"staff.course.modality"},{name:"Course Public",model:"staff.course.public"},{name:"Course Topic",model:"staff.course.topic"},{name:"Faculty & Staff Courses",model:"staff.course"},{name:"Organising Partner",model:"staff.course.partner"}],websites:[{view_name:"Staff Members",page_url:"https://agora.unite-university.eu/resources/staff-members"}]}]}],catalogues:[]},"Research Infrastructure":{description:"Access world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",showcase:"",subServices:[],catalogues:[{name:"Research Infrastructure Catalogue",description:"Access our catalogue of world-class research facilities including our £400M Advanced Materials Research Centre, biomedical laboratories, and Digital Innovation Hub. Supporting cutting-edge research across multiple disciplines.",models:[{name:"Infrastructures",model:"resources.infrastructure"}],websites:[{view_name:"Available Infrastructures",page_url:"https://agora.unite-university.eu/resources/infrastructure"}]}]},"Speech Language and AI":{description:"Unite! is a leading provider of speech language and AI research and development. Unite! is committed to advancing the state of the art in speech language and AI research and development.",showcase:"https://agora.unite-university.eu/speech-language-and-ai",subServices:[],catalogues:[]},"Welcome Inclusion and Wellbeing":{description:"Unite! is committed to creating a welcoming and inclusive environment for all members of the Unite! community.",showcase:"https://agora.unite-university.eu/welcome-inclusion-and-wellbeing",subServices:[],catalogues:[]}};function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function _t(){_t=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==wt(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(wt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function xt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function kt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xt(i,r,o,a,s,"next",t)}function s(t){xt(i,r,o,a,s,"throw",t)}a(void 0)}))}}var St,Ot,Ct,Et,Tt,jt,Lt,Pt,At,$t=function(){var t=kt(_t().mark((function t(){var e;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=bt,t.abrupt("return",e);case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),Mt=function(){var t=kt(_t().mark((function t(){var e;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=mt,t.abrupt("return",e);case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),Dt=function(){var t=kt(_t().mark((function t(e){var n,r,o;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(e,"/catalogue-api/v1/agoras"),t.next=4,fetch(n);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong while fetching Metagora services");case 7:return t.next=9,r.json();case 9:return o=t.sent,t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),It=function(){var t=kt(_t().mark((function t(e,n){var r,o,i;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="".concat(e,"/catalogue-api/v1/acceleration-services/").concat(n),t.next=4,fetch(r);case 4:if((o=t.sent).ok){t.next=7;break}throw new Error("Something went wrong while fetching Agora services");case 7:return t.next=9,o.json();case 9:return i=t.sent,t.abrupt("return",i);case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}(),Rt=function(){var t=kt(_t().mark((function t(e,n,r,o){var i,a,s,c;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={user_input:n,models:r,history_messages:o},t.prev=1,a="".concat(e,"/ai_assistant_app/send_message/openai"),t.next=5,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 5:if((s=t.sent).ok){t.next=8;break}throw new Error("Something went wrong while sending message");case 8:return t.next=10,s.json();case 10:return c=t.sent,t.abrupt("return",c);case 14:throw t.prev=14,t.t0=t.catch(1),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,n,r,o){return t.apply(this,arguments)}}(),Nt=function(){var t=kt(_t().mark((function t(e,n){var r,o,i,a,s,c=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:[],n&&0!==n.length){t.next=5;break}throw new Error("No query provided");case 5:if(0!==r.length){t.next=7;break}throw new Error("No models provided for the search");case 7:return o="".concat(e,"/elastic/search?query=").concat(n,"&models=").concat(r.join()),t.prev=8,t.next=11,fetch(o);case 11:if((i=t.sent).ok){t.next=18;break}if(404!==i.status){t.next=18;break}return t.next=16,i.json();case 16:throw a=t.sent,new Error(JSON.stringify(a));case 18:return t.next=20,i.json();case 20:return s=t.sent,t.abrupt("return",s);case 24:throw t.prev=24,t.t0=t.catch(8),t.t0;case 27:case"end":return t.stop()}}),t,null,[[8,24]])})));return function(e,n){return t.apply(this,arguments)}}(),Bt=function(){var t=kt(_t().mark((function t(e,n){var r,o,i,a;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(e,"/elastic/ingest/").concat(n),t.prev=1,t.next=4,fetch(r);case 4:if((o=t.sent).ok){t.next=10;break}return t.next=8,o.json();case 8:throw i=t.sent,new Error(i.message);case 10:return t.next=12,o.json();case 12:return a=t.sent,t.abrupt("return",a);case 16:throw t.prev=16,t.t0=t.catch(1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Ft(){Ft=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==zt(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(zt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function qt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ht(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ut(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function Zt(t){var e=function(t){if("object"!=zt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zt(e)?e:e+""}function Yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yt=function(){return!!t})()}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}var Xt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Wt(e),function(t,e){if(e&&("object"==zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yt()?Reflect.construct(e,n||[],Wt(t).constructor):e.apply(t,n))}(this,e,["agora-navbar","".concat(z.BASE_COMPONENTS,"/Navbar/Navbar.css")])).menuItems=new a(null,t),t.fetchMenuItems(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return this.menuItems.getState()?F(St||(St=Ut(['\n            <div class="main-wrapper">\n                <div class="left-fade">\n                    <div class="left-arrow-icon">','</div>\n                </div>\n\n                <ul class="menu">\n                    <li class="separator"></li>\n                    ','\n                    <li class="separator"></li>\n                </ul>\n                \n                <div class="right-fade">\n                    <div class="right-arrow-icon">','</div>\n                </div>\n            </div>\n            \n            <div class="secondary-wrapper"></div>\n        '])),G,Object.entries(this.menuItems.getState()).map((function(t){var e=Gt(t,2),n=e[0],r=e[1];return F(Ot||(Ot=Ut(['\n                            <li class="item" data-info=\'',"'>\n                                <a href=\"",'">',"</a>\n                                ","\n                            </li>\n                        "])),JSON.stringify(r),r.link,n,Object.entries(r.subServices).length>0?F(Ct||(Ct=Ut(['<div class="unfold-icon">',"</div>"])),U):"")})).join(""),H):""}},{key:"listeners",value:function(){var t=this;document.addEventListener("wheel",(function(e){return t.handleScroll(e)})),this.$(".left-arrow-icon")&&(this.$(".left-arrow-icon").onclick=function(){return t.scrollLeft()}),this.$(".right-arrow-icon")&&(this.$(".right-arrow-icon").onclick=function(){return t.scrollRight()}),this.$$(".menu .item:has(> .unfold-icon)").forEach((function(e){e.querySelector(".unfold-icon").onclick=function(){return t.updateSubmenu(e)}}))}},{key:"updateSubmenu",value:function(t){this.setUnfoldedItem(t);var e=this.$(".secondary-wrapper");e.innerHTML=F(Et||(Et=Ut(['\n            <div class="submenu"></div>\n        '])));var n=this.$(".secondary-wrapper .submenu");Object.entries(JSON.parse(t.dataset.info).subServices).forEach((function(t){var e=Gt(t,2),r=e[0],o=e[1];n.innerHTML+=F(Tt||(Tt=Ut(['\n                <li class="item" data-info=\'',"'>\n                    <a href=\"",'">',"</a>\n                    ","\n                </li>\n            "])),JSON.stringify(o),o.link,r,Object.entries(o.subServices).length>0?F(jt||(jt=Ut(['<div class="unfold-icon">',"</div>"])),U):"")})),this.animateSubmenu(e),this.addSubmenuItemListener()}},{key:"addSubmenu",value:function(t){this.setUnfoldedItem(t);for(var e=JSON.parse(t.dataset.info).subServices,n=t.parentElement.nextElementSibling;n;)n.remove(),n=t.parentElement.nextElementSibling;var r=F(Lt||(Lt=Ut(['\n            <ul class="submenu">\n                ',"\n            </ul>\n        "])),Object.entries(e).map((function(t){var e=Gt(t,2),n=e[0],r=e[1];return F(Pt||(Pt=Ut(['\n                        <li class="item" data-info=\'',"'>\n                            <a href=\"",'">',"</a>\n                            ","\n                        </li>\n                    "])),JSON.stringify(r),r.link,n,Object.entries(r.subServices).length>0?F(At||(At=Ut(['<div class="unfold-icon">',"</div>"])),U):"")})).join("")),o=this.$(".secondary-wrapper");o.innerHTML+=r,this.animateSubmenu(o),this.addSubmenuItemListener()}},{key:"addSubmenuItemListener",value:function(){var t=this;this.$$(".submenu .item:has(> .unfold-icon)").forEach((function(e){e.querySelector(".unfold-icon").onclick=function(){return t.addSubmenu(e)}}))}},{key:"animateSubmenu",value:function(t){t.querySelector(".submenu:last-child").classList.add("fade-in"),t.querySelector(".submenu:last-child").onanimationend=function(){return t.querySelector(".submenu:last-child").classList.remove("fade-in")}}},{key:"setUnfoldedItem",value:function(t){t.parentElement.querySelectorAll(".item").forEach((function(t){t.querySelector(".unfold-icon")&&t.querySelector(".unfold-icon").classList.remove("unfolded")})),t.querySelector(".unfold-icon").classList.add("unfolded")}},{key:"foldAllSubmenus",value:function(){this.$(".menu").querySelectorAll(".item").forEach((function(t){t.querySelector(".unfold-icon")&&t.querySelector(".unfold-icon").classList.remove("unfolded")})),this.$(".secondary-wrapper").innerHTML=""}},{key:"scrollRight",value:function(){this.scrollIsAtEnd()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft+200,behavior:"smooth"})}},{key:"mouseScrollRight",value:function(){this.scrollIsAtEnd()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft+10})}},{key:"scrollLeft",value:function(){this.scrollIsAtStart()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft-200,behavior:"smooth"})}},{key:"mouseScrollLeft",value:function(){this.scrollIsAtStart()&&this.$(".main-wrapper").scrollTo({left:this.$(".main-wrapper").scrollLeft-10})}},{key:"scrollIsAtEnd",value:function(){return this.$(".main-wrapper").scrollLeft<this.$(".main-wrapper").scrollWidth-this.$(".main-wrapper").clientWidth}},{key:"scrollIsAtStart",value:function(){return this.$(".main-wrapper").scrollLeft>0}},{key:"handleScroll",value:function(t){t.deltaY>0?this.mouseScrollRight():t.deltaY<0&&this.mouseScrollLeft()}},{key:"fetchMenuItems",value:(o=Ft().mark((function t(){var e;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$t();case 2:e=t.sent,console.log(e),this.menuItems.setState(e);case 5:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){qt(i,n,r,a,s,"next",t)}function s(t){qt(i,n,r,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],r&&Vt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(r);window.customElements.define("agora-navbar",Xt);var Qt={ACCELERATION_SERVICE:"Acceleration Service",ACCELERATION_SUB_SERVICE:"Service",CATALOGUE:"Catalogue",SHOWCASE:"Showcase"},Kt=function(t,e){return"string"==typeof e?e.replace(/'/g,'"'):e};function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}var ee,ne,re,oe,ie,ae=function(t,e){var n=[];return function t(r){for(var o in r)r.hasOwnProperty(o)&&(o===e&&n.push((i={},a=e,s=r[o],(a=function(t){var e=function(t){if("object"!=te(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==te(e)?e:e+""}(a))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s,i)),"object"===te(r[o])&&null!==r[o]&&t(r[o]));var i,a,s}(t),n};function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ce(){ce=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==se(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(se(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function le(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ue(t){return function(t){if(Array.isArray(t))return he(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(t,e){if(t){if("string"==typeof t)return he(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(t,e):void 0}}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ge(r.key),r)}}function ge(t){var e=function(t){if("object"!=se(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:e+""}function ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ve=function(){return!!t})()}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}var be,we,_e,xe,ke=function(t){function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,e,n){return e=ye(e),function(t,e){if(e&&("object"==se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ve()?Reflect.construct(e,n||[],ye(t).constructor):e.apply(t,n))}(this,n,["agora-navigator","".concat(z.BASE_COMPONENTS,"/Navigator/Navigator.css")])).signals=new i(t),t.signals.register("changed-agora"),t.signals.register("changed-filters"),t.companyContext=new o("company",t,!1),t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.serviceContext=new o("service",t,!1),t.metagoraContext=new o("metagora",t,!1),t.error=new a(null,t),t.items=new a(null,t),t.initialLoad=new a(!0,t),t.filters=new a([],t),t.ensureConfig(),t.fetchItems(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(n,t),r=n,s=[{key:"ensureConfig",value:function(){var t,n,r,o,i,a,s=window.document.querySelector("agora-app"),c={name:null!==(t=s.getAttribute("name"))&&void 0!==t?t:e.name,host:null!==(n=s.getAttribute("host"))&&void 0!==n?n:e.host,company_id:null!==(r=s.getAttribute("company_id"))&&void 0!==r?r:e.company_id,enabled_ai:null!==(o=s.hasAttribute("enabled_ai"))&&void 0!==o?o:e.enabled_ai,ai_host:null!==(i=s.getAttribute("ai_host"))&&void 0!==i?i:e.ai_host,translation_host:null!==(a=s.getAttribute("translation_host"))&&void 0!==a?a:e.translation_host};this.configContext.setData(c)}},{key:"template",value:function(){var t,e=this;if(this.error.getState())return F(ee||(ee=pe(['\n            <div class="error-wrapper">\n                <h1>Oops! Looks like an error...</h1>\n                <p>Something went wrong while connecting to the server.<br> Wait some seconds and try reloading the page.</p>\n            </div>\n        '])));if(!this.items.getState())return F(ne||(ne=pe(['\n            <agora-base-loader width="500" height="500"></agora-base-loader>\n        '])));var n=this.resultContext.getData("data")?ue(new Set(this.resultContext.getData("data").map((function(t){return t.service})))):[];return F(re||(re=pe(['\n            <div class="menu-unfold-button">','</div>\n            <ul class="menu">\n                ',"\n            </ul>\n            ","\n        "])),at,Object.entries(this.items.getState()).map((function(t){var r,o,i,a=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||fe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),s=a[0],c=a[1];return F(oe||(oe=pe(['\n                            <agora-navigator-item \n                                class="'," "," ",'"\n                                style="',"\"\n                                data-component='","'\n                                data-name='","'\n                                data-info='","'\n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),(o=c.fields.name,!(i=e.resultContext.getData("data"))||0===i.length||n.includes(o)?"":"not-in-result"),e.initialLoad.getState()?"initial-load":"",function(t){var r=e.resultContext.getData("data");return r&&0!==r.length?n.includes(t)?"selected":"unselectable":""}(c.fields.name),e.initialLoad.getState()?"animation-delay: ".concat(.2*s,"s;"):"",null===(r=c.fields.components)||void 0===r||null===(r=r.fields)||void 0===r?void 0:r.name,c.fields.name,JSON.stringify(c.fields,Kt),Qt.ACCELERATION_SERVICE)})).join(""),0===(null===(t=this.items.getState())||void 0===t?void 0:t.length)?F(ie||(ie=pe(["<span >There are no currently available services for this Agora.</span>"]))):"")}},{key:"listeners",value:function(){var t=this;this.$$("agora-navigator-item").forEach((function(t){t.selected.getState()?t.addToFilters():t.removeFromFilters()})),this.$(".menu-unfold-button")&&(this.$(".menu-unfold-button").onclick=function(){return t.toogleMenu()})}},{key:"toogleMenu",value:function(){this.$(".menu").classList.toggle("expanded"),this.$(".menu").classList.contains("expanded")?this.$(".menu-unfold-button").innerHTML=it:this.$(".menu-unfold-button").innerHTML=at}},{key:"fetchItems",value:(c=ce().mark((function t(){var e;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"Metagora"!==this.configContext.getData("name")){t.next=7;break}return t.next=4,Dt(this.configContext.getData("host"));case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,It(this.configContext.getData("host"),this.configContext.getData("company_id"));case 9:e=t.sent;case 10:this.updateCompanyContext(e.items[0]),"Metagora"===this.configContext.getData("name")?this.updateMetagoraContext(e):this.updateServiceContext(e.items[0]),"Metagora"===this.configContext.getData("name")&&(this.$(".menu").style.display="none"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),this.error.setState(t.t0),console.error("ERROR WHEN LOADING SERVICES\n".concat(t.t0,"\nProbably the service is down or is being restarted."));case 19:case"end":return t.stop()}}),t,this,[[0,15]])})),l=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=c.apply(t,e);function i(t){le(o,n,r,i,a,"next",t)}function a(t){le(o,n,r,i,a,"throw",t)}i(void 0)}))},function(){return l.apply(this,arguments)})},{key:"updateAgora",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("Updating Agora"),this.initialLoad.setState(!0,!1),this.resultContext.setData({data:[],grouped:[],filters:[]},!1);var n=this.metagoraContext.getData("data"),r=n.agoras[t];e?this.updateCompanyContext(n):this.updateCompanyContext(r),e?this.updateMetagoraServices(n.agoras):this.updateServiceContext(r),e&&(this.$(".menu").style.display="none"),this.signals.emit("changed-agora")}},{key:"updateCompanyContext",value:function(t){var e=t.fields.company.fields.name,n=t.fields.primary_color,r=t.fields.secondary_color;this.companyContext.setData({info:{name:e,primary_color:n,secondary_color:r}},!0)}},{key:"updateMetagoraContext",value:function(t){var e=t.items[0].fields.sub_acceleration_services;this.metagoraContext.setData({data:{fields:{company:t.items[0].fields.company,primary_color:t.items[0].fields.primary_color,secondary_color:t.items[0].fields.secondary_color},agoras:e}},!1),this.updateMetagoraServices(e)}},{key:"updateMetagoraServices",value:function(t){var e=this;this.serviceContext.setData({services:[]},!1),t.forEach((function(t){e.updateServiceContext(t,!0)})),this.initialLoad.setState(!1,!1)}},{key:"updateServiceContext",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];void 0===(null===(e=t.fields.sub_acceleration_services)||void 0===e?void 0:e.length)?o=[t.fields.sub_acceleration_services]:(null===(n=t.fields.sub_acceleration_services)||void 0===n?void 0:n.length)>1&&(o=ue(t.fields.sub_acceleration_services)),o.sort((function(t,e){return t.fields.name<e.fields.name?-1:t.fields.name>e.fields.name?1:0})),o=o.filter((function(t){return"active"===t.fields.stage})),r&&(o=[].concat(ue(this.serviceContext.getData("services")),ue(o)));var i=ae(o,"model").map((function(t){return t.model}));console.log("Available models: ",i),this.items.setState(o),r||this.initialLoad.setState(!1,!1),this.serviceContext.setData({services:o},!0),this.serviceContext.setData({models:i})}},{key:"initialDisplay",value:function(){Array.from(this.$(".menu").children).forEach((function(t){console.log("ITEM",t),t.classList.remove("not-in-result")}))}},{key:"addFilter",value:function(t){t&&(this.filters.getState().find((function(e){return e.service===t.service}))||(this.filters.setState([].concat(ue(this.filters.getState()),[t]),!1),this.updateFilterContext()))}},{key:"removeFilter",value:function(t){var e,n;t&&t.service&&(0===(null===(e=this.resultContext.getData("data"))||void 0===e?void 0:e.length)&&0===(null===(n=this.filters.getState())||void 0===n?void 0:n.length)||(this.filters.setState(this.filters.getState().filter((function(e){return e.service!==t.service})),!1),this.updateFilterContext()))}},{key:"updateFilterContext",value:function(){var t,e;this.resultContext.setData({data:null!==(t=this.resultContext.getData("data"))&&void 0!==t?t:[],grouped:null!==(e=this.resultContext.getData("grouped"))&&void 0!==e?e:[],filters:this.filters.getState()}),this.signals.emit("changed-filters")}}],s&&de(r.prototype,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,c,l}(r);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Oe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ee(r.key),r)}}function Ee(t){var e=function(t){if("object"!=Se(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Se(e)?e:e+""}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Te=function(){return!!t})()}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}window.customElements.define("agora-navigator",ke);var Pe,Ae,$e,Me,De,Ie,Re,Ne,Be,ze,Fe,qe,Ge,He=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=je(e),function(t,e){if(e&&("object"==Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Te()?Reflect.construct(e,n||[],je(t).constructor):e.apply(t,n))}(this,e,["agora-metagora-navigator","".concat(z.BASE_COMPONENTS,"/MetagoraNavigator/MetagoraNavigator.css")])).signals=new i(t),t.signals.register("changed-agora"),t.serviceContext=new o("service",t,!1),t.resultContext=new o("result",t,!0),t.configContext=new o("config",t,!1),t.metagoraContext=new o("metagora",t,!1),t.currentSelected=new a(-1,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){var t=this;return F(be||(be=Oe(['\n            <div class="agora-button-grid">\n                <button class="agora-selector metagora ','" title="Metagora">\n                    ',"\n                </button>\n                ","\n            </div>\n        "])),-1===this.currentSelected.getState()?"selected":"",ft,this.metagoraContext.getData("data").agoras.map((function(e,n){return F(we||(we=Oe(['\n                            <button \n                                class="agora-selector agora'," ",'"\n                                title="','"\n                            >\n                                ',"\n                            </button>\n                        "])),0===n?"0":n,t.currentSelected.getState()===n?"selected":"",e.fields.name,e.fields.image?F(_e||(_e=Oe(['<img src="',"",'" alt="','" />'])),t.configContext.getData("host"),e.fields.image,e.fields.name):F(xe||(xe=Oe(['<span class="no-logo" style="color:','">',"À</span>"])),e.fields.primary_color,e.fields.name[0].toLowerCase()))})).join(""))}},{key:"listeners",value:function(){var t=this;this.$(".metagora")&&(this.$(".metagora").onclick=function(e){return t.handleClick(t.$(".metagora"),-1,!0)}),Array.from(this.$$(".agora-selector:not(.metagora)")).forEach((function(e,n){e.onclick=function(){return t.handleClick(e,n,!1)}}))}},{key:"handleClick",value:function(t,e,n){this.animateClick(t),t.classList.contains("selected")||(this.signals.emit("changed-agora",{index:0===e?0:e,isMetagora:n}),this.currentSelected.setState(e,!1),this.toggleSelected(t))}},{key:"animateClick",value:function(t){t.classList.add("clicked"),t.onanimationend=function(){return t.classList.remove("clicked")}}},{key:"toggleSelected",value:function(t){this.$$(".agora-selector").forEach((function(t){return t.classList.remove("selected")})),t.classList.add("selected")}}])&&Ce(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ve(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ye(r.key),r)}}function Ye(t){var e=function(t){if("object"!=Ue(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ue(e)?e:e+""}function We(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(We=function(){return!!t})()}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}window.customElements.define("agora-metagora-navigator",He);var Qe=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Je(e),function(t,e){if(e&&("object"==Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,We()?Reflect.construct(e,n||[],Je(t).constructor):e.apply(t,n))}(this,e,["agora-navigator-item","".concat(z.BASE_COMPONENTS,"/NavigatorItem/NavigatorItem.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.name=new a(t.dataset.name,t),t.info=new a(JSON.parse(t.dataset.info),t),t.type=new a(t.dataset.type,t),t.unfolded=new a(!1,t),t.selected=new a(t.classList.contains("selected"),t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){var t,e=this,n=this.name.getState(),r=this.info.getState(),o=this.info.getState().website?this.info.getState().website.fields:null,i=this.selected.getState()?F(Pe||(Pe=Ve(['<div class="selection-icon" title="Filter by this service">',"</div>"])),dt):F(Ae||(Ae=Ve(['<div class="selection-icon ','" title="Filter by this service">',"</div>"])),this.classList.contains("unselectable")?"unselectable":"",gt);i=(null===(t=this.resultContext.getData("data"))||void 0===t?void 0:t.length)>0?i:"";var a=F($e||($e=Ve(['\n            <div class="type-icon" title="','">',"\n            </div>\n        "])),this.getAttribute("data-component"),function(){switch(e.type.getState()){case Qt.ACCELERATION_SERVICE:switch(e.getAttribute("data-component")){case"Showcase":return W;case"Catalogues":return ht;case"Events":return pt;default:return Z}case Qt.ACCELERATION_SUB_SERVICE:return Z;case Qt.CATALOGUE:return Y;case Qt.SHOWCASE:return W}}()),s=[Qt.CATALOGUE,Qt.SHOWCASE].includes(this.type.getState())?"":F(Me||(Me=Ve(["\n                ","\n            "])),Object.entries(r.sub_acceleration_services).length>0||Object.entries(r.catalogues).length>0?F(De||(De=Ve(['<div class="unfold-icon">',"</div>"])),U):F(Ie||(Ie=Ve([""])))),c=r&&o?F(Re||(Re=Ve(['<div class="showcase-icon">',"</div>"])),ut):null,l=this.type.getState()===Qt.CATALOGUE?null:F(Ne||(Ne=Ve(['<div class="info-icon">',"</div>"])),nt);return F(Be||(Be=Ve(['\n            \x3c!-- Item --\x3e\n            <li class="item '," ",'">\n                \x3c!-- Item Type Icon --\x3e\n                ','\n\n                \x3c!-- Item Label --\x3e\n                <a \n                    class="label"\n                    target="_blank" \n                    ',"\n                    ",'\n                >\n                    <div class="label-content">\n                        <span class="label-title">','</span>\n                        <div class="label-subtitle">\n                            <span>','</span>\n                        </div>\n                    </div>\n                </a>\n                <a \n                    class="label hover"\n                    target="_blank" \n                    ',"\n                    ","\n                >\n                    ","\n                    <span>",'</span>\n                </a>\n\n                <div \n                    class="actions"\n                    style="','"\n                >\n                    ',"\n                    ","\n                    ","\n                    ",'\n                </div>\n\n                \x3c!-- Description --\x3e\n                <div class="description">','</div>\n            </li>\n\n            \n\n            \x3c!-- Submenu --\x3e\n            <ul class="submenu"></ul>\n        '])),this.type.getState().toLowerCase().replace(" ","-"),r&&o||r&&r.url?"has-showcase":"",a,r&&o?'href="'.concat(o.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",n,this.type.getState(),r&&o?'href="'.concat(o.domain,'"'):"",r&&r.url?'href="'.concat(this.configContext.getData("host"),"/").concat(r.url,'"'):"",n,this.type.getState(),c||l?"":"display: none;",l,c,s,i,this.info.getState().description)}},{key:"listeners",value:function(){var t=this;this.$(".label").onclick=function(){return t.navigateToShowcase()},this.$(".unfold-icon")&&(this.$(".unfold-icon").onclick=function(){return t.unfold()}),this.$(".showcase-icon")&&(this.$(".showcase-icon").onclick=function(){return t.navigateToShowcase()}),this.$(".selection-icon")&&(this.$(".selection-icon").onclick=function(){return t.toogleSelect()})}},{key:"toogleSelect",value:function(){(this.selected.getState()||this.$(".type-icon").classList.contains("unselected"))&&this.$(".type-icon").classList.toggle("unselected"),this.selected.setState(!this.selected.getState(),!1),this.$(".selection-icon").innerHTML=this.selected.getState()?dt:gt,this.selected.getState()?this.addToFilters():this.removeFromFilters()}},{key:"addToFilters",value:function(){var t,e,n=this.type.getState()===Qt.ACCELERATION_SERVICE?{service:null!==(t=this.name.getState())&&void 0!==t?t:null}:{model:null!==(e=this.info.getState().model)&&void 0!==e?e:null};this.parentComponent&&this.parentComponent.addFilter(n)}},{key:"removeFromFilters",value:function(){var t,e,n=this.type.getState()===Qt.ACCELERATION_SERVICE?{service:null!==(t=this.name.getState())&&void 0!==t?t:null}:{model:null!==(e=this.info.getState().model)&&void 0!==e?e:null};this.parentComponent&&this.parentComponent.removeFilter(n)}},{key:"unfold",value:function(){var t,e;if(this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".unfold-icon").innerHTML=this.unfolded.getState()?V:U,this.$(".submenu").innerHTML="",!this.unfolded.getPrevState()){var n=null!==(t=this.info.getState().sub_acceleration_services)&&void 0!==t?t:[],r=null!==(e=this.info.getState().catalogues.websites)&&void 0!==e?e:[];n.length>0&&(this.$(".submenu").innerHTML+=F(ze||(ze=Ve(["\n                ","\n            "])),n.map((function(t){return F(Fe||(Fe=Ve(["\n                            <agora-navigator-item \n                                data-name='","'\n                                data-info='","' \n                                data-type='","'>\n                            </agora-navigator-item>\n                        "])),t.fields.name,JSON.stringify(t.fields),Qt.ACCELERATION_SUB_SERVICE)})).join(""))),r.length>0&&(this.$(".submenu").innerHTML+=F(qe||(qe=Ve(["\n                ","\n            "])),r.map((function(t){return F(Ge||(Ge=Ve(["\n                        <agora-navigator-item \n                            data-name='","'\n                            data-info='","' \n                            data-type='","'>\n                        </agora-navigator-item>\n                    "])),t.name,JSON.stringify(t),Qt.CATALOGUE)})).join("")))}}},{key:"navigateToShowcase",value:function(){var t=this.$(".label");t.getAttribute("href")&&window.open(t.getAttribute("href"),"_blank").focus()}}])&&Ze(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}window.customElements.define("agora-navigator-item",Qe);var en,nn,rn,on,an,sn,cn,ln,un,fn,hn,pn,dn,gn,vn,yn,mn,bn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wn={duration:.5,overwrite:!1,delay:0},_n=1e8,xn=1e-8,kn=2*Math.PI,Sn=kn/4,On=0,Cn=Math.sqrt,En=Math.cos,Tn=Math.sin,jn=function(t){return"string"==typeof t},Ln=function(t){return"function"==typeof t},Pn=function(t){return"number"==typeof t},An=function(t){return void 0===t},$n=function(t){return"object"==typeof t},Mn=function(t){return!1!==t},Dn=function(){return"undefined"!=typeof window},In=function(t){return Ln(t)||jn(t)},Rn="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Nn=Array.isArray,Bn=/(?:-?\.?\d|\.)+/gi,zn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Fn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,qn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Gn=/[+-]=-?[.\d]+/,Hn=/[^,'"\[\]\s]+/gi,Un=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Vn={},Zn={},Yn=function(t){return(Zn=kr(t,Vn))&&Si},Wn=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Jn=function(t,e){return!e&&console.warn(t)},Xn=function(t,e){return t&&(Vn[t]=e)&&Zn&&(Zn[t]=e)||Vn},Qn=function(){return 0},Kn={suppressEvents:!0,isStart:!0,kill:!1},tr={suppressEvents:!0,kill:!1},er={suppressEvents:!0},nr={},rr=[],or={},ir={},ar={},sr=30,cr=[],lr="",ur=function(t){var e,n,r=t[0];if($n(r)||Ln(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=cr.length;n--&&!cr[n].targetTest(r););e=cr[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new No(t[n],e)))||t.splice(n,1);return t},fr=function(t){return t._gsap||ur(to(t))[0]._gsap},hr=function(t,e,n){return(n=t[e])&&Ln(n)?t[e]():An(n)&&t.getAttribute&&t.getAttribute(e)||n},pr=function(t,e){return(t=t.split(",")).forEach(e)||t},dr=function(t){return Math.round(1e5*t)/1e5||0},gr=function(t){return Math.round(1e7*t)/1e7||0},vr=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},yr=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},mr=function(){var t,e,n=rr.length,r=rr.slice(0);for(or={},rr.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},br=function(t,e,n,r){rr.length&&!nn&&mr(),t.render(e,n,r||nn&&e<0&&(t._initted||t._startAt)),rr.length&&!nn&&mr()},wr=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Hn).length<2?e:jn(t)?t.trim():t},_r=function(t){return t},xr=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},kr=function(t,e){for(var n in e)t[n]=e[n];return t},Sr=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=$n(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Or=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Cr=function(t){var e,n=t.parent||on,r=t.keyframes?(e=Nn(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):xr;if(Mn(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Er=function(t,e,n,r,o){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i,a=t[r];if(o)for(i=e[o];a&&a[o]>i;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},Tr=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o=e._prev,i=e._next;o?o._next=i:t[n]===e&&(t[n]=i),i?i._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},jr=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Lr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Pr=function(t,e,n,r){return t._startAt&&(nn?t._startAt.revert(tr):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Ar=function t(e){return!e||e._ts&&t(e.parent)},$r=function(t){return t._repeat?Mr(t._tTime,t=t.duration()+t._rDelay)*t:0},Mr=function(t,e){var n=Math.floor(t=gr(t/e));return t&&n===t?n-1:n},Dr=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ir=function(t){return t._end=gr(t._start+(t._tDur/Math.abs(t._ts||t._rts||xn)||0))},Rr=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=gr(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ir(t),n._dirty||Lr(n,t)),t},Nr=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Dr(t.rawTime(),e),(!e._dur||Jr(0,e.totalDuration(),n)-e._tTime>xn)&&e.render(n,!0)),Lr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Br=function(t,e,n,r){return e.parent&&jr(e),e._start=gr((Pn(n)?n:n||t!==on?Zr(t,n,e):t._time)+e._delay),e._end=gr(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Er(t,e,"_first","_last",t._sort?"_start":0),Gr(e)||(t._recent=e),r||Nr(t,e),t._ts<0&&Rr(t,t._tTime),t},zr=function(t,e){return(Vn.ScrollTrigger||Wn("scrollTrigger",e))&&Vn.ScrollTrigger.create(e,t)},Fr=function(t,e,n,r,o){return Vo(t,e,o),t._initted?!n&&t._pt&&!nn&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&un!==Oo.frame?(rr.push(t),t._lazy=[o,r],1):void 0:1},qr=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Gr=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Hr=function(t,e,n,r){var o=t._repeat,i=gr(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=i/t._dur),t._dur=i,t._tDur=o?o<0?1e10:gr(i*(o+1)+t._rDelay*o):i,a>0&&!r&&Rr(t,t._tTime=t._tDur*a),t.parent&&Ir(t),n||Lr(t.parent,t),t},Ur=function(t){return t instanceof zo?Lr(t):Hr(t,t._dur)},Vr={_start:0,endTime:Qn,totalDuration:Qn},Zr=function t(e,n,r){var o,i,a,s=e.labels,c=e._recent||Vr,l=e.duration()>=_n?c.endTime(!1):e._dur;return jn(n)&&(isNaN(n)||n in s)?(i=n.charAt(0),a="%"===n.substr(-1),o=n.indexOf("="),"<"===i||">"===i?(o>=0&&(n=n.replace(/=/,"")),("<"===i?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(o<0?c:r).totalDuration()/100:1)):o<0?(n in s||(s[n]=l),s[n]):(i=parseFloat(n.charAt(o-1)+n.substr(o+1)),a&&r&&(i=i/100*(Nn(r)?r[0]:r).totalDuration()),o>1?t(e,n.substr(0,o-1),r)+i:l+i)):null==n?l:+n},Yr=function(t,e,n){var r,o,i=Pn(e[1]),a=(i?2:1)+(t<2?0:1),s=e[a];if(i&&(s.duration=e[1]),s.parent=n,t){for(r=s,o=n;o&&!("immediateRender"in r);)r=o.vars.defaults||{},o=Mn(o.vars.inherit)&&o.parent;s.immediateRender=Mn(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[a-1]}return new Xo(e[0],s,e[a+1])},Wr=function(t,e){return t||0===t?e(t):e},Jr=function(t,e,n){return n<t?t:n>e?e:n},Xr=function(t,e){return jn(t)&&(e=Un.exec(t))?e[1]:""},Qr=[].slice,Kr=function(t,e){return t&&$n(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&$n(t[0]))&&!t.nodeType&&t!==an},to=function(t,e,n){return rn&&!e&&rn.selector?rn.selector(t):!jn(t)||n||!sn&&Co()?Nn(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return jn(t)&&!e||Kr(t,1)?(r=n).push.apply(r,to(t)):n.push(t)}))||n}(t,n):Kr(t)?Qr.call(t,0):t?[t]:[]:Qr.call((e||cn).querySelectorAll(t),0)},eo=function(t){return t=to(t)[0]||Jn("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return to(e,n.querySelectorAll?n:n===t?Jn("Invalid scope")||cn.createElement("div"):t)}},no=function(t){return t.sort((function(){return.5-Math.random()}))},ro=function(t){if(Ln(t))return t;var e=$n(t)?t:{each:t},n=$o(e.ease),r=e.from||0,o=parseFloat(e.base)||0,i={},a=r>0&&r<1,s=isNaN(r)||a,c=e.axis,l=r,u=r;return jn(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(l=r[0],u=r[1]),function(t,a,f){var h,p,d,g,v,y,m,b,w,_=(f||e).length,x=i[_];if(!x){if(!(w="auto"===e.grid?0:(e.grid||[1,_n])[1])){for(m=-_n;m<(m=f[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(x=i[_]=[],h=s?Math.min(w,_)*l-.5:r%w,p=w===_n?0:s?_*u/w-.5:r/w|0,m=0,b=_n,y=0;y<_;y++)d=y%w-h,g=p-(y/w|0),x[y]=v=c?Math.abs("y"===c?g:d):Cn(d*d+g*g),v>m&&(m=v),v<b&&(b=v);"random"===r&&no(x),x.max=m-b,x.min=b,x.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(w>_?_-1:c?"y"===c?_/w:w:Math.max(w,_/w))||0)*("edges"===r?-1:1),x.b=_<0?o-_:o,x.u=Xr(e.amount||e.each)||0,n=n&&_<0?Po(n):n}return _=(x[t]-x.min)/x.max||0,gr(x.b+(n?n(_):_)*x.v)+x.u}},oo=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=gr(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(Pn(n)?0:Xr(n))}},io=function(t,e){var n,r,o=Nn(t);return!o&&$n(t)&&(n=o=t.radius||_n,t.values?(t=to(t.values),(r=!Pn(t[0]))&&(n*=n)):t=oo(t.increment)),Wr(e,o?Ln(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var o,i,a=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),c=_n,l=0,u=t.length;u--;)(o=r?(o=t[u].x-a)*o+(i=t[u].y-s)*i:Math.abs(t[u]-a))<c&&(c=o,l=u);return l=!n||c<=n?t[l]:e,r||l===e||Pn(e)?l:l+Xr(e)}:oo(t))},ao=function(t,e,n,r){return Wr(Nn(t)?!e:!0===n?!!(n=0):!r,(function(){return Nn(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},so=function(t,e,n){return Wr(n,(function(n){return t[~~e(n)]}))},co=function(t){for(var e,n,r,o,i=0,a="";~(e=t.indexOf("random(",i));)r=t.indexOf(")",e),o="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(o?Hn:Bn),a+=t.substr(i,e-i)+ao(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),i=r+1;return a+t.substr(i,t.length-i)},lo=function(t,e,n,r,o){var i=e-t,a=r-n;return Wr(o,(function(e){return n+((e-t)/i*a||0)}))},uo=function(t,e,n){var r,o,i,a=t.labels,s=_n;for(r in a)(o=a[r]-e)<0==!!n&&o&&s>(o=Math.abs(o))&&(i=r,s=o);return i},fo=function(t,e,n){var r,o,i,a=t.vars,s=a[e],c=rn,l=t._ctx;if(s)return r=a[e+"Params"],o=a.callbackScope||t,n&&rr.length&&mr(),l&&(rn=l),i=r?s.apply(o,r):s.call(o),rn=c,i},ho=function(t){return jr(t),t.scrollTrigger&&t.scrollTrigger.kill(!!nn),t.progress()<1&&fo(t,"onInterrupt"),t},po=[],go=function(t){if(t)if(t=!t.name&&t.default||t,Dn()||t.headless){var e=t.name,n=Ln(t),r=e&&!n&&t.init?function(){this._props=[]}:t,o={init:Qn,render:ai,add:Ho,kill:ci,modifier:si,rawVars:0},i={targetTest:0,get:0,getSetter:ni,aliases:{},register:0};if(Co(),t!==r){if(ir[e])return;xr(r,xr(Or(t,o),i)),kr(r.prototype,kr(o,Or(t,i))),ir[r.prop=e]=r,t.targetTest&&(cr.push(r),nr[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Xn(e,r),t.register&&t.register(Si,r,fi)}else po.push(t)},vo=255,yo={aqua:[0,vo,vo],lime:[0,vo,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vo],navy:[0,0,128],white:[vo,vo,vo],olive:[128,128,0],yellow:[vo,vo,0],orange:[vo,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vo,0,0],pink:[vo,192,203],cyan:[0,vo,vo],transparent:[vo,vo,vo,0]},mo=function(t,e,n){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*vo+.5|0},bo=function(t,e,n){var r,o,i,a,s,c,l,u,f,h,p=t?Pn(t)?[t>>16,t>>8&vo,t&vo]:0:yo.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),yo[t])p=yo[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),i=t.charAt(3),t="#"+r+r+o+o+i+i+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&vo,p&vo,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&vo,t&vo]}else if("hsl"===t.substr(0,3))if(p=h=t.match(Bn),e){if(~t.indexOf("="))return p=t.match(zn),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,s=+p[1]/100,r=2*(c=+p[2]/100)-(o=c<=.5?c*(s+1):c+s-c*s),p.length>3&&(p[3]*=1),p[0]=mo(a+1/3,r,o),p[1]=mo(a,r,o),p[2]=mo(a-1/3,r,o);else p=t.match(Bn)||yo.transparent;p=p.map(Number)}return e&&!h&&(r=p[0]/vo,o=p[1]/vo,i=p[2]/vo,c=((l=Math.max(r,o,i))+(u=Math.min(r,o,i)))/2,l===u?a=s=0:(f=l-u,s=c>.5?f/(2-l-u):f/(l+u),a=l===r?(o-i)/f+(o<i?6:0):l===o?(i-r)/f+2:(r-o)/f+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*s+.5),p[2]=~~(100*c+.5)),n&&p.length<4&&(p[3]=1),p},wo=function(t){var e=[],n=[],r=-1;return t.split(xo).forEach((function(t){var o=t.match(Fn)||[];e.push.apply(e,o),n.push(r+=o.length+1)})),e.c=n,e},_o=function(t,e,n){var r,o,i,a,s="",c=(t+s).match(xo),l=e?"hsla(":"rgba(",u=0;if(!c)return t;if(c=c.map((function(t){return(t=bo(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(i=wo(t),(r=n.c).join(s)!==i.c.join(s)))for(a=(o=t.replace(xo,"1").split(Fn)).length-1;u<a;u++)s+=o[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(i.length?i:c.length?c:n).shift());if(!o)for(a=(o=t.split(xo)).length-1;u<a;u++)s+=o[u]+c[u];return s+o[a]},xo=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in yo)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),ko=/hsl[a]?\(/,So=function(t){var e,n=t.join(" ");if(xo.lastIndex=0,xo.test(n))return e=ko.test(n),t[1]=_o(t[1],e),t[0]=_o(t[0],e,wo(t[1])),!0},Oo=function(){var t,e,n,r,o,i,a=Date.now,s=500,c=33,l=a(),u=l,f=1e3/240,h=f,p=[],d=function n(d){var g,v,y,m,b=a()-u,w=!0===d;if((b>s||b<0)&&(l+=b-c),((g=(y=(u+=b)-l)-h)>0||w)&&(m=++r.frame,o=y-1e3*r.time,r.time=y/=1e3,h+=g+(g>=f?4:f-g),v=1),w||(t=e(n)),v)for(i=0;i<p.length;i++)p[i](y,o,m,d)};return r={time:0,frame:0,tick:function(){d(!0)},deltaRatio:function(t){return o/(1e3/(t||60))},wake:function(){ln&&(!sn&&Dn()&&(an=sn=window,cn=an.document||{},Vn.gsap=Si,(an.gsapVersions||(an.gsapVersions=[])).push(Si.version),Yn(Zn||an.GreenSockGlobals||!an.gsap&&an||{}),po.forEach(go)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,h-1e3*r.time+1|0)},hn=1,d(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),hn=0,e=Qn},lagSmoothing:function(t,e){s=t||1/0,c=Math.min(e||33,s)},fps:function(t){f=1e3/(t||240),h=1e3*r.time+f},add:function(t,e,n){var o=e?function(e,n,i,a){t(e,n,i,a),r.remove(o)}:t;return r.remove(t),p[n?"unshift":"push"](o),Co(),o},remove:function(t,e){~(e=p.indexOf(t))&&p.splice(e,1)&&i>=e&&i--},_listeners:p}}(),Co=function(){return!hn&&Oo.wake()},Eo={},To=/^[\d.\-M][\d.\-,\s]/,jo=/["']/g,Lo=function(t){for(var e,n,r,o={},i=t.substr(1,t.length-3).split(":"),a=i[0],s=1,c=i.length;s<c;s++)n=i[s],e=s!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),o[a]=isNaN(r)?r.replace(jo,"").trim():+r,a=n.substr(e+1).trim();return o},Po=function(t){return function(e){return 1-t(1-e)}},Ao=function t(e,n){for(var r,o=e._first;o;)o instanceof zo?t(o,n):!o.vars.yoyoEase||o._yoyo&&o._repeat||o._yoyo===n||(o.timeline?t(o.timeline,n):(r=o._ease,o._ease=o._yEase,o._yEase=r,o._yoyo=n)),o=o._next},$o=function(t,e){return t&&(Ln(t)?t:Eo[t]||function(t){var e,n,r,o,i=(t+"").split("("),a=Eo[i[0]];return a&&i.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Lo(i[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),o=e.indexOf("(",n),e.substring(n,~o&&o<r?e.indexOf(")",r+1):r)).split(",").map(wr)):Eo._CE&&To.test(t)?Eo._CE("",t):a}(t))||e},Mo=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var o,i={easeIn:e,easeOut:n,easeInOut:r};return pr(t,(function(t){for(var e in Eo[t]=Vn[t]=i,Eo[o=t.toLowerCase()]=n,i)Eo[o+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Eo[t+"."+e]=i[e]})),i},Do=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Io=function t(e,n,r){var o=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),a=i/kn*(Math.asin(1/o)||0),s=function(t){return 1===t?1:o*Math.pow(2,-10*t)*Tn((t-a)*i)+1},c="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Do(s);return i=kn/i,c.config=function(n,r){return t(e,n,r)},c},Ro=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},o="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Do(r);return o.config=function(n){return t(e,n)},o};pr("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Mo(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Eo.Linear.easeNone=Eo.none=Eo.Linear.easeIn,Mo("Elastic",Io("in"),Io("out"),Io()),pn=7.5625,vn=2*(gn=1/(dn=2.75)),yn=2.5*gn,Mo("Bounce",(function(t){return 1-mn(1-t)}),mn=function(t){return t<gn?pn*t*t:t<vn?pn*Math.pow(t-1.5/dn,2)+.75:t<yn?pn*(t-=2.25/dn)*t+.9375:pn*Math.pow(t-2.625/dn,2)+.984375}),Mo("Expo",(function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)})),Mo("Circ",(function(t){return-(Cn(1-t*t)-1)})),Mo("Sine",(function(t){return 1===t?1:1-En(t*Sn)})),Mo("Back",Ro("in"),Ro("out"),Ro()),Eo.SteppedEase=Eo.steps=Vn.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),o=e?1:0;return function(t){return((r*Jr(0,.99999999,t)|0)+o)*n}}},wn.ease=Eo["quad.out"],pr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return lr+=t+","+t+"Params,"}));var No=function(t,e){this.id=On++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:hr,this.set=e?e.getSetter:ni},Bo=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Hr(this,+t.duration,1,1),this.data=t.data,rn&&(this._ctx=rn,rn.data.push(this)),hn||Oo.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Hr(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Co(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Rr(this,t),!n._dp||n.parent||Nr(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Br(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===xn||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),br(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+$r(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+$r(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Mr(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Dr(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Jr(-Math.abs(this._delay),this._tDur,n),!1!==e),Ir(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Co(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==xn&&(this._tTime-=xn)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Br(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Mn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dr(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=er);var e=nn;return nn=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),nn=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ur(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ur(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Zr(this,t),Mn(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Mn(e)),this._dur||(this._zTime=-1e-8),this},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-xn))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=Ln(t)?t:_r,o=function(){var t=e.then;e.then=null,Ln(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?o():e._prom=o}))},e.kill=function(){ho(this)},t}();xr(Bo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var zo=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=Mn(e.sortChildren),on&&Br(e.parent||on,Ke(r),n),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&zr(Ke(r),e.scrollTrigger),r}tn(e,t);var n=e.prototype;return n.to=function(t,e,n){return Yr(0,arguments,this),this},n.from=function(t,e,n){return Yr(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Yr(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Cr(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Xo(t,e,Zr(this,n),1),this},n.call=function(t,e,n){return Br(this,Xo.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,o,i,a){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=i,n.onCompleteParams=a,n.parent=this,new Xo(t,n,Zr(this,o)),this},n.staggerFrom=function(t,e,n,r,o,i,a){return n.runBackwards=1,Cr(n).immediateRender=Mn(n.immediateRender),this.staggerTo(t,e,n,r,o,i,a)},n.staggerFromTo=function(t,e,n,r,o,i,a,s){return r.startAt=n,Cr(r).immediateRender=Mn(r.immediateRender),this.staggerTo(t,e,r,o,i,a,s)},n.render=function(t,e,n){var r,o,i,a,s,c,l,u,f,h,p,d,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,m=t<=0?0:gr(t),b=this._zTime<0!=t<0&&(this._initted||!y);if(this!==on&&m>v&&t>=0&&(m=v),m!==this._tTime||n||b){if(g!==this._time&&y&&(m+=this._time-g,t+=this._time-g),r=m,f=this._start,c=!(u=this._ts),b&&(y||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,s=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(r=gr(m%s),m===v?(a=this._repeat,r=y):((a=~~(h=gr(m/s)))&&a===h&&(r=y,a--),r>y&&(r=y)),h=Mr(this._tTime,s),!g&&this._tTime&&h!==a&&this._tTime-h*s-this._dur<=0&&(h=a),p&&1&a&&(r=y-r,d=1),a!==h&&!this._lock){var w=p&&1&h,_=w===(p&&1&a);if(a<h&&(w=!w),g=w?0:m%y?y:m,this._lock=1,this.render(g||(d?0:gr(a*s)),e,!y)._lock=0,this._tTime=m,!e&&this.parent&&fo(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,_&&(this._lock=2,g=w?y:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Ao(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,gr(g),gr(r)),l&&(m-=r-(r=l._start))),this._tTime=m,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&r&&!e&&!a&&(fo(this,"onStart"),this._tTime!==m))return this;if(r>=g&&t>=0)for(o=this._first;o;){if(i=o._next,(o._act||r>=o._start)&&o._ts&&l!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,e,n),r!==this._time||!this._ts&&!c){l=0,i&&(m+=this._zTime=-1e-8);break}}o=i}else{o=this._last;for(var x=t<0?t:r;o;){if(i=o._prev,(o._act||x<=o._end)&&o._ts&&l!==o){if(o.parent!==this)return this.render(t,e,n);if(o.render(o._ts>0?(x-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(x-o._start)*o._ts,e,n||nn&&(o._initted||o._startAt)),r!==this._time||!this._ts&&!c){l=0,i&&(m+=this._zTime=x?-1e-8:xn);break}}o=i}}if(l&&!e&&(this.pause(),l.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=f,Ir(this),this.render(t,e,n);this._onUpdate&&!e&&fo(this,"onUpdate",!0),(m===v&&this._tTime>=this.totalDuration()||!m&&g)&&(f!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((t||!y)&&(m===v&&this._ts>0||!m&&this._ts<0)&&jr(this,1),e||t<0&&!g||!m&&!g&&v||(fo(this,m===v&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(Pn(e)||(e=Zr(this,e,t)),!(t instanceof Bo)){if(Nn(t))return t.forEach((function(t){return n.add(t,e)})),this;if(jn(t))return this.addLabel(t,e);if(!Ln(t))return this;t=Xo.delayedCall(0,t)}return this!==t?Br(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-_n);for(var o=[],i=this._first;i;)i._start>=r&&(i instanceof Xo?e&&o.push(i):(n&&o.push(i),t&&o.push.apply(o,i.getChildren(!0,e,n)))),i=i._next;return o},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return jn(t)?this.removeLabel(t):Ln(t)?this.killTweensOf(t):(t.parent===this&&Tr(this,t),t===this._recent&&(this._recent=this._last),Lr(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gr(Oo.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Zr(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Xo.delayedCall(0,e||Qn,n);return r.data="isPause",this._hasPause=1,Br(this,r,Zr(this,t))},n.removePause=function(t){var e=this._first;for(t=Zr(this,t);e;)e._start===t&&"isPause"===e.data&&jr(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),o=r.length;o--;)Fo!==r[o]&&r[o].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],o=to(t),i=this._first,a=Pn(e);i;)i instanceof Xo?yr(i._targets,o)&&(a?(!Fo||i._initted&&i._ts)&&i.globalTime(0)<=e&&i.globalTime(i.totalDuration())>e:!e||i.isActive())&&r.push(i):(n=i.getTweensOf(o,e)).length&&r.push.apply(r,n),i=i._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,o=Zr(r,t),i=e,a=i.startAt,s=i.onStart,c=i.onStartParams,l=i.immediateRender,u=Xo.to(r,xr({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:e.duration||Math.abs((o-(a&&"time"in a?a.time:r._time))/r.timeScale())||xn,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((o-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==t&&Hr(u,t,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,c||[])}},e));return l?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,xr({startAt:{time:Zr(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),uo(this,Zr(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),uo(this,Zr(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+xn)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,o=this._first,i=this.labels;o;)o._start>=n&&(o._start+=t,o._end+=t),o=o._next;if(e)for(r in i)i[r]>=n&&(i[r]+=t);return Lr(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Lr(this)},n.totalDuration=function(t){var e,n,r,o=0,i=this,a=i._last,s=_n;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-t:t));if(i._dirty){for(r=i.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>s&&i._sort&&a._ts&&!i._lock?(i._lock=1,Br(i,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(o-=n,(!r&&!i._dp||r&&r.smoothChildTiming)&&(i._start+=n/i._ts,i._time-=n,i._tTime-=n),i.shiftChildren(-n,!1,-Infinity),s=0),a._end>o&&a._ts&&(o=a._end),a=e;Hr(i,i===on&&i._time>o?i._time:o,1,1),i._dirty=0}return i._tDur},e.updateRoot=function(t){if(on._ts&&(br(on,Dr(t,on)),un=Oo.frame),Oo.frame>=sr){sr+=bn.autoSleep||120;var e=on._first;if((!e||!e._ts)&&bn.autoSleep&&Oo._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Oo.sleep()}}},e}(Bo);xr(zo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fo,qo,Go=function(t,e,n,r,o,i,a){var s,c,l,u,f,h,p,d,g=new fi(this._pt,t,e,0,1,ii,null,o),v=0,y=0;for(g.b=n,g.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=co(r)),i&&(i(d=[n,r],t,e),n=d[0],r=d[1]),c=n.match(qn)||[];s=qn.exec(r);)u=s[0],f=r.substring(v,s.index),l?l=(l+1)%5:"rgba("===f.substr(-5)&&(l=1),u!==c[y++]&&(h=parseFloat(c[y-1])||0,g._pt={_next:g._pt,p:f||1===y?f:",",s:h,c:"="===u.charAt(1)?vr(h,u)-h:parseFloat(u)-h,m:l&&l<4?Math.round:0},v=qn.lastIndex);return g.c=v<r.length?r.substring(v,r.length):"",g.fp=a,(Gn.test(r)||p)&&(g.e=0),this._pt=g,g},Ho=function(t,e,n,r,o,i,a,s,c,l){Ln(r)&&(r=r(o||0,t,i));var u,f=t[e],h="get"!==n?n:Ln(f)?c?t[e.indexOf("set")||!Ln(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():f,p=Ln(f)?c?ti:Ko:Qo;if(jn(r)&&(~r.indexOf("random(")&&(r=co(r)),"="===r.charAt(1)&&((u=vr(h,r)+(Xr(h)||0))||0===u)&&(r=u)),!l||h!==r||qo)return isNaN(h*r)||""===r?(!f&&!(e in t)&&Wn(e,r),Go.call(this,t,e,h,r,p,s||bn.stringFilter,c)):(u=new fi(this._pt,t,e,+h||0,r-(h||0),"boolean"==typeof f?oi:ri,0,p),c&&(u.fp=c),a&&u.modifier(a,this,t),this._pt=u)},Uo=function(t,e,n,r,o,i){var a,s,c,l;if(ir[t]&&!1!==(a=new ir[t]).init(o,a.rawVars?e[t]:function(t,e,n,r,o){if(Ln(t)&&(t=Yo(t,o,e,n,r)),!$n(t)||t.style&&t.nodeType||Nn(t)||Rn(t))return jn(t)?Yo(t,o,e,n,r):t;var i,a={};for(i in t)a[i]=Yo(t[i],o,e,n,r);return a}(e[t],r,o,i,n),n,r,i)&&(n._pt=s=new fi(n._pt,o,t,0,1,a.render,a,0,a.priority),n!==fn))for(c=n._ptLookup[n._targets.indexOf(o)],l=a._props.length;l--;)c[a._props[l]]=s;return a},Vo=function t(e,n,r){var o,i,a,s,c,l,u,f,h,p,d,g,v,y=e.vars,m=y.ease,b=y.startAt,w=y.immediateRender,_=y.lazy,x=y.onUpdate,k=y.runBackwards,S=y.yoyoEase,O=y.keyframes,C=y.autoRevert,E=e._dur,T=e._startAt,j=e._targets,L=e.parent,P=L&&"nested"===L.data?L.vars.targets:j,A="auto"===e._overwrite&&!en,$=e.timeline;if($&&(!O||!m)&&(m="none"),e._ease=$o(m,wn.ease),e._yEase=S?Po($o(!0===S?m:S,wn.ease)):0,S&&e._yoyo&&!e._repeat&&(S=e._yEase,e._yEase=e._ease,e._ease=S),e._from=!$&&!!y.runBackwards,!$||O&&!y.stagger){if(g=(f=j[0]?fr(j[0]).harness:0)&&y[f.prop],o=Or(y,nr),T&&(T._zTime<0&&T.progress(1),n<0&&k&&w&&!C?T.render(-1,!0):T.revert(k&&E?tr:Kn),T._lazy=0),b){if(jr(e._startAt=Xo.set(j,xr({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!T&&Mn(_),startAt:null,delay:0,onUpdate:x&&function(){return fo(e,"onUpdate")},stagger:0},b))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(nn||!w&&!C)&&e._startAt.revert(tr),w&&E&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(k&&E&&!T)if(n&&(w=!1),a=xr({overwrite:!1,data:"isFromStart",lazy:w&&!T&&Mn(_),immediateRender:w,stagger:0,parent:L},o),g&&(a[f.prop]=g),jr(e._startAt=Xo.set(j,a)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(nn?e._startAt.revert(tr):e._startAt.render(-1,!0)),e._zTime=n,w){if(!n)return}else t(e._startAt,xn,xn);for(e._pt=e._ptCache=0,_=E&&Mn(_)||_&&!E,i=0;i<j.length;i++){if(u=(c=j[i])._gsap||ur(j)[i]._gsap,e._ptLookup[i]=p={},or[u.id]&&rr.length&&mr(),d=P===j?i:P.indexOf(c),f&&!1!==(h=new f).init(c,g||o,e,d,P)&&(e._pt=s=new fi(e._pt,c,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){p[t]=s})),h.priority&&(l=1)),!f||g)for(a in o)ir[a]&&(h=Uo(a,o,e,d,c,P))?h.priority&&(l=1):p[a]=s=Ho.call(e,c,a,"get",o[a],d,P,0,y.stringFilter);e._op&&e._op[i]&&e.kill(c,e._op[i]),A&&e._pt&&(Fo=e,on.killTweensOf(c,p,e.globalTime(n)),v=!e.parent,Fo=0),e._pt&&_&&(or[u.id]=1)}l&&ui(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!v,O&&n<=0&&$.render(_n,!0,!0)},Zo=function(t,e,n,r){var o,i,a=e.ease||r||"power1.inOut";if(Nn(e))i=n[t]||(n[t]=[]),e.forEach((function(t,n){return i.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(o in e)i=n[o]||(n[o]=[]),"ease"===o||i.push({t:parseFloat(t),v:e[o],e:a})},Yo=function(t,e,n,r,o){return Ln(t)?t.call(e,n,r,o):jn(t)&&~t.indexOf("random(")?co(t):t},Wo=lr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Jo={};pr(Wo+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Jo[t]=1}));var Xo=function(t){function e(e,n,r,o){var i;"number"==typeof n&&(r.duration=n,n=r,r=null);var a,s,c,l,u,f,h,p,d=(i=t.call(this,o?n:Cr(n))||this).vars,g=d.duration,v=d.delay,y=d.immediateRender,m=d.stagger,b=d.overwrite,w=d.keyframes,_=d.defaults,x=d.scrollTrigger,k=d.yoyoEase,S=n.parent||on,O=(Nn(e)||Rn(e)?Pn(e[0]):"length"in n)?[e]:to(e);if(i._targets=O.length?ur(O):Jn("GSAP target "+e+" not found. https://gsap.com",!bn.nullTargetWarn)||[],i._ptLookup=[],i._overwrite=b,w||m||In(g)||In(v)){if(n=i.vars,(a=i.timeline=new zo({data:"nested",defaults:_||{},targets:S&&"nested"===S.data?S.vars.targets:O})).kill(),a.parent=a._dp=Ke(i),a._start=0,m||In(g)||In(v)){if(l=O.length,h=m&&ro(m),$n(m))for(u in m)~Wo.indexOf(u)&&(p||(p={}),p[u]=m[u]);for(s=0;s<l;s++)(c=Or(n,Jo)).stagger=0,k&&(c.yoyoEase=k),p&&kr(c,p),f=O[s],c.duration=+Yo(g,Ke(i),s,f,O),c.delay=(+Yo(v,Ke(i),s,f,O)||0)-i._delay,!m&&1===l&&c.delay&&(i._delay=v=c.delay,i._start+=v,c.delay=0),a.to(f,c,h?h(s,f,O):0),a._ease=Eo.none;a.duration()?g=v=0:i.timeline=0}else if(w){Cr(xr(a.vars.defaults,{ease:"none"})),a._ease=$o(w.ease||n.ease||"none");var C,E,T,j=0;if(Nn(w))w.forEach((function(t){return a.to(O,t,">")})),a.duration();else{for(u in c={},w)"ease"===u||"easeEach"===u||Zo(u,w[u],c,w.easeEach);for(u in c)for(C=c[u].sort((function(t,e){return t.t-e.t})),j=0,s=0;s<C.length;s++)(T={ease:(E=C[s]).e,duration:(E.t-(s?C[s-1].t:0))/100*g})[u]=E.v,a.to(O,T,j),j+=T.duration;a.duration()<g&&a.to({},{duration:g-a.duration()})}}g||i.duration(g=a.duration())}else i.timeline=0;return!0!==b||en||(Fo=Ke(i),on.killTweensOf(O),Fo=0),Br(S,Ke(i),r),n.reversed&&i.reverse(),n.paused&&i.paused(!0),(y||!g&&!w&&i._start===gr(S._time)&&Mn(y)&&Ar(Ke(i))&&"nested"!==S.data)&&(i._tTime=-1e-8,i.render(Math.max(0,-v)||0)),x&&zr(Ke(i),x),i}tn(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,o,i,a,s,c,l,u,f,h=this._time,p=this._tDur,d=this._dur,g=t<0,v=t>p-xn&&!g?p:t<xn?0:t;if(d){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(r=v,u=this.timeline,this._repeat){if(a=d+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+t,e,n);if(r=gr(v%a),v===p?(i=this._repeat,r=d):(i=~~(s=gr(v/a)))&&i===s?(r=d,i--):r>d&&(r=d),(c=this._yoyo&&1&i)&&(f=this._yEase,r=d-r),s=Mr(this._tTime,a),r===h&&!n&&this._initted&&i===s)return this._tTime=v,this;i!==s&&(u&&this._yEase&&Ao(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(gr(a*i),!0).invalidate()._lock=0))}if(!this._initted){if(Fr(this,g?t:r,n,e,v))return this._tTime=0,this;if(!(h===this._time||n&&this.vars.repeatRefresh&&i!==s))return this;if(d!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(f||this._ease)(r/d),this._from&&(this.ratio=l=1-l),r&&!h&&!e&&!i&&(fo(this,"onStart"),this._tTime!==v))return this;for(o=this._pt;o;)o.r(l,o.d),o=o._next;u&&u.render(t<0?t:u._dur*u._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(g&&Pr(this,t,0,n),fo(this,"onUpdate")),this._repeat&&i!==s&&this.vars.onRepeat&&!e&&this.parent&&fo(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(g&&!this._onUpdate&&Pr(this,t,0,!0),(t||!d)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&jr(this,1),e||g&&!h||!(v||h||c)||(fo(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var o,i,a,s=t.ratio,c=e<0||!e&&(!t._start&&qr(t)&&(t._initted||!Gr(t))||(t._ts<0||t._dp._ts<0)&&!Gr(t))?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=Jr(0,t._tDur,e),i=Mr(u,l),t._yoyo&&1&i&&(c=1-c),i!==Mr(t._tTime,l)&&(s=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==s||nn||r||t._zTime===xn||!e&&t._zTime){if(!t._initted&&Fr(t,e,r,n,u))return;for(a=t._zTime,t._zTime=e||(n?xn:0),n||(n=e&&!a),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=u,o=t._pt;o;)o.r(c,o.d),o=o._next;e<0&&Pr(t,e,0,!0),t._onUpdate&&!n&&fo(t,"onUpdate"),u&&t._repeat&&!n&&t.parent&&fo(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&jr(t,1),n||nn||(fo(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,o){hn||Oo.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Vo(this,i),function(t,e,n,r,o,i,a,s){var c,l,u,f,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],u=t._ptLookup,f=t._targets.length;f--;){if((c=u[f][e])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==e&&c.fp!==e;)c=c._next;if(!c)return qo=1,t.vars[e]="+=0",Vo(t,a),qo=0,s?Jn(e+" not eligible for reset"):1;h.push(c)}for(f=h.length;f--;)(c=(l=h[f])._pt||l).s=!r&&0!==r||o?c.s+(r||0)+i*c.c:r,c.c=n-c.s,l.e&&(l.e=dr(n)+Xr(l.e)),l.b&&(l.b=c.s+Xr(l.b))}(this,t,e,n,r,this._ease(i/this._dur),i,o)?this.resetTo(t,e,n,r,1):(Rr(this,0),this.parent||Er(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ho(this):this.scrollTrigger&&this.scrollTrigger.kill(!!nn),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Fo&&!0!==Fo.vars.overwrite)._first||ho(this),this.parent&&n!==this.timeline.totalDuration()&&Hr(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,i,a,s,c,l,u=this._targets,f=t?to(t):u,h=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,f))return"all"===e&&(this._pt=0),ho(this);for(r=this._op=this._op||[],"all"!==e&&(jn(e)&&(s={},pr(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,r,o,i,a=t[0]?fr(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(r in n=kr({},e),s)if(r in n)for(o=(i=s[r].split(",")).length;o--;)n[i[o]]=n[r];return n}(u,e)),l=u.length;l--;)if(~f.indexOf(u[l]))for(s in o=h[l],"all"===e?(r[l]=e,a=o,i={}):(i=r[l]=r[l]||{},a=e),a)(c=o&&o[s])&&("kill"in c.d&&!0!==c.d.kill(s)||Tr(this,c,"_pt"),delete o[s]),"all"!==i&&(i[s]=1);return this._initted&&!this._pt&&p&&ho(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Yr(1,arguments)},e.delayedCall=function(t,n,r,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},e.fromTo=function(t,e,n){return Yr(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return on.killTweensOf(t,e,n)},e}(Bo);xr(Xo.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),pr("staggerTo,staggerFrom,staggerFromTo",(function(t){Xo[t]=function(){var e=new zo,n=Qr.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Qo=function(t,e,n){return t[e]=n},Ko=function(t,e,n){return t[e](n)},ti=function(t,e,n,r){return t[e](r.fp,n)},ei=function(t,e,n){return t.setAttribute(e,n)},ni=function(t,e){return Ln(t[e])?Ko:An(t[e])&&t.setAttribute?ei:Qo},ri=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},oi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ii=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},ai=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},si=function(t,e,n,r){for(var o,i=this._pt;i;)o=i._next,i.p===r&&i.modifier(t,e,n),i=o},ci=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Tr(this,r,"_pt"):r.dep||(e=1),r=n;return!e},li=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},ui=function(t){for(var e,n,r,o,i=t._pt;i;){for(e=i._next,n=r;n&&n.pr>i.pr;)n=n._next;(i._prev=n?n._prev:o)?i._prev._next=i:r=i,(i._next=n)?n._prev=i:o=i,i=e}t._pt=r},fi=function(){function t(t,e,n,r,o,i,a,s,c){this.t=e,this.s=r,this.c=o,this.p=n,this.r=i||ri,this.d=a||this,this.set=s||Qo,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=li,this.m=t,this.mt=n,this.tween=e},t}();pr(lr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return nr[t]=1})),Vn.TweenMax=Vn.TweenLite=Xo,Vn.TimelineLite=Vn.TimelineMax=zo,on=new zo({sortChildren:!1,defaults:wn,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),bn.stringFilter=So;var hi=[],pi={},di=[],gi=0,vi=0,yi=function(t){return(pi[t]||di).map((function(t){return t()}))},mi=function(){var t=Date.now(),e=[];t-gi>2&&(yi("matchMediaInit"),hi.forEach((function(t){var n,r,o,i,a=t.queries,s=t.conditions;for(r in a)(n=an.matchMedia(a[r]).matches)&&(o=1),n!==s[r]&&(s[r]=n,i=1);i&&(t.revert(),o&&e.push(t))})),yi("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),gi=t,yi("matchMedia"))},bi=function(){function t(t,e){this.selector=e&&eo(e),this.data=[],this._r=[],this.isReverted=!1,this.id=vi++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){Ln(t)&&(n=e,e=t,t=Ln);var r=this,o=function(){var t,o=rn,i=r.selector;return o&&o!==r&&o.data.push(r),n&&(r.selector=eo(n)),rn=r,t=e.apply(r,arguments),Ln(t)&&r._r.push(t),rn=o,r.selector=i,r.isReverted=!1,t};return r.last=o,t===Ln?o(r,(function(t){return r.add(null,t)})):t?r[t]=o:o},e.ignore=function(t){var e=rn;rn=null,t(this),rn=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof Xo&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){for(var e,r=n.getTweens(),o=n.data.length;o--;)"isFlip"===(e=n.data[o]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));for(r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),o=n.data.length;o--;)(e=n.data[o])instanceof zo?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof Xo)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var r=hi.length;r--;)hi[r].id===this.id&&hi.splice(r,1)},e.revert=function(t){this.kill(t||{})},t}(),wi=function(){function t(t){this.contexts=[],this.scope=t,rn&&rn.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){$n(t)||(t={matches:t});var r,o,i,a=new bi(0,n||this.scope),s=a.conditions={};for(o in rn&&!a.selector&&(a.selector=rn.selector),this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===o?i=1:(r=an.matchMedia(t[o]))&&(hi.indexOf(a)<0&&hi.push(a),(s[o]=r.matches)&&(i=1),r.addListener?r.addListener(mi):r.addEventListener("change",mi));return i&&e(a,(function(t){return a.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),_i={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return go(t)}))},timeline:function(t){return new zo(t)},getTweensOf:function(t,e){return on.getTweensOf(t,e)},getProperty:function(t,e,n,r){jn(t)&&(t=to(t)[0]);var o=fr(t||{}).get,i=n?_r:wr;return"native"===n&&(n=""),t?e?i((ir[e]&&ir[e].get||o)(t,e,n,r)):function(e,n,r){return i((ir[e]&&ir[e].get||o)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=to(t)).length>1){var r=t.map((function(t){return Si.quickSetter(t,e,n)})),o=r.length;return function(t){for(var e=o;e--;)r[e](t)}}t=t[0]||{};var i=ir[e],a=fr(t),s=a.harness&&(a.harness.aliases||{})[e]||e,c=i?function(e){var r=new i;fn._pt=0,r.init(t,n?e+n:e,fn,0,[t]),r.render(1,r),fn._pt&&ai(1,fn)}:a.set(t,s);return i?c:function(e){return c(t,s,n?e+n:e,a,1)}},quickTo:function(t,e,n){var r,o=Si.to(t,xr(((r={})[e]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),i=function(t,n,r){return o.resetTo(e,t,n,r)};return i.tween=o,i},isTweening:function(t){return on.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$o(t.ease,wn.ease)),Sr(wn,t||{})},config:function(t){return Sr(bn,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,o=t.defaults,i=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!ir[t]&&!Vn[t]&&Jn(e+" effect requires "+t+" plugin.")})),ar[e]=function(t,e,r){return n(to(t),xr(e||{},o),r)},i&&(zo.prototype[e]=function(t,n,r){return this.add(ar[e](t,$n(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Eo[t]=$o(e)},parseEase:function(t,e){return arguments.length?$o(t,e):Eo},getById:function(t){return on.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,o=new zo(t);for(o.smoothChildTiming=Mn(t.smoothChildTiming),on.remove(o),o._dp=0,o._time=o._tTime=on._time,n=on._first;n;)r=n._next,!e&&!n._dur&&n instanceof Xo&&n.vars.onComplete===n._targets[0]||Br(o,n,n._start-n._delay),n=r;return Br(on,o,0),o},context:function(t,e){return t?new bi(t,e):rn},matchMedia:function(t){return new wi(t)},matchMediaRefresh:function(){return hi.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||mi()},addEventListener:function(t,e){var n=pi[t]||(pi[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=pi[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var o=n-e;return Nn(e)?so(e,t(0,e.length),n):Wr(r,(function(t){return(o+(t-e)%o)%o+e}))},wrapYoyo:function t(e,n,r){var o=n-e,i=2*o;return Nn(e)?so(e,t(0,e.length-1),n):Wr(r,(function(t){return e+((t=(i+(t-e)%i)%i||0)>o?i-t:t)}))},distribute:ro,random:ao,snap:io,normalize:function(t,e,n){return lo(t,e,0,1,n)},getUnit:Xr,clamp:function(t,e,n){return Wr(n,(function(n){return Jr(t,e,n)}))},splitColor:bo,toArray:to,selector:eo,mapRange:lo,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Xr(n))}},interpolate:function t(e,n,r,o){var i=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!i){var a,s,c,l,u,f=jn(e),h={};if(!0===r&&(o=1)&&(r=null),f)e={p:e},n={p:n};else if(Nn(e)&&!Nn(n)){for(c=[],l=e.length,u=l-2,s=1;s<l;s++)c.push(t(e[s-1],e[s]));l--,i=function(t){t*=l;var e=Math.min(u,~~t);return c[e](t-e)},r=n}else o||(e=kr(Nn(e)?[]:{},e));if(!c){for(a in n)Ho.call(h,e,a,"get",n[a]);i=function(t){return ai(t,h)||(f?e.p:e)}}}return Wr(r,i)},shuffle:no},install:Yn,effects:ar,ticker:Oo,updateRoot:zo.updateRoot,plugins:ir,globalTimeline:on,core:{PropTween:fi,globals:Xn,Tween:Xo,Timeline:zo,Animation:Bo,getCache:fr,_removeLinkedListItem:Tr,reverting:function(){return nn},context:function(t){return t&&rn&&(rn.data.push(t),t._ctx=rn),rn},suppressOverwrites:function(t){return en=t}}};pr("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return _i[t]=Xo[t]})),Oo.add(zo.updateRoot),fn=_i.to({},{duration:0});var xi=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},ki=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(jn(n)&&(r={},pr(n,(function(t){return r[t]=1})),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,r,o,i=t._targets;for(n in e)for(r=i.length;r--;)(o=t._ptLookup[r][n])&&(o=o.d)&&(o._pt&&(o=xi(o,n)),o&&o.modifier&&o.modifier(e[n],t,i[r],n))}(t,n)}}}},Si=_i.registerPlugin({name:"attr",init:function(t,e,n,r,o){var i,a,s;for(i in this.tween=n,e)s=t.getAttribute(i)||"",(a=this.add(t,"setAttribute",(s||0)+"",e[i],r,o,0,0,i)).op=i,a.b=s,this._props.push(i)},render:function(t,e){for(var n=e._pt;n;)nn?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},ki("roundProps",oo),ki("modifiers"),ki("snap",io))||_i;Xo.version=zo.version=Si.version="3.12.7",ln=1,Dn()&&Co(),Eo.Power0,Eo.Power1,Eo.Power2,Eo.Power3,Eo.Power4,Eo.Linear,Eo.Quad,Eo.Cubic,Eo.Quart,Eo.Quint,Eo.Strong,Eo.Elastic,Eo.Back,Eo.SteppedEase,Eo.Bounce,Eo.Sine,Eo.Expo,Eo.Circ;var Oi,Ci,Ei,Ti,ji,Li,Pi,Ai,$i={},Mi=180/Math.PI,Di=Math.PI/180,Ii=Math.atan2,Ri=/([A-Z])/g,Ni=/(left|right|width|margin|padding|x)/i,Bi=/[\s,\(]\S/,zi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Fi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},qi=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Gi=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Hi=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Ui=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Vi=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Zi=function(t,e,n){return t.style[e]=n},Yi=function(t,e,n){return t.style.setProperty(e,n)},Wi=function(t,e,n){return t._gsap[e]=n},Ji=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},Xi=function(t,e,n,r,o){var i=t._gsap;i.scaleX=i.scaleY=n,i.renderTransform(o,i)},Qi=function(t,e,n,r,o){var i=t._gsap;i[e]=n,i.renderTransform(o,i)},Ki="transform",ta=Ki+"Origin",ea=function t(e,n){var r=this,o=this.target,i=o.style,a=o._gsap;if(e in $i&&i){if(this.tfm=this.tfm||{},"transform"===e)return zi.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(~(e=zi[e]||e).indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=ba(o,t)})):this.tfm[e]=a.x?a[e]:ba(o,e),e===ta&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(Ki)>=0)return;a.svg&&(this.svgo=o.getAttribute("data-svg-origin"),this.props.push(ta,n,"")),e=Ki}(i||n)&&this.props.push(e,n,i[e])},na=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ra=function(){var t,e,n=this.props,r=this.target,o=r.style,i=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?2===n[t+1]?r[n[t]](n[t+2]):r[n[t]]=n[t+2]:n[t+2]?o[n[t]]=n[t+2]:o.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(Ri,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)i[e]=this.tfm[e];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=Pi())&&t.isStart||o[Ki]||(na(o),i.zOrigin&&o[ta]&&(o[ta]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},oa=function(t,e){var n={target:t,props:[],revert:ra,save:ea};return t._gsap||Si.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach((function(t){return n.save(t)})),n},ia=function(t,e){var n=Ci.createElementNS?Ci.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ci.createElement(t);return n&&n.style?n:Ci.createElement(t)},aa=function t(e,n,r){var o=getComputedStyle(e);return o[n]||o.getPropertyValue(n.replace(Ri,"-$1").toLowerCase())||o.getPropertyValue(n)||!r&&t(e,ca(n)||n,1)||""},sa="O,Moz,ms,Ms,Webkit".split(","),ca=function(t,e,n){var r=(e||ji).style,o=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(sa[o]+t in r););return o<0?null:(3===o?"ms":o>=0?sa[o]:"")+t},la=function(){"undefined"!=typeof window&&window.document&&(Oi=window,Ci=Oi.document,Ei=Ci.documentElement,ji=ia("div")||{style:{}},ia("div"),Ki=ca(Ki),ta=Ki+"Origin",ji.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ai=!!ca("perspective"),Pi=Si.core.reverting,Ti=1)},ua=function(t){var e,n=t.ownerSVGElement,r=ia("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=t.cloneNode(!0);o.style.display="block",r.appendChild(o),Ei.appendChild(r);try{e=o.getBBox()}catch(t){}return r.removeChild(o),Ei.removeChild(r),e},fa=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},ha=function(t){var e,n;try{e=t.getBBox()}catch(r){e=ua(t),n=1}return e&&(e.width||e.height)||n||(e=ua(t)),!e||e.width||e.x||e.y?e:{x:+fa(t,["x","cx","x1"])||0,y:+fa(t,["y","cy","y1"])||0,width:0,height:0}},pa=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!ha(t))},da=function(t,e){if(e){var n,r=t.style;e in $i&&e!==ta&&(e=Ki),r.removeProperty?("ms"!==(n=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(Ri,"-$1").toLowerCase())):r.removeAttribute(e)}},ga=function(t,e,n,r,o,i){var a=new fi(t._pt,e,n,0,1,i?Vi:Ui);return t._pt=a,a.b=r,a.e=o,t._props.push(n),a},va={deg:1,rad:1,turn:1},ya={grid:1,flex:1},ma=function t(e,n,r,o){var i,a,s,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",f=ji.style,h=Ni.test(n),p="svg"===e.tagName.toLowerCase(),d=(p?"client":"offset")+(h?"Width":"Height"),g=100,v="px"===o,y="%"===o;if(o===u||!l||va[o]||va[u])return l;if("px"!==u&&!v&&(l=t(e,n,r,"px")),c=e.getCTM&&pa(e),(y||"%"===u)&&($i[n]||~n.indexOf("adius")))return i=c?e.getBBox()[h?"width":"height"]:e[d],dr(y?l/i*g:l/100*i);if(f[h?"width":"height"]=g+(v?u:o),a="rem"!==o&&~n.indexOf("adius")||"em"===o&&e.appendChild&&!p?e:e.parentNode,c&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Ci&&a.appendChild||(a=Ci.body),(s=a._gsap)&&y&&s.width&&h&&s.time===Oo.time&&!s.uncache)return dr(l/s.width*g);if(!y||"height"!==n&&"width"!==n)(y||"%"===u)&&!ya[aa(a,"display")]&&(f.position=aa(e,"position")),a===e&&(f.position="static"),a.appendChild(ji),i=ji[d],a.removeChild(ji),f.position="absolute";else{var m=e.style[n];e.style[n]=g+o,i=e[d],m?e.style[n]=m:da(e,n)}return h&&y&&((s=fr(a)).time=Oo.time,s.width=a[d]),dr(v?i*l/g:i&&l?g/i*l:0)},ba=function(t,e,n,r){var o;return Ti||la(),e in zi&&"transform"!==e&&~(e=zi[e]).indexOf(",")&&(e=e.split(",")[0]),$i[e]&&"transform"!==e?(o=La(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Pa(aa(t,ta))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=ka[e]&&ka[e](t,e,n)||aa(t,e)||hr(t,e)||("opacity"===e?1:0)),n&&!~(o+"").trim().indexOf(" ")?ma(t,e,o,n)+n:o},wa=function(t,e,n,r){if(!n||"none"===n){var o=ca(e,t,1),i=o&&aa(t,o,1);i&&i!==n?(e=o,n=i):"borderColor"===e&&(n=aa(t,"borderTopColor"))}var a,s,c,l,u,f,h,p,d,g,v,y=new fi(this._pt,t.style,e,0,1,ii),m=0,b=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(f=t.style[e],t.style[e]=r,r=aa(t,e)||r,f?t.style[e]=f:da(t,e)),So(a=[n,r]),r=a[1],c=(n=a[0]).match(Fn)||[],(r.match(Fn)||[]).length){for(;s=Fn.exec(r);)h=s[0],d=r.substring(m,s.index),u?u=(u+1)%5:"rgba("!==d.substr(-5)&&"hsla("!==d.substr(-5)||(u=1),h!==(f=c[b++]||"")&&(l=parseFloat(f)||0,v=f.substr((l+"").length),"="===h.charAt(1)&&(h=vr(l,h)+v),p=parseFloat(h),g=h.substr((p+"").length),m=Fn.lastIndex-g.length,g||(g=g||bn.units[e]||v,m===r.length&&(r+=g,y.e+=g)),v!==g&&(l=ma(t,e,f,g)||0),y._pt={_next:y._pt,p:d||1===b?d:",",s:l,c:p-l,m:u&&u<4||"zIndex"===e?Math.round:0});y.c=m<r.length?r.substring(m,r.length):""}else y.r="display"===e&&"none"===r?Vi:Ui;return Gn.test(r)&&(y.e=0),this._pt=y,y},_a={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xa=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,o,i=e.t,a=i.style,s=e.u,c=i._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(o=(s=s.split(",")).length;--o>-1;)n=s[o],$i[n]&&(r=1,n="transformOrigin"===n?ta:Ki),da(i,n);r&&(da(i,Ki),c&&(c.svg&&i.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",La(i,1),c.uncache=1,na(a)))}},ka={clearProps:function(t,e,n,r,o){if("isFromStart"!==o.data){var i=t._pt=new fi(t._pt,e,n,0,0,xa);return i.u=r,i.pr=-10,i.tween=o,t._props.push(n),1}}},Sa=[1,0,0,1,0,0],Oa={},Ca=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ea=function(t){var e=aa(t,Ki);return Ca(e)?Sa:e.substr(7).match(zn).map(dr)},Ta=function(t,e){var n,r,o,i,a=t._gsap||fr(t),s=t.style,c=Ea(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(o=t.transform.baseVal.consolidate().matrix).a,o.b,o.c,o.d,o.e,o.f]).join(",")?Sa:c:(c!==Sa||t.offsetParent||t===Ei||a.svg||(o=s.display,s.display="block",(n=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(i=1,r=t.nextElementSibling,Ei.appendChild(t)),c=Ea(t),o?s.display=o:da(t,"display"),i&&(r?n.insertBefore(t,r):n?n.appendChild(t):Ei.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},ja=function(t,e,n,r,o,i){var a,s,c,l=t._gsap,u=o||Ta(t,!0),f=l.xOrigin||0,h=l.yOrigin||0,p=l.xOffset||0,d=l.yOffset||0,g=u[0],v=u[1],y=u[2],m=u[3],b=u[4],w=u[5],_=e.split(" "),x=parseFloat(_[0])||0,k=parseFloat(_[1])||0;n?u!==Sa&&(s=g*m-v*y)&&(c=x*(-v/s)+k*(g/s)-(g*w-v*b)/s,x=x*(m/s)+k*(-y/s)+(y*w-m*b)/s,k=c):(x=(a=ha(t)).x+(~_[0].indexOf("%")?x/100*a.width:x),k=a.y+(~(_[1]||_[0]).indexOf("%")?k/100*a.height:k)),r||!1!==r&&l.smooth?(b=x-f,w=k-h,l.xOffset=p+(b*g+w*y)-b,l.yOffset=d+(b*v+w*m)-w):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=k,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!n,t.style[ta]="0px 0px",i&&(ga(i,l,"xOrigin",f,x),ga(i,l,"yOrigin",h,k),ga(i,l,"xOffset",p,l.xOffset),ga(i,l,"yOffset",d,l.yOffset)),t.setAttribute("data-svg-origin",x+" "+k)},La=function(t,e){var n=t._gsap||new No(t);if("x"in n&&!e&&!n.uncache)return n;var r,o,i,a,s,c,l,u,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O,C,E,T,j,L,P,A,$,M,D=t.style,I=n.scaleX<0,R="px",N="deg",B=getComputedStyle(t),z=aa(t,ta)||"0";return r=o=i=c=l=u=f=h=p=0,a=s=1,n.svg=!(!t.getCTM||!pa(t)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(D[Ki]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[Ki]?B[Ki]:"")),D.scale=D.rotate=D.translate="none"),v=Ta(t,n.svg),n.svg&&(n.uncache?(E=t.getBBox(),z=n.xOrigin-E.x+"px "+(n.yOrigin-E.y)+"px",C=""):C=!e&&t.getAttribute("data-svg-origin"),ja(t,C||z,!!C||n.originIsAbsolute,!1!==n.smooth,v)),d=n.xOrigin||0,g=n.yOrigin||0,v!==Sa&&(w=v[0],_=v[1],x=v[2],k=v[3],r=S=v[4],o=O=v[5],6===v.length?(a=Math.sqrt(w*w+_*_),s=Math.sqrt(k*k+x*x),c=w||_?Ii(_,w)*Mi:0,(f=x||k?Ii(x,k)*Mi+c:0)&&(s*=Math.abs(Math.cos(f*Di))),n.svg&&(r-=d-(d*w+g*x),o-=g-(d*_+g*k))):(M=v[6],A=v[7],j=v[8],L=v[9],P=v[10],$=v[11],r=v[12],o=v[13],i=v[14],l=(y=Ii(M,P))*Mi,y&&(C=S*(m=Math.cos(-y))+j*(b=Math.sin(-y)),E=O*m+L*b,T=M*m+P*b,j=S*-b+j*m,L=O*-b+L*m,P=M*-b+P*m,$=A*-b+$*m,S=C,O=E,M=T),u=(y=Ii(-x,P))*Mi,y&&(m=Math.cos(-y),$=k*(b=Math.sin(-y))+$*m,w=C=w*m-j*b,_=E=_*m-L*b,x=T=x*m-P*b),c=(y=Ii(_,w))*Mi,y&&(C=w*(m=Math.cos(y))+_*(b=Math.sin(y)),E=S*m+O*b,_=_*m-w*b,O=O*m-S*b,w=C,S=E),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),a=dr(Math.sqrt(w*w+_*_+x*x)),s=dr(Math.sqrt(O*O+M*M)),y=Ii(S,O),f=Math.abs(y)>2e-4?y*Mi:0,p=$?1/($<0?-$:$):0),n.svg&&(C=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Ca(aa(t,Ki)),C&&t.setAttribute("transform",C))),Math.abs(f)>90&&Math.abs(f)<270&&(I?(a*=-1,f+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,f+=f<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+R,n.y=o-((n.yPercent=o&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-o)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+R,n.z=i+R,n.scaleX=dr(a),n.scaleY=dr(s),n.rotation=dr(c)+N,n.rotationX=dr(l)+N,n.rotationY=dr(u)+N,n.skewX=f+N,n.skewY=h+N,n.transformPerspective=p+R,(n.zOrigin=parseFloat(z.split(" ")[2])||!e&&n.zOrigin||0)&&(D[ta]=Pa(z)),n.xOffset=n.yOffset=0,n.force3D=bn.force3D,n.renderTransform=n.svg?Na:Ai?Ra:$a,n.uncache=0,n},Pa=function(t){return(t=t.split(" "))[0]+" "+t[1]},Aa=function(t,e,n){var r=Xr(e);return dr(parseFloat(e)+parseFloat(ma(t,"x",n+"px",r)))+r},$a=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ra(t,e)},Ma="0deg",Da="0px",Ia=") ",Ra=function(t,e){var n=e||this,r=n.xPercent,o=n.yPercent,i=n.x,a=n.y,s=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,f=n.skewX,h=n.skewY,p=n.scaleX,d=n.scaleY,g=n.transformPerspective,v=n.force3D,y=n.target,m=n.zOrigin,b="",w="auto"===v&&t&&1!==t||!0===v;if(m&&(u!==Ma||l!==Ma)){var _,x=parseFloat(l)*Di,k=Math.sin(x),S=Math.cos(x);x=parseFloat(u)*Di,_=Math.cos(x),i=Aa(y,i,k*_*-m),a=Aa(y,a,-Math.sin(x)*-m),s=Aa(y,s,S*_*-m+m)}g!==Da&&(b+="perspective("+g+Ia),(r||o)&&(b+="translate("+r+"%, "+o+"%) "),(w||i!==Da||a!==Da||s!==Da)&&(b+=s!==Da||w?"translate3d("+i+", "+a+", "+s+") ":"translate("+i+", "+a+Ia),c!==Ma&&(b+="rotate("+c+Ia),l!==Ma&&(b+="rotateY("+l+Ia),u!==Ma&&(b+="rotateX("+u+Ia),f===Ma&&h===Ma||(b+="skew("+f+", "+h+Ia),1===p&&1===d||(b+="scale("+p+", "+d+Ia),y.style[Ki]=b||"translate(0, 0)"},Na=function(t,e){var n,r,o,i,a,s=e||this,c=s.xPercent,l=s.yPercent,u=s.x,f=s.y,h=s.rotation,p=s.skewX,d=s.skewY,g=s.scaleX,v=s.scaleY,y=s.target,m=s.xOrigin,b=s.yOrigin,w=s.xOffset,_=s.yOffset,x=s.forceCSS,k=parseFloat(u),S=parseFloat(f);h=parseFloat(h),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),h+=d),h||p?(h*=Di,p*=Di,n=Math.cos(h)*g,r=Math.sin(h)*g,o=Math.sin(h-p)*-v,i=Math.cos(h-p)*v,p&&(d*=Di,a=Math.tan(p-d),o*=a=Math.sqrt(1+a*a),i*=a,d&&(a=Math.tan(d),n*=a=Math.sqrt(1+a*a),r*=a)),n=dr(n),r=dr(r),o=dr(o),i=dr(i)):(n=g,i=v,r=o=0),(k&&!~(u+"").indexOf("px")||S&&!~(f+"").indexOf("px"))&&(k=ma(y,"x",u,"px"),S=ma(y,"y",f,"px")),(m||b||w||_)&&(k=dr(k+m-(m*n+b*o)+w),S=dr(S+b-(m*r+b*i)+_)),(c||l)&&(a=y.getBBox(),k=dr(k+c/100*a.width),S=dr(S+l/100*a.height)),a="matrix("+n+","+r+","+o+","+i+","+k+","+S+")",y.setAttribute("transform",a),x&&(y.style[Ki]=a)},Ba=function(t,e,n,r,o){var i,a,s=360,c=jn(o),l=parseFloat(o)*(c&&~o.indexOf("rad")?Mi:1)-r,u=r+l+"deg";return c&&("short"===(i=o.split("_")[1])&&(l%=s)!=l%180&&(l+=l<0?s:-360),"cw"===i&&l<0?l=(l+36e9)%s-~~(l/s)*s:"ccw"===i&&l>0&&(l=(l-36e9)%s-~~(l/s)*s)),t._pt=a=new fi(t._pt,e,n,r,l,qi),a.e=u,a.u="deg",t._props.push(n),a},za=function(t,e){for(var n in e)t[n]=e[n];return t},Fa=function(t,e,n){var r,o,i,a,s,c,l,u=za({},n._gsap),f=n.style;for(o in u.svg?(i=n.getAttribute("transform"),n.setAttribute("transform",""),f[Ki]=e,r=La(n,1),da(n,Ki),n.setAttribute("transform",i)):(i=getComputedStyle(n)[Ki],f[Ki]=e,r=La(n,1),f[Ki]=i),$i)(i=u[o])!==(a=r[o])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(o)<0&&(s=Xr(i)!==(l=Xr(a))?ma(n,o,i,l):parseFloat(i),c=parseFloat(a),t._pt=new fi(t._pt,r,o,s,c-s,Fi),t._pt.u=l||0,t._props.push(o));za(r,u)};pr("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",o="Bottom",i="Left",a=(e<3?[n,r,o,i]:[n+i,n+r,o+r,o+i]).map((function(n){return e<2?t+n:"border"+n+t}));ka[e>1?"border"+t:t]=function(t,e,n,r,o){var i,s;if(arguments.length<4)return i=a.map((function(e){return ba(t,e,n)})),5===(s=i.join(" ")).split(i[0]).length?i[0]:s;i=(r+"").split(" "),s={},a.forEach((function(t,e){return s[t]=i[e]=i[e]||i[(e-1)/2|0]})),t.init(e,s,o)}}));var qa,Ga,Ha={name:"css",register:la,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,o){var i,a,s,c,l,u,f,h,p,d,g,v,y,m,b,w,_,x,k,S,O=this._props,C=t.style,E=n.vars.startAt;for(f in Ti||la(),this.styles=this.styles||oa(t),w=this.styles.props,this.tween=n,e)if("autoRound"!==f&&(a=e[f],!ir[f]||!Uo(f,e,n,r,t,o)))if(l=typeof a,u=ka[f],"function"===l&&(l=typeof(a=a.call(n,r,t,o))),"string"===l&&~a.indexOf("random(")&&(a=co(a)),u)u(this,t,f,a,n)&&(b=1);else if("--"===f.substr(0,2))i=(getComputedStyle(t).getPropertyValue(f)+"").trim(),a+="",xo.lastIndex=0,xo.test(i)||(h=Xr(i),p=Xr(a)),p?h!==p&&(i=ma(t,f,i,p)+p):h&&(a+=h),this.add(C,"setProperty",i,a,r,o,0,0,f),O.push(f),w.push(f,0,C[f]);else if("undefined"!==l){if(E&&f in E?(i="function"==typeof E[f]?E[f].call(n,r,t,o):E[f],jn(i)&&~i.indexOf("random(")&&(i=co(i)),Xr(i+"")||"auto"===i||(i+=bn.units[f]||Xr(ba(t,f))||""),"="===(i+"").charAt(1)&&(i=ba(t,f))):i=ba(t,f),c=parseFloat(i),(d="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),f in zi&&("autoAlpha"===f&&(1===c&&"hidden"===ba(t,"visibility")&&s&&(c=0),w.push("visibility",0,C.visibility),ga(this,C,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==f&&"transform"!==f&&~(f=zi[f]).indexOf(",")&&(f=f.split(",")[0])),g=f in $i)if(this.styles.save(f),v||((y=t._gsap).renderTransform&&!e.parseTransform||La(t,e.parseTransform),m=!1!==e.smoothOrigin&&y.smooth,(v=this._pt=new fi(this._pt,C,Ki,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===f)this._pt=new fi(this._pt,y,"scaleY",y.scaleY,(d?vr(y.scaleY,d+s):s)-y.scaleY||0,Fi),this._pt.u=0,O.push("scaleY",f),f+="X";else{if("transformOrigin"===f){w.push(ta,0,C[ta]),x=void 0,k=void 0,S=void 0,k=(x=(_=a).split(" "))[0],S=x[1]||"50%","top"!==k&&"bottom"!==k&&"left"!==S&&"right"!==S||(_=k,k=S,S=_),x[0]=_a[k]||k,x[1]=_a[S]||S,a=x.join(" "),y.svg?ja(t,a,0,m,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&ga(this,y,"zOrigin",y.zOrigin,p),ga(this,C,f,Pa(i),Pa(a)));continue}if("svgOrigin"===f){ja(t,a,1,m,0,this);continue}if(f in Oa){Ba(this,y,f,c,d?vr(c,d+a):a);continue}if("smoothOrigin"===f){ga(this,y,"smooth",y.smooth,a);continue}if("force3D"===f){y[f]=a;continue}if("transform"===f){Fa(this,a,t);continue}}else f in C||(f=ca(f)||f);if(g||(s||0===s)&&(c||0===c)&&!Bi.test(a)&&f in C)s||(s=0),(h=(i+"").substr((c+"").length))!==(p=Xr(a)||(f in bn.units?bn.units[f]:h))&&(c=ma(t,f,i,p)),this._pt=new fi(this._pt,g?y:C,f,c,(d?vr(c,d+s):s)-c,g||"px"!==p&&"zIndex"!==f||!1===e.autoRound?Fi:Hi),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=i,this._pt.r=Gi);else if(f in C)wa.call(this,t,f,i,d?d+a:a);else if(f in t)this.add(t,f,i||t[f],d?d+a:a,r,o);else if("parseTransform"!==f){Wn(f,a);continue}g||(f in C?w.push(f,0,C[f]):"function"==typeof t[f]?w.push(f,2,t[f]()):w.push(f,1,i||t[f])),O.push(f)}b&&ui(this)},render:function(t,e){if(e.tween._time||!Pi())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:ba,aliases:zi,getSetter:function(t,e,n){var r=zi[e];return r&&r.indexOf(",")<0&&(e=r),e in $i&&e!==ta&&(t._gsap.x||ba(t,"x"))?n&&Li===n?"scale"===e?Ji:Wi:(Li=n||{})&&("scale"===e?Xi:Qi):t.style&&!An(t.style[e])?Zi:~e.indexOf("-")?Yi:ni(t,e)},core:{_removeProperty:da,_getMatrix:Ta}};Si.utils.checkPrefix=ca,Si.core.getStyleSaver=oa,Ga=pr("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(qa="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){$i[t]=1})),pr(qa,(function(t){bn.units[t]="deg",Oa[t]=1})),zi[Ga[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+qa,pr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");zi[e[1]]=Ga[e[0]]})),pr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){bn.units[t]="px"})),Si.registerPlugin(Ha);var Ua,Va,Za,Ya=Si.registerPlugin(Ha)||Si;function Wa(t){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(t)}function Ja(){Ja=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Wa(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Wa(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Xa(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Qa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qa(Object(n),!0).forEach((function(e){ts(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ts(t,e,n){return(e=rs(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function es(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rs(r.key),r)}}function rs(t){var e=function(t){if("object"!=Wa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wa(e)?e:e+""}function os(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(os=function(){return!!t})()}function is(t){return is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},is(t)}function as(t,e){return as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},as(t,e)}Ya.core.Tween;var ss,cs,ls,us=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=is(e),function(t,e){if(e&&("object"==Wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,os()?Reflect.construct(e,n||[],is(t).constructor):e.apply(t,n))}(this,e,["agora-showcase","".concat(z.BASE_COMPONENTS,"/Showcase/Showcase.css")])).loading=new a(!0,t),t.error=new a(null,t),t.data=new a(null,t),t.lastShown=new a(null,t),t.updateTime=new a(7500,t),t.fetchData(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&as(t,e)}(e,t),n=e,r=[{key:"template",value:function(){if(this.loading.getState())return F(Ua||(Ua=es(["\n                <h1>Loading...</h1>\n            "])));if(this.error.getState())return F(Va||(Va=es(["\n                <h1>Error!</h1>\n            "])));if(this.data.getState()){var t=this.displayRandomItem();return F(Za||(Za=es(['\n                <div class="item-info">\n                    <div>\n                        <h1>','</h1>\n                        <span class="icon">',"</span>\n                    </div>\n                    <p>",'</p>\n                </div>\n                <div class="item-link">\n                    <span>\n                        <agora-text-button class="learn-more-button" href="','">Learn more</agora-text-button>\n                    </span>\n                </div>\n                \n            '])),t.name,Z,t.description,t.link)}}},{key:"listeners",value:function(){var t=this;this.$(".learn-more-button").onClick.setState((function(){window.open(t.$(".learn-more-button").getAttribute("href"),"_blank")}))}},{key:"flattenData",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=t[r],console.log(Object.keys(t[r].subServices).length,"Sub services"),Object.keys(t[r].subServices).length>0&&(n=Ka(Ka({},n),e.flattenData(t[r].subServices)))})),console.log(n),n}},{key:"displayRandomItem",value:function(){var t=this,e=Object.keys(this.data.getState()),n=e[Math.floor(Math.random()*e.length)];return this.lastShown.getState()===n?this.displayRandomItem():(this.lastShown.setState(n,!1),setTimeout((function(){Ya.to(t,{opacity:0,duration:.5,onComplete:function(){t.render(),setTimeout((function(){Ya.to(t,{opacity:1,duration:.5})}),500)}})}),this.updateTime.getState()),Ka({name:n},this.data.getState()[n]))}},{key:"fetchData",value:(o=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Xa(i,r,o,a,s,"next",t)}function s(t){Xa(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Ja().mark((function t(){var e,n;return Ja().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mt();case 2:e=t.sent,n=this.flattenData(e),this.data.setState(n,!1),this.loading.setState(!1),console.log(this.data.getState());case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],r&&ns(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(r);function fs(t){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(t)}function hs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ds(r.key),r)}}function ds(t){var e=function(t){if("object"!=fs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fs(e)?e:e+""}function gs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gs=function(){return!!t})()}function vs(t){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(t)}function ys(t,e){return ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ys(t,e)}window.customElements.define("agora-showcase",us);var ms,bs,ws,_s,xs,ks,Ss,Os,Cs,Es,Ts=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=vs(e),function(t,e){if(e&&("object"==fs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gs()?Reflect.construct(e,n||[],vs(t).constructor):e.apply(t,n))}(this,e,["agora-greetings","".concat(z.BASE_COMPONENTS,"/Greetings/Greetings.css")])).companyContext=new o("company",t,!0),t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.setInitialLoading(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ys(t,e)}(e,t),n=e,(r=[{key:"setInitialLoading",value:function(){this.wrapper.classList.add("initial-loading")}},{key:"template",value:function(){var t,e,n;return this.getAttribute("hidden")?this.wrapper.classList.add("hidden"):this.wrapper.classList.remove("hidden"),F(ss||(ss=hs(["\n            <style>\n                .agora-greetings-wrapper {\n                    --company-color: ",';\n                }\n            </style>\n            \x3c!-- Greetings --\x3e\n            <div class="welcome-message">\n                <span class="default-welcome">Welcome</span> \n                <div class="logo">\n                    <span class="agora-name">Agora</span>\n                    <span \n                        class="alliance-name" \n                    >','</span>\n                </div>\n                <span class="multilanguage-welcome">\n                    <span>WELCOME</span>\n                    <span style="animation-delay: 0.5s">BIENVENUE</span>\n                    <span style="animation-delay: 1s">TERVETULOA</span>\n                    <span style="animation-delay: 1s">BIENVENUE</span>\n                    <span style="animation-delay: 1.5s">BENVENUTI</span>\n                    <span style="animation-delay: 1.5s">BEM-VINDOS</span>\n                    <span style="animation-delay: 2s">WITAMY</span>\n                    <span style="animation-delay: 2s">BENVINGUTS</span>\n                    <span style="animation-delay: 2.5s">VÄLKOMMEN</span>\n                </span>\n            </div>\n            ',"\n        "])),this.companyContext.getData("info")&&null!==(t=this.companyContext.getData("info").primary_color)&&void 0!==t?t:"var(--text-accent-color)",this.companyContext.getData("info")?null!==(e=this.companyContext.getData("info").name)&&void 0!==e?e:"":null!==(n=this.configContext.getData("name"))&&void 0!==n?n:"",this.configContext.getData("ai_enabled")?F(cs||(cs=hs(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            You can navigate directly through our acceleration services \n                            or ask our assistant to guide you through the process of finding the right resources.\n                        </p>\n                    ']))):F(ls||(ls=hs(['\n                        <span class="default-message">How could we help you?</span>\n                        <p class="greetings-description">\n                            Use our search tool to quickly find the resources and acceleration services that you may\n                            need within the ',' Agora.\n                        </p>\n                        <p class="greetings-description" style="color: var(--text-tertiary-color);font-weight:100;">\n                            Enter your query to get started...\n                        </p>\n                    '])),this.companyContext.getData("info")?this.companyContext.getData("info").name:""))}},{key:"hide",value:function(){this.wrapper.classList.add("hidden")}},{key:"unhide",value:function(){this.wrapper.classList.remove("hidden")}}])&&ps(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function js(t){return js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(t)}function Ls(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,As(r.key),r)}}function As(t){var e=function(t){if("object"!=js(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==js(e)?e:e+""}function $s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($s=function(){return!!t})()}function Ms(t){return Ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(t)}function Ds(t,e){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ds(t,e)}window.customElements.define("agora-greetings",Ts);var Is,Rs=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Ms(e),function(t,e){if(e&&("object"==js(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$s()?Reflect.construct(e,n||[],Ms(t).constructor):e.apply(t,n))}(this,e,["agora-landing","".concat(z.BASE_COMPONENTS,"/Landing/Landing.css")])).signals=new i(t),t.configContext=new o("config",t,!0),t.servicesContext=new o("service",t,!0),t.resultContext=new o("result",t,!0),t.companyContext=new o("company",t,!0),t.metagoraContext=new o("metagora",t,!1),t.servicesContext.setData({services:[]}),t.lastShown=new a(-1,t),t.updateTime=new a(1e4,t),t.serviceTree=new a(null,t),t.isAnimating=new a(!1,t),t.greetingsDuration=new a(7500,t),t.isGreeting=new a(!1,t),t.isGreeted=new a(!1,t),t.greetingTimeout=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ds(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=this;if(this.isGreeted.getState()||this.isGreeting.getState()||(this.isGreeting.setState(!0,!1),this.greetingTimeout=setTimeout((function(){var e=t.$("agora-greetings");Si.to(e,{opacity:0,duration:1,onComplete:function(){t.isGreeting.setState(!1,!1),t.isGreeted.setState(!0,!0)}})}),this.greetingsDuration.getState())),this.isGreeting.getState()&&!this.isGreeted.getState()||0===this.servicesContext.getData("services").length)return F(ms||(ms=Ls(["\n            <agora-greetings></agora-greetings>\n        "])));var e=this.servicesContext.getData("services");if(!e||!this.resultContext.getData("data")||this.resultContext.getData("data").length>0)return this.parentElement.style.display="none","";var n=this.companyContext.getData("info")&&"Metagora"===this.companyContext.getData("info").name,r=this.displayOrderedService(e),o=this.getServiceParentAgora(r);if(!r)return"";var i=Array.from(new Set(r.fields.suggested_search_terms.split(","))).map((function(t){return t.trim()})),a=!r.fields.website||r.fields.website instanceof Array||!r.fields.website.fields.domain?F(ws||(ws=Ls([""]))):F(bs||(bs=Ls(['<agora-text-button \n                    class="learn-more-button" \n                    href="','"\n                >Learn more</agora-text-button>'])),r.fields.website.fields.domain),s=function(t){switch(null===(t=r.fields.components)||void 0===t||null===(t=t.fields)||void 0===t?void 0:t.name){case"Showcase":return W;case"Catalogues":return ht;case"Events":return pt;default:return Z}}();return F(_s||(_s=Ls(['\n            <div class="showcase-card-wrapper first-fade-in ','">\n                \x3c!-- Node Connection Rendering Canvas --\x3e\n                <canvas class="node-connection-canvas"></canvas>\n\n                \x3c!-- Banner Image --\x3e\n                <div class="banner-image default-image">\n                    <h1>','</h1>\n                    <span class="icon">\n                        ','\n                    </span>\n                </div>\n\n                \x3c!-- Item Image --\x3e\n                <div class="item-image-wrapper">\n                    ','\n                </div>\n\n                \x3c!-- Item Info --\x3e\n                <div class="item-info">\n                    <p>','</p>\n                </div>\n\n                \x3c!-- Item Structure --\x3e\n                <span class="node-view-label">Service Content</span>\n                <div class="node-wrapper">','</div>\n\n                \x3c!-- Suggested Search Terms Tags --\x3e\n                <span class="search-tags-label">Suggested Search Terms</span>\n                <div class="search-terms-wrapper">\n                    ','\n                </div>\n\n                \x3c!-- Learn More Button --\x3e\n                <div class="item-link">\n                    <span>',"</span>\n                </div>\n            </div>\n        "])),n?"showcase-metagora-display":"",r.fields.name,n?F(xs||(xs=Ls(['<img src="',"",'" alt="','" />'])),this.configContext.getData("host"),o.agora.fields.image,o.agora.fields.name):s,r.fields.image?F(ks||(ks=Ls(['<img class="item-image" src="',"",'" alt="','" />'])),this.configContext.getData("host"),r.fields.image,r.fields.name):"",r.fields.description,this.renderNodeView(r),i.map((function(t){return F(Ss||(Ss=Ls(['<span class="search-term-tag">',"</span>"])),t)})).join(""),a)}},{key:"listeners",value:function(){var t=this;this.$(".learn-more-button")&&this.$(".learn-more-button").onClick.setState((function(){window.open(t.$(".learn-more-button").getAttribute("href"),"_blank")})),window.addEventListener("resize",(function(){t.drawConnections()}));var e=this.$$(".search-term-tag"),n=document.querySelector("agora-app").$("agora-layout-v2").$("agora-searchbar");e.forEach((function(t){t.onclick=function(){n.autocompleteFromSuggestedTag(t.innerText)}}))}},{key:"animateShowcaseCard",value:function(){var t=this;this.isAnimating.setState(!0,!1),setTimeout((function(){var e=t.$(".showcase-card-wrapper");e&&Si.to(e,{opacity:0,x:500,duration:.5,onComplete:function(){t.isAnimating.setState(!1,!1),t.render()}})}),this.updateTime.getState())}},{key:"getServiceParentAgora",value:function(t){var e;return(null!==(e=this.metagoraContext.getData("data"))&&void 0!==e?e:{agoras:[]}).agoras.map((function(t){return{agora:t,services:t.fields.sub_acceleration_services instanceof Array?Array.from(t.fields.sub_acceleration_services).map((function(t){return{id:t.id,name:t.fields.name}})):[{id:t.fields.sub_acceleration_services.id,name:t.fields.sub_acceleration_services.fields.name}]}})).find((function(e){return e.services.find((function(e){return e.id===t.id&&e.name===t.fields.name}))}))}},{key:"displayOrderedService",value:function(t){var e=this.lastShown.getState()+1;return e===t.length&&(e=0),this.isAnimating.getState()?t[this.lastShown.getState()]:(this.animateShowcaseCard(),t[e]?(this.lastShown.setState(e,!1),t[e]):void 0)}},{key:"renderNodeView",value:function(t){var e=this;setTimeout((function(){e.drawConnections()}),100);var n=function(t,e){var r={type:e,data:t.fields,children:[]},o=t.fields.sub_acceleration_services?Array.from(t.fields.sub_acceleration_services):[],i=t.fields.catalogues.websites?Array.from(t.fields.catalogues.websites):[];return o.length>0&&o.forEach((function(t){var e=n(t,"sub-service");e&&r.children.push(e)})),i.length>0&&i.forEach((function(t){var e={type:"catalogue",data:t};e&&r.children.push(e)})),r||null},r=n(t,"root-service");this.serviceTree.setState(r,!1);var o=[],i=function(t,e){o[e]||o.push([]),o[e].push(t),t.children&&Array.from(t.children).length>0&&Array.from(t.children).forEach((function(t){i(t,e+1)}))};return i(r,0),o.length<=1?"":F(Os||(Os=Ls(["\n            ","\n        "])),o.map((function(t,e){return 0===e?"":F(Cs||(Cs=Ls(['\n                        <div class="layer" data-layer="','">\n                            ',"\n                        </div>\n                    "])),e,t.map((function(t){return F(Es||(Es=Ls(['\n                                        <div class="node ','" id="','">\n                                            <span class="node-name">','</span>\n                                            <span class="node-description">','</span>\n                                            <div class="node-actions">\n                                                <div class="node-actions-info">\n                                                    ','\n                                                </div>\n                                                <div class="node-actions-icons">\n                                                    \x3c!-- <span class="node-action-icon">',"</span> --\x3e\n                                                </div>\n                                            </div> \n                                        </div>\n                                    "])),t.type,t.data.name.toLowerCase().replaceAll(/ /g,"-"),t.data.name,t.data.description,"sub-service"===t.type?"Service":"Catalogue",lt)})).join(""))})).join(""))}},{key:"drawConnections",value:function(){var t=this,e=this.$(".node-connection-canvas");if(e){e.width=this.wrapper.clientWidth,e.height=this.wrapper.clientHeight;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);var r=this.serviceTree.getState();if(r){var o=function(e){e.children&&e.children.length>0&&e.children.forEach((function(r){var i=e.data.name.toLowerCase().replaceAll(/ /g,"-"),a=r.data.name.toLowerCase().replaceAll(/ /g,"-"),s=t.$('[id="'.concat(i,'"]')),c=t.$('[id="'.concat(a,'"]'));s&&c&&t.drawNodeConnectionBetween(s,c,n),o(r)}))};r.children&&r.children.length>0&&r.children.forEach((function(t){o(t)}))}}}},{key:"drawNodeConnectionBetween",value:function(t,e,n){var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.wrapper.getBoundingClientRect(),a=r.left+r.width-1-i.left,s=r.top+r.height/2-i.top,c=o.left-1-i.left,l=o.top+o.height/2-i.top,u=a+60,f=s,h=c-60,p=l;n.beginPath(),n.moveTo(a,s),n.bezierCurveTo(u,f,h,p,c,l),n.strokeStyle="grey",n.lineWidth=3,n.stroke()}},{key:"reset",value:function(){clearTimeout(this.greetingTimeout),this.greetingTimeout=null,this.isGreeting.setState(!1,!1),this.isGreeted.setState(!1,!0)}},{key:"hide",value:function(){this.style.display="none"}},{key:"show",value:function(){this.style.display="block"}}],r&&Ps(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ns(t){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(t)}function Bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zs(r.key),r)}}function zs(t){var e=function(t){if("object"!=Ns(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ns(e)?e:e+""}function Fs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fs=function(){return!!t})()}function qs(t){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qs(t)}function Gs(t,e){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gs(t,e)}window.customElements.define("agora-landing",Rs);var Hs,Us=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=qs(e),function(t,e){if(e&&("object"==Ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fs()?Reflect.construct(e,n||[],qs(t).constructor):e.apply(t,n))}(this,e,["agora-map-visualizer","".concat(z.BASE_COMPONENTS,"/MapVisualizer/MapVisualizer.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Is||(t=['\n            <img class="map" src="','/assets/svg/europe-map.svg">\n        '],e||(e=t.slice(0)),Is=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),z.PUBLIC);var t,e}}],r&&Bs(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Vs(t){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(t)}function Zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ys(r.key),r)}}function Ys(t){var e=function(t){if("object"!=Vs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vs(e)?e:e+""}function Ws(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ws=function(){return!!t})()}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(t)}function Xs(t,e){return Xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xs(t,e)}window.customElements.define("agora-map-visualizer",Us);var Qs,Ks=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Js(e),function(t,e){if(e&&("object"==Vs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ws()?Reflect.construct(e,n||[],Js(t).constructor):e.apply(t,n))}(this,e,["agora-text-button","".concat(z.BASE_COMPONENTS,"/TextButton/TextButton.css")])).onClick=new a(null,t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xs(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Hs||(t=['\n            <button class="button">\n                <div>\n                    <span class="text">','</span>\n                    <span class="text">',"</span>\n                </div>\n            </button>\n        "],e||(e=t.slice(0)),Hs=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),this.textContent,this.textContent);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".button").onclick=function(){return t.onClick.getState()()}}}],r&&Zs(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nc(r.key),r)}}function nc(t){var e=function(t){if("object"!=tc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tc(e)?e:e+""}function rc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rc=function(){return!!t})()}function oc(t){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oc(t)}function ic(t,e){return ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ic(t,e)}window.customElements.define("agora-text-button",Ks);var ac,sc=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=oc(e),function(t,e){if(e&&("object"==tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rc()?Reflect.construct(e,n||[],oc(t).constructor):e.apply(t,n))}(this,e,["agora-action-bar","".concat(z.BASE_COMPONENTS,"/ActionBar/ActionBar.css")])).resultContext=new o("result",t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ic(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Qs||(t=['\n            <div class="action-bar-container">\n                <button class="action-button map-button" disabled title="Resource map will be available soon">\n                    ','\n                </button>\n                <button class="action-button refresh-button">\n                    ',"\n                </button>\n            </div>\n        "],e||(e=t.slice(0)),Qs=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),vt,yt);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".map-button").onclick=function(){return t.openMapWindow()},this.$(".refresh-button").onclick=function(){return window.location.reload()}}},{key:"refresh",value:function(){this.resultContext.setData({data:[],grouped:[],filters:[]},!0)}},{key:"openMapWindow",value:function(){var t=this.parentComponent.$("agora-result-map");console.log(t),t&&t.toogleMapWindow()}}],r&&ec(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function cc(t){return cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(t)}function lc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uc(){uc=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==cc(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(cc(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function fc(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pc(r.key),r)}}function pc(t){var e=function(t){if("object"!=cc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=cc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==cc(e)?e:e+""}function dc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dc=function(){return!!t})()}function gc(t){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gc(t)}function vc(t,e){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vc(t,e)}window.customElements.define("agora-action-bar",sc);var yc,mc,bc,wc,_c=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=gc(e),function(t,e){if(e&&("object"==cc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dc()?Reflect.construct(e,n||[],gc(t).constructor):e.apply(t,n))}(this,e,["agora-chat","".concat(z.COMPLEX_COMPONENTS,"/Chat/Chat.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.chatContext=new o("chat",t,!1),t.serviceContext=new o("service",t,!1),t.mockBotResponse=new a(-1,t),t.chatHistoryIsEmpty()&&t.fold(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(ac||(t=["\n            <agora-chat-window></agora-chat-window>\n            <agora-chat-input></agora-chat-input>\n        "],e||(e=t.slice(0)),ac=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"unfold",value:function(){this.wrapper.classList.remove("folded")}},{key:"fold",value:function(){this.wrapper.classList.add("folded")}},{key:"toogleFold",value:function(){this.wrapper.classList.toggle("folded")}},{key:"formatChatHistoryForLLM",value:function(){var t=this.chatContext.getData("history");if(!t)return[];for(var e=[],n=0;n<t.length;n+=2){var r=t.slice(n,n+2);e.push({user:r[0].content,assistant:r[1].content})}return e}},{key:"sendMessage",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){fc(i,r,o,a,s,"next",t)}function s(t){fc(i,r,o,a,s,"throw",t)}a(void 0)}))}}(uc().mark((function t(e){var n,r,o,i=this;return uc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ae(this.serviceContext.getData("services"),"model").map((function(t){var e=i.resultContext.getData("data")?i.resultContext.getData("data").find((function(e){return e.model===t.model})):null;return{model:t.model,description:"This is the model description",featured_element_ids:e?e.featured_element_ids:[]}})),r=this.formatChatHistoryForLLM(),this.$("agora-chat-window").addMessage(e,"user"),this.storeMessageInContext(e,"user"),this.setLoading(!0),t.next=7,Rt(this.configContext.getData("host"),e,n,r);case 7:o=t.sent,this.handleBotResponse(o.result);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setLoading",value:function(t){this.$("agora-chat-window").loading.setState(t),this.$("agora-chat-input").$("input").classList.toggle("blocked",t),this.$("agora-chat-input").$("input").disabled=t,this.$("agora-chat-input").$("input").setAttribute("placeholder",t?"Waiting for response...":"Type your message...")}},{key:"handleBotResponse",value:function(t){if(console.log("RESPONSE",t),t.message&&(this.$("agora-chat-window").addMessage(t.message,"bot"),this.setLoading(!1),this.storeMessageInContext(t.message,"bot"),t.result)){console.log("1. Response contains results");var e=t.result.filter((function(t){return t.element_ids.length>0}));if(console.log("2. Filtered (not empty) results are:",e),e.length>0){console.log("3. Results are not empty");var n=function(t){return function(t){if(Array.isArray(t))return lc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return lc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(this.serviceContext.getData("services").map((function(t){return{service:t.fields.name,models:ae(t,"model").map((function(t){return t.model}))}}))));return console.log("serviceModels",n),e.forEach((function(t){var e=n.find((function(e){return e.models.includes(t.model)})).service;t.service=e})),void this.resultContext.setData({data:t.result},!0)}}}},{key:"storeMessageInContext",value:function(t,e){var n=this.chatContext.getData("history");n?(n.push({content:t,author:e,time:(new Date).toLocaleTimeString()}),this.chatContext.setData({history:n})):this.chatContext.setData({history:[{content:t,author:e,time:(new Date).toLocaleTimeString()}]})}},{key:"chatHistoryIsEmpty",value:function(){return!this.chatContext.getData("history")||0===this.chatContext.getData("history").length}}],r&&hc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function Cc(t){var e=function(t){if("object"!=xc(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xc(e)?e:e+""}function Ec(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ec=function(){return!!t})()}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tc(t)}function jc(t,e){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jc(t,e)}window.customElements.define("agora-chat",_c);var Lc=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Tc(e),function(t,e){if(e&&("object"==xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ec()?Reflect.construct(e,n||[],Tc(t).constructor):e.apply(t,n))}(this,e,["agora-chat-window","".concat(z.MID_COMPONENTS,"/ChatWindow/ChatWindow.css")])).chatContext=new o("chat",t,!1),t.loading=new a(!1,t),t.messages=new a([],t),t.defaultPrompts=["Show me infrastructures","How can you help me?","I'm looking for projects","I want the latest featured projects"],t.signals=new i(t),t.signals.register("results-updated"),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jc(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return F(yc||(yc=Sc(['\n            <div \n                class="actions-wrapper"\n                style="','"\n            >\n                \x3c!-- Clear chat button --\x3e\n                    <div class="clear-chat-button ','">\n                    ','\n                </div>\n            </div>\n\n            \n\n            \x3c!-- Chat container --\x3e\n            <div class="chat-container">\n                ',"\n                ",'\n            </div>\n            \n            \x3c!-- Default prompts --\x3e\n            <div \n                class="default-prompt-wrapper"\n                style="','"\n            >\n                ',"\n            </div>\n\n            \n        "])),this.messages.getState().length>0?"":"display: none;",1===this.messages.getState().length?"fade-in":"",X,this.messages.getState().map((function(t){return F(mc||(mc=Sc(['\n                    <agora-chat-bubble \n                        author="','" \n                        time="','"\n                    >\n                        ',"\n                    </agora-chat-bubble>\n                "])),t.author,t.time,t.content)})).join(""),this.loading.getState()?F(bc||(bc=Sc(["<agora-chat-loader></agora-chat-loader>"]))):"",this.messages.getState().length>0?"display: none;":"",this.defaultPrompts.map((function(t){return F(wc||(wc=Sc(['\n                    <span class="prompt">',"</span>\n                "])),t)})).join(""))}},{key:"listeners",value:function(){var t=this;this.$(".clear-chat-button").onclick=function(){return t.clear()},this.$$(".prompt").forEach((function(e){e.onclick=function(){return t.addPrompt(e.innerText)}}))}},{key:"addPrompt",value:function(t){this.parentComponent.sendMessage(t)}},{key:"addMessage",value:function(t,e){var n={content:t,time:(new Date).toLocaleTimeString(),author:e};this.messages.setState([].concat(function(t){return function(t){if(Array.isArray(t))return kc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.messages.getState()),[n])),this.scrollToBottom(!0)}},{key:"scrollToBottom",value:function(t){var e=this;setTimeout((function(){var n=e.$(".chat-container");n.scrollTo({top:n.scrollHeight,behavior:t?"smooth":"auto"})}),100)}},{key:"load",value:function(){var t=this.chatContext.getData("history");t&&(this.messages.setState(t,!1),this.scrollToBottom(!1))}},{key:"clear",value:function(){this.chatContext.setData({history:[]},!1),this.messages.setState([]),this.signals.emit("results-updated")}}])&&Oc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);window.customElements.define("agora-chat-window",Lc);let Pc={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Ac(t){Pc=t}const $c={exec:()=>null};function Mc(t,e=""){let n="string"==typeof t?t:t.source;const r={replace:(t,e)=>{let o="string"==typeof e?e:e.source;return o=o.replace(Dc.caret,"$1"),n=n.replace(t,o),r},getRegex:()=>new RegExp(n,e)};return r}const Dc={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Ic=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Rc=/(?:[*+-]|\d{1,9}[.)])/,Nc=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Bc=Mc(Nc).replace(/bull/g,Rc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),zc=Mc(Nc).replace(/bull/g,Rc).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Fc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,qc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Gc=Mc(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Hc=Mc(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Rc).getRegex(),Uc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zc=Mc("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Vc).replace("tag",Uc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yc=Mc(Fc).replace("hr",Ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Uc).getRegex(),Wc={blockquote:Mc(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yc).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Gc,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Ic,html:Zc,lheading:Bc,list:Hc,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Yc,table:$c,text:/^[^\n]+/},Jc=Mc("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Uc).getRegex(),Xc={...Wc,lheading:zc,table:Jc,paragraph:Mc(Fc).replace("hr",Ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jc).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Uc).getRegex()},Qc={...Wc,html:Mc("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Vc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$c,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Mc(Fc).replace("hr",Ic).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Bc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Kc=/^( {2,}|\\)\n(?!\s*$)/,tl=/[\p{P}\p{S}]/u,el=/[\s\p{P}\p{S}]/u,nl=/[^\s\p{P}\p{S}]/u,rl=Mc(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,el).getRegex(),ol=/(?!~)[\p{P}\p{S}]/u,il=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,al=Mc(il,"u").replace(/punct/g,tl).getRegex(),sl=Mc(il,"u").replace(/punct/g,ol).getRegex(),cl="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ll=Mc(cl,"gu").replace(/notPunctSpace/g,nl).replace(/punctSpace/g,el).replace(/punct/g,tl).getRegex(),ul=Mc(cl,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,ol).getRegex(),fl=Mc("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nl).replace(/punctSpace/g,el).replace(/punct/g,tl).getRegex(),hl=Mc(/\\(punct)/,"gu").replace(/punct/g,tl).getRegex(),pl=Mc(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dl=Mc(Vc).replace("(?:--\x3e|$)","--\x3e").getRegex(),gl=Mc("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vl=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,yl=Mc(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",vl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ml=Mc(/^!?\[(label)\]\[(ref)\]/).replace("label",vl).replace("ref",qc).getRegex(),bl=Mc(/^!?\[(ref)\](?:\[\])?/).replace("ref",qc).getRegex(),wl={_backpedal:$c,anyPunctuation:hl,autolink:pl,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:Kc,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:$c,emStrongLDelim:al,emStrongRDelimAst:ll,emStrongRDelimUnd:fl,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:yl,nolink:bl,punctuation:rl,reflink:ml,reflinkSearch:Mc("reflink|nolink(?!\\()","g").replace("reflink",ml).replace("nolink",bl).getRegex(),tag:gl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:$c},_l={...wl,link:Mc(/^!?\[(label)\]\((.*?)\)/).replace("label",vl).getRegex(),reflink:Mc(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vl).getRegex()},xl={...wl,emStrongRDelimAst:ul,emStrongLDelim:sl,url:Mc(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kl={...xl,br:Mc(Kc).replace("{2,}","*").getRegex(),text:Mc(xl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sl={normal:Wc,gfm:Xc,pedantic:Qc},Ol={normal:wl,gfm:xl,breaks:kl,pedantic:_l},Cl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},El=t=>Cl[t];function Tl(t,e){if(e){if(Dc.escapeTest.test(t))return t.replace(Dc.escapeReplace,El)}else if(Dc.escapeTestNoEncode.test(t))return t.replace(Dc.escapeReplaceNoEncode,El);return t}function jl(t){try{t=encodeURI(t).replace(Dc.percentDecode,"%")}catch{return null}return t}function Ll(t,e){const n=t.replace(Dc.findPipe,((t,e,n)=>{let r=!1,o=e;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(Dc.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Dc.slashPipe,"|");return n}function Pl(t,e,n){const r=t.length;if(0===r)return"";let o=0;for(;o<r&&t.charAt(r-o-1)===e;)o++;return t.slice(0,r-o)}function Al(t,e,n,r,o){const i=e.href,a=e.title||null,s=t[1].replace(o.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,t}return{type:"image",raw:n,href:i,title:a,text:s}}class $l{options;rules;lexer;constructor(t){this.options=t||Pc}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Pl(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(null===r)return e;const o=r[1];return e.split("\n").map((t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[r]=e;return r.length>=o.length?t.slice(o.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=Pl(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Pl(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=Pl(e[0],"\n").split("\n"),n="",r="";const o=[];for(;t.length>0;){let e=!1;const i=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))i.push(t[a]),e=!0;else{if(e)break;i.push(t[a])}t=t.slice(a);const s=i.join("\n"),c=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${c}`:c;const l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,o,!0),this.lexer.state.top=l,0===t.length)break;const u=o.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){const e=u,i=e.raw+"\n"+t.join("\n"),a=this.blockquote(i);o[o.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,r=r.substring(0,r.length-e.text.length)+a.text;break}if("list"!==u?.type);else{const e=u,i=e.raw+"\n"+t.join("\n"),a=this.list(i);o[o.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,r=r.substring(0,r.length-e.raw.length)+a.raw,t=i.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let n=!1,r="",s="";if(!(e=i.exec(t)))break;if(this.rules.block.hr.test(t))break;r=e[0],t=t.substring(r.length);let c=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),l=t.split("\n",1)[0],u=!c.trim(),f=0;if(this.options.pedantic?(f=2,s=c.trimStart()):u?f=e[1].length+1:(f=e[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,s=c.slice(f),f+=e[1].length),u&&this.rules.other.blankLine.test(l)&&(r+=l+"\n",t=t.substring(l.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(f),n=this.rules.other.hrRegex(f),o=this.rules.other.fencesBeginRegex(f),i=this.rules.other.headingBeginRegex(f),a=this.rules.other.htmlBeginRegex(f);for(;t;){const h=t.split("\n",1)[0];let p;if(l=h,this.options.pedantic?(l=l.replace(this.rules.other.listReplaceNesting,"  "),p=l):p=l.replace(this.rules.other.tabCharGlobal,"    "),o.test(l))break;if(i.test(l))break;if(a.test(l))break;if(e.test(l))break;if(n.test(l))break;if(p.search(this.rules.other.nonSpaceChar)>=f||!l.trim())s+="\n"+p.slice(f);else{if(u)break;if(c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(c))break;if(i.test(c))break;if(n.test(c))break;s+="\n"+l}u||l.trim()||(u=!0),r+=h+"\n",t=t.substring(h.length+1),c=p.slice(f)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(s),p&&(h="[ ] "!==p[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:r,task:!!p,checked:h,loose:!1,text:s,tokens:[]}),o.raw+=r}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let t=0;t<o.items.length;t++)if(this.lexer.state.top=!1,o.items[t].tokens=this.lexer.blockTokens(o.items[t].text,[]),!o.loose){const e=o.items[t].tokens.filter((t=>"space"===t.type)),n=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));o.loose=n}if(o.loose)for(let t=0;t<o.items.length;t++)o.items[t].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:r}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const n=Ll(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const t of r)this.rules.other.tableAlignRight.test(t)?i.align.push("right"):this.rules.other.tableAlignCenter.test(t)?i.align.push("center"):this.rules.other.tableAlignLeft.test(t)?i.align.push("left"):i.align.push(null);for(let t=0;t<n.length;t++)i.header.push({text:n[t],tokens:this.lexer.inline(n[t]),header:!0,align:i.align[t]});for(const t of o)i.rows.push(Ll(t,i.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:i.align[e]}))));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=Pl(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),Al(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Al(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(r&&(!r[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,a=n,s=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=c.exec(e));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const e=[...r[0]][0].length,c=t.slice(0,n+r.index+e+i);if(Math.min(n,i)%2){const t=c.slice(1,-1);return{type:"em",raw:c,text:t,tokens:this.lexer.inlineTokens(t)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,n;if("@"===e[2])t=e[0],n="mailto:"+t;else{let r;do{r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(r!==e[0]);t=e[0],n="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class Ml{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Pc,this.options.tokenizer=this.options.tokenizer||new $l,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:Dc,block:Sl.normal,inline:Ol.normal};this.options.pedantic?(e.block=Sl.pedantic,e.inline=Ol.pedantic):this.options.gfm&&(e.block=Sl.gfm,this.options.breaks?e.inline=Ol.breaks:e.inline=Ol.gfm),this.tokenizer.rules=e}static get rules(){return{block:Sl,inline:Ol}}static lex(t,e){return new Ml(e).lex(t)}static lexInline(t,e){return new Ml(e).inlineTokens(t)}lex(t){t=t.replace(Dc.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){for(this.options.pedantic&&(t=t.replace(Dc.tabCharGlobal,"    ").replace(Dc.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);const n=e.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):e.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);const n=e.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}let o=t;if(this.options.extensions?.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const i=e.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):e.push(r),n=o.length!==t.length,t=t.substring(r.raw.length)}else if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let n=t,r=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)t.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,i="";for(;t;){let r;if(o||(i=""),o=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0))))continue;if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length);const n=e.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,n,i)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),e.push(r);continue}let a=t;if(this.options.extensions?.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((t=>{r=t.call({lexer:this},n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(r=this.tokenizer.inlineText(a)){t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),o=!0;const n=e.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):e.push(r)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class Dl{options;parser;constructor(t){this.options=t||Pc}space(t){return""}code({text:t,lang:e,escaped:n}){const r=(e||"").match(Dc.notSpaceStart)?.[0],o=t.replace(Dc.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Tl(r)+'">'+(n?o:Tl(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Tl(o,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let r="";for(let e=0;e<t.items.length;e++){const n=t.items[e];r+=this.listitem(n)}const o=e?"ol":"ul";return"<"+o+(e&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(t){let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=n+" "+Tl(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let e=0;e<t.header.length;e++)n+=this.tablecell(t.header[e]);e+=this.tablerow({text:n});let r="";for(let e=0;e<t.rows.length;e++){const o=t.rows[e];n="";for(let t=0;t<o.length;t++)n+=this.tablecell(o[t]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+r+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Tl(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const r=this.parser.parseInline(n),o=jl(t);if(null===o)return r;let i='<a href="'+(t=o)+'"';return e&&(i+=' title="'+Tl(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n}){const r=jl(t);if(null===r)return Tl(n);let o=`<img src="${t=r}" alt="${n}"`;return e&&(o+=` title="${Tl(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Tl(t.text)}}class Il{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class Rl{options;renderer;textRenderer;constructor(t){this.options=t||Pc,this.options.renderer=this.options.renderer||new Dl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Il}static parse(t,e){return new Rl(e).parse(t)}static parseInline(t,e){return new Rl(e).parseInline(t)}parse(t,e=!0){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=o,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){n+=e||"";continue}}const i=o;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let o=i,a=this.renderer.text(o);for(;r+1<t.length&&"text"===t[r+1].type;)o=t[++r],a+="\n"+this.renderer.text(o);n+=e?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}parseInline(t,e=this.renderer){let n="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions?.renderers?.[o.type]){const t=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=t||"";continue}}const i=o;switch(i.type){case"escape":case"text":n+=e.text(i);break;case"html":n+=e.html(i);break;case"link":n+=e.link(i);break;case"image":n+=e.image(i);break;case"strong":n+=e.strong(i);break;case"em":n+=e.em(i);break;case"codespan":n+=e.codespan(i);break;case"br":n+=e.br(i);break;case"del":n+=e.del(i);break;default:{const t='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return n}}class Nl{options;block;constructor(t){this.options=t||Pc}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ml.lex:Ml.lexInline}provideParser(){return this.block?Rl.parse:Rl.parseInline}}const Bl=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Rl;Renderer=Dl;TextRenderer=Il;Lexer=Ml;Tokenizer=$l;Hooks=Nl;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{const t=r;for(const r of t.header)n=n.concat(this.walkTokens(r.tokens,e));for(const r of t.rows)for(const t of r)n=n.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=r;n=n.concat(this.walkTokens(t.items,e));break}default:{const t=r;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((r=>{const o=t[r].flat(1/0);n=n.concat(this.walkTokens(o,e))})):t.tokens&&(n=n.concat(this.walkTokens(t.tokens,e)))}}return n}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let r=t.renderer.apply(this,e);return!1===r&&(r=n.apply(this,e)),r}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),n.extensions=e),t.renderer){const e=this.defaults.renderer||new Dl(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=t.renderer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new $l(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=t.tokenizer[r],i=e[r];e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new Nl;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=t.hooks[r],i=e[r];Nl.passThroughHooks.has(n)?e[r]=t=>{if(this.defaults.async)return Promise.resolve(o.call(e,t)).then((t=>i.call(e,t)));const n=o.call(e,t);return i.call(e,n)}:e[r]=(...t)=>{let n=o.apply(e,t);return!1===n&&(n=i.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,r=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(r.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ml.lex(t,e??this.defaults)}parser(t,e){return Rl.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const a=o.hooks?o.hooks.provideLexer():t?Ml.lex:Ml.lexInline,s=o.hooks?o.hooks.provideParser():t?Rl.parse:Rl.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(e):e).then((t=>a(t,o))).then((t=>o.hooks?o.hooks.processAllTokens(t):t)).then((t=>o.walkTokens?Promise.all(this.walkTokens(t,o.walkTokens)).then((()=>t)):t)).then((t=>s(t,o))).then((t=>o.hooks?o.hooks.postprocess(t):t)).catch(i);try{o.hooks&&(e=o.hooks.preprocess(e));let t=a(e,o);o.hooks&&(t=o.hooks.processAllTokens(t)),o.walkTokens&&this.walkTokens(t,o.walkTokens);let n=s(t,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(t){return i(t)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+Tl(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function zl(t,e){return Bl.parse(t,e)}function Fl(t){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(t)}var ql,Gl,Hl;function Ul(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zl(r.key),r)}}function Zl(t){var e=function(t){if("object"!=Fl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fl(e)?e:e+""}function Yl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yl=function(){return!!t})()}function Wl(t){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wl(t)}function Jl(t,e){return Jl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jl(t,e)}zl.options=zl.setOptions=function(t){return Bl.setOptions(t),zl.defaults=Bl.defaults,Ac(zl.defaults),zl},zl.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},zl.defaults=Pc,zl.use=function(...t){return Bl.use(...t),zl.defaults=Bl.defaults,Ac(zl.defaults),zl},zl.walkTokens=function(t,e){return Bl.walkTokens(t,e)},zl.parseInline=Bl.parseInline,zl.Parser=Rl,zl.parser=Rl.parse,zl.Renderer=Dl,zl.TextRenderer=Il,zl.Lexer=Ml,zl.lexer=Ml.lex,zl.Tokenizer=$l,zl.Hooks=Nl,zl.parse=zl,zl.options,zl.setOptions,zl.use,zl.walkTokens,zl.parseInline,Rl.parse,Ml.lex;var Xl,Ql=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Wl(e),function(t,e){if(e&&("object"==Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yl()?Reflect.construct(e,n||[],Wl(t).constructor):e.apply(t,n))}(this,e,["agora-chat-bubble","".concat(z.BASE_COMPONENTS,"/ChatBubble/ChatBubble.css")])).author=new a(t.getAttribute("author"),t),t.time=new a(t.getAttribute("time"),t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jl(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return F(ql||(ql=Ul(["\n            ",'\n            <div class="bubble ','">\n                <span class="bubble-content">','</span>\n                <div class="time">\n                    <span class="separator"></span>\n                    <span class="bubble-time">',"</span>\n                </div>\n            </div>\n            ","\n        "])),"bot"===this.author.getState()?F(Gl||(Gl=Ul(['<div class="little-bubble"></div>']))):"",this.author.getState(),this.formatMarkdown(this.textContent),this.formatTime(this.time.getState()),"user"===this.author.getState()?F(Hl||(Hl=Ul(['<div class="little-bubble"></div>']))):"")}},{key:"formatTime",value:function(t){var e=t.split(":")[0],n=t.split(":")[1],r=t.split(" ")[1];return"".concat(e,":").concat(n," ").concat(r.toLowerCase())}},{key:"formatMarkdown",value:function(t){return zl.setOptions({gfm:!0,breaks:!0}),zl.parse(t.trim())}}])&&Vl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Kl(t){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(t)}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eu(r.key),r)}}function eu(t){var e=function(t){if("object"!=Kl(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Kl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Kl(e)?e:e+""}function nu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nu=function(){return!!t})()}function ru(t){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(t)}function ou(t,e){return ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ou(t,e)}window.customElements.define("agora-chat-bubble",Ql);var iu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ru(e),function(t,e){if(e&&("object"==Kl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nu()?Reflect.construct(e,n||[],ru(t).constructor):e.apply(t,n))}(this,e,["agora-chat-input","".concat(z.BASE_COMPONENTS,"/ChatInput/ChatInput.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ou(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Xl||(t=['\n            <input type="text" placeholder="Type your message...">\n            \x3c!-- <button class="send-button">','</button> --\x3e\n            <button class="send-button">\n                ',"\n            </button>\n        "],e||(e=t.slice(0)),Xl=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),J,K);var t,e}},{key:"listeners",value:function(){var t=this;this.$("input").onkeydown=function(e){return t.handleIntro(e)},this.$("input").onfocus=function(){return t.parentComponent.unfold()},this.$(".send-button").onclick=function(){return t.parentComponent.toogleFold()}}},{key:"handleIntro",value:function(t){"Enter"===t.key&&this.sendMessage()}},{key:"sendMessage",value:function(){this.animateClick(),0!==this.$("input").value.length&&(this.parentComponent.sendMessage(this.$("input").value),this.$("input").value="")}},{key:"animateClick",value:function(){var t=this;this.$(".send-button").classList.add("clicked"),this.$(".send-button").onanimationend=function(){return t.$(".send-button").classList.remove("clicked")}}}],r&&tu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);window.customElements.define("agora-chat-input",iu);var au=function(){return"1"===new URLSearchParams(window.location.search).get("debug")};function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function cu(){cu=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==su(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(su(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function lu(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var uu,fu,hu,pu,du,gu=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){lu(i,r,o,a,s,"next",t)}function s(t){lu(i,r,o,a,s,"throw",t)}a(void 0)}))}}(cu().mark((function t(e,n){var r,o,i,a,s=arguments;return cu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:"auto",o=s.length>3&&void 0!==s[3]?s[3]:"en",t.prev=2,t.next=5,fetch("".concat(e,"/translate"),{method:"POST",body:JSON.stringify({q:n,source:r,target:o,format:"text",alternatives:1,api_key:""}),headers:{"Content-Type":"application/json"}});case 5:return i=t.sent,t.next=8,i.json();case 8:if((a=t.sent)&&a.translatedText){t.next=11;break}return t.abrupt("return",n);case 11:return t.abrupt("return",a.translatedText);case 14:return t.prev=14,t.t0=t.catch(2),console.warn("TRANSLATION SERVICE INFO\nThe translation service is not available.\nThe query will be searched in the original language.\nMore information: ".concat(t.t0,".\nProbably the host is blocking the request or doesn't have the service running.")),t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,n){return t.apply(this,arguments)}}();function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function yu(t){return function(t){if(Array.isArray(t))return mu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return mu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bu(){bu=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==vu(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(vu(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function wu(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){wu(i,r,o,a,s,"next",t)}function s(t){wu(i,r,o,a,s,"throw",t)}a(void 0)}))}}function xu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Su(r.key),r)}}function Su(t){var e=function(t){if("object"!=vu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vu(e)?e:e+""}function Ou(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ou=function(){return!!t})()}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(t)}function Eu(t,e){return Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eu(t,e)}var Tu,ju=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Cu(e),function(t,e){if(e&&("object"==vu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ou()?Reflect.construct(e,n||[],Cu(t).constructor):e.apply(t,n))}(this,e,["agora-searchbar","".concat(z.BASE_COMPONENTS,"/Searchbar/Searchbar.css")])).defaultTreshold=.135,t.configContext=new o("config",t,!1),t.resultContext=new o("result",t,!1),t.serviceContext=new o("service",t,!1),t.searchContext=new o("search",t,!1,"local"),t.languageContext=new o("language",t,!1,"local"),t.isLoading=new a(!1,t),t.currentSource=new a("all",t),t.currentQueryLanguage=new a({label:"English",value:"en"},t),t.queryLanguages=new a([{label:"English",value:"en"},{label:"Spanish",value:"es"},{label:"Catalan",value:"ca"},{label:"German",value:"de"},{label:"Italian",value:"it"},{label:"Portuguese",value:"pt"},{label:"Swedish",value:"sv"},{label:"French",value:"fr"},{label:"Fisnnish",value:"fi"},{label:"Polish",value:"pl"}],t),t.signals=new i(t),t.signals.register("results-updated"),t.signals.register("no-results"),t.signals.register("no-data-models"),t.loadPreferredLanguage(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eu(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t,e;return F(uu||(uu=xu(['\n        \x3c!-- Query Language Selector --\x3e\n        <div class="language-selector">\n          \x3c!-- Language Options --\x3e\n          \n          <ul class="query-language-selector hidden">\n            ','\n          </ul>\n\n          \x3c!-- Language Label --\x3e\n          <div class="query-language-selector-label-wrapper">\n            <span class="query-language-selector-label">','</span>\n            <span class="query-language-selector-hint">Select your search language for better results</span>\n          </div>\n        </div>\n\n        \x3c!-- Score Treshold --\x3e\n        <div class="treshold">\n          ','\n        </div>\n\n        \x3c!-- Searchbar Input --\x3e\n        <input \n          class="searchbar-input folded" \n          type="text" \n          placeholder="','"/>\n        <span class="agora-logo">','</span>\n        <button class="searchbar-button">','</button>\n\n        \x3c!-- Searchbar Spinner --\x3e\n        <div class="searchbar-spinner">\n          <div class="ball-1"></div>\n          <div class="ball-2"></div>\n          <div class="ball-3"></div>\n        </div>\n\n        \x3c!-- Autocomplete Dropdown --\x3e\n        <ul class="autocomplete-dropdown"></ul>\n    '])),this.queryLanguages.getState().map((function(t,e){var n=t.label,r=t.value;return F(fu||(fu=xu(['\n                  <li \n                    class="query-language-option slide-in" \n                    data-value=','\n                    style="animation-delay: ','s"\n                  >\n                    <span class="query-language-option-label">',"</span>\n                  </li>\n                "])),r,.02*e,n)})).join(""),null!==(t=null===(e=this.currentQueryLanguage.getState())||void 0===e?void 0:e.label)&&void 0!==t?t:"English",au()?F(hu||(hu=xu(['\n                <input type="range" min="0" max="1" value="0.35" step="0.01" id="treshold"/>\n                <label class="treshold-label" for="treshold">A: 0.35</label>\n              ']))):F(pu||(pu=xu([""]))),this.searchContext.getData("current")&&this.searchContext.getData("current").length>0?"".concat(this.searchContext.getData("current").join(" ")):"Search...",K,st)}},{key:"listeners",value:function(){var t=this;this.$(".searchbar-input").onkeydown=function(e){return t.handleKeyDown(e)},this.$(".searchbar-input").onfocus=function(){return t.unfold()},this.$(".searchbar-input").onblur=function(){return t.fold()},this.$(".searchbar-input").oninput=function(){return t.autocompleteWhileTyping()},this.$(".searchbar-button").onclick=function(){return t.query()},this.$("#treshold")&&(this.$("#treshold").oninput=function(e){return t.$(".treshold-label").innerHTML="A: ".concat(e.target.value)}),this.$(".query-language-selector-label").onclick=function(){return t.toggleLanguageSelector()},this.$$(".query-language-option").forEach((function(e){e.onclick=function(){return t.changeQueryLanguage(e.textContent,e.dataset.value)}}))}},{key:"changeQueryLanguage",value:function(t,e){this.$(".query-language-selector-label").textContent=t,this.toggleLanguageSelector(),this.languageContext.setData({label:t,value:e},!1),this.currentQueryLanguage.setState({label:t,value:e},!1)}},{key:"loadPreferredLanguage",value:function(){var t=this.languageContext.getData("label"),e=this.languageContext.getData("value");this.currentQueryLanguage.setState({label:t,value:e},!1)}},{key:"toggleLanguageSelector",value:function(){this.$(".query-language-selector").classList.toggle("hidden")}},{key:"query",value:(c=_u(bu().mark((function t(){var e,n,r,o,i,a,s,c,l,u;return bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.$(".searchbar-input").value.length){t.next=2;break}return t.abrupt("return");case 2:return this.showSpinner(),r=null!==(e=null===(n=this.currentQueryLanguage.getState())||void 0===n?void 0:n.value)&&void 0!==e?e:"en",t.next=6,gu(this.configContext.getData("translation_host"),this.$(".searchbar-input").value,r,"en");case 6:if(o=t.sent,(i=this.serviceContext.getData("services"))&&0!==i.length){t.next=12;break}return this.signals.emit("no-data-models"),this.hideSpinner(),t.abrupt("return");case 12:if(0!==(a="all"===this.currentSource.getState()?ae(i,"model").map((function(t){return t.model})):[this.currentSource.getState()]).length){t.next=17;break}return this.signals.emit("no-data-models"),this.hideSpinner(),t.abrupt("return");case 17:return s={raw:this.$(".searchbar-input").value,translated:o},t.prev=18,t.next=21,Nt(this.configContext.getData("host"),s.translated,a);case 21:c=t.sent,t.next=44;break;case 24:if(t.prev=24,t.t0=t.catch(18),t.prev=26,!(l=JSON.parse(t.t0.message)).missing_model){t.next=37;break}return t.next=31,this.requestModelDataIngestion(l.missing_model);case 31:if(!(u=t.sent)){t.next=36;break}return console.error("ELASTICSEARCH INGESTION ERROR\n".concat(u)),this.hideSpinner(),t.abrupt("return");case 36:this.query();case 37:t.next=42;break;case 39:throw t.prev=39,t.t1=t.catch(26),t.t0;case 42:return this.hideSpinner(),t.abrupt("return");case 44:this.hideSpinner();try{this.handleResponse(s,c)}catch(t){console.error("Error while handling the response: ",t)}this.$(".searchbar-input").placeholder=s.raw,this.$(".searchbar-input").value="";case 48:case"end":return t.stop()}}),t,this,[[18,24],[26,39]])}))),function(){return c.apply(this,arguments)})},{key:"requestModelDataIngestion",value:(s=_u(bu().mark((function t(e){return bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.warn("ELASTICSEARCH IS INGESTING\nIngesting missing data from the model: '".concat(e,"' into Elasticsearch")),t.next=4,Bt(this.configContext.getData("host"),e);case 4:return t.abrupt("return",null);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return s.apply(this,arguments)})},{key:"showSpinner",value:function(){this.isLoading.setState(!0,!1),this.$(".searchbar-spinner").style.display="flex",this.$(".searchbar-button").classList.add("disabled")}},{key:"hideSpinner",value:function(){this.isLoading.setState(!1,!1),this.$(".searchbar-spinner").style.display="none",this.$(".searchbar-button").classList.remove("disabled")}},{key:"handleResponse",value:function(t,e){var n=this;if(0===e.results.length)return this.resultContext.setData({grouped:s,data:a},!0),void this.signals.emit("no-results");this.storeQueryInContext(t);var r=yu(new Set(this.serviceContext.getData("services").map((function(t){return{service:t.fields.name,models:ae(t,"model").map((function(t){return t.model}))}}))));e.results.forEach((function(t){var e=r.find((function(e){return e.models.includes(t.model)})),n=e?e.service:void 0;n?t.service=n:(console.warn("No service found for model: ".concat(t.model)),t.service="unknown")}));var o=ae(this.serviceContext.getData("services"),"websites").flatMap((function(t){return t.websites})),i=e.results.sort((function(t,e){return e.score-t.score})).map((function(t){var r=o.find((function(e){return e.model===t.model})).name,i=o.find((function(e){return e.model===t.model})).website,a=o.find((function(e){return e.model===t.model})).url;return{model:t.model,model_verbose_name:r,model_view_url:"".concat(i).concat(a),service:t.service,featured_fields:t.featured_fields||["web_link","url","website"],featured:t.featured||!1,data:t.data,roots:t.roots,score:{absolute:Number(t.score/n.getMaxScore(e.results)).toFixed(2),relative:Number(t.score/n.getGroupMaxScore(e.results,t.service)).toFixed(2)}}})),a=this.applyScoreTreshold(i,"absolute"),s=yu(new Set(a.map((function(t){return t.service})))).sort().map((function(t){var e=a.filter((function(e){return e.service===t}));return{service:t,items:e}}));this.resultContext.setData({grouped:s,data:a},!0),this.signals.emit("results-updated",s)}},{key:"getMaxScore",value:function(t){return Math.max.apply(Math,yu(t.map((function(t){return t.score}))))}},{key:"getGroupMaxScore",value:function(t,e){return Math.max.apply(Math,yu(t.filter((function(t){return t.service===e})).map((function(t){return t.score}))))}},{key:"applyScoreTreshold",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absolute",n=this.defaultTreshold;return au()&&(n=this.$("#treshold").value),"absolute"===e?t.filter((function(t){return t.score.absolute>=n})):"relative"===e?t.filter((function(t){return t.score.relative>=n})):void 0}},{key:"storeQueryInContext",value:function(t){var e=this.searchContext.getData("history")||[];this.searchContext.setData({history:yu(new Set([].concat(yu(e),[t.raw]))),current:t.translated.split(" ")},!1)}},{key:"handleKeyDown",value:function(t){"Enter"===t.key&&(this.toogleAutocompleteDropdown("fold"),this.query()),"Tab"===t.key&&(t.preventDefault(),Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")}))?(this.autocompleteFromDropdown(),this.toogleAutocompleteDropdown("fold")):this.autocompleteFromPlaceholder(t)),"ArrowUp"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("up")),"ArrowDown"===t.key&&(t.preventDefault(),this.moveThroughAutocompleteOptions("down"))}},{key:"unfold",value:function(){this.$(".searchbar-input").classList.remove("folded")}},{key:"fold",value:function(){var t=this;setTimeout((function(){t.$(".searchbar-input").classList.add("folded")}),100)}},{key:"autocompleteWhileTyping",value:function(){var t=this,e=this.searchContext.getData("history")||[],n=this.$(".autocomplete-dropdown");if(0!==e.length){var r=this.$(".searchbar-input").value;if(0!==r.length){var o=r.length,i=e.filter((function(t){return t.slice(0,o)===r}));n.innerHTML="",i.forEach((function(e){var r=document.createElement("li");r.innerHTML=F(du||(du=xu(['\n        <div class="match-container">\n          <span class="match highlighted">','</span>\n          <span class="match">','</span>\n        </div>\n        <span class="tab-word">TAB</span>\n      '])),e.slice(0,o),e.slice(o)),t.setupAutocompleteOptionListener(r),n.appendChild(r)}));var a=n.children[0];a&&a.classList.add("selected-match")}else n.innerHTML=""}}},{key:"autocompleteFromDropdown",value:function(){var t=Array.from(this.$(".autocomplete-dropdown").children).find((function(t){return t.classList.contains("selected-match")})).querySelector(".match-container").innerText;this.$(".searchbar-input").value=t,this.$(".searchbar-input").focus()}},{key:"autocompleteFromPlaceholder",value:function(){var t=this.$(".searchbar-input").placeholder;this.$(".searchbar-input").value=t,this.$(".searchbar-input").focus()}},{key:"autocompleteFromSuggestedTag",value:function(t){this.$(".searchbar-input").value=t}},{key:"setupAutocompleteOptionListener",value:function(t){var e=this;t.onmouseenter=function(){return e.handleMatchOptionHover(t)},t.onmouseleave=function(){return t.classList.remove("selected-match")},t.onclick=function(){e.autocompleteFromDropdown(),e.toogleAutocompleteDropdown("fold"),e.$(".searchbar-input").blur()}}},{key:"handleMatchOptionHover",value:function(t){var e=this.$(".autocomplete-dropdown");Array.from(e.children).forEach((function(t){t.classList.remove("selected-match")})),t.classList.add("selected-match")}},{key:"moveThroughAutocompleteOptions",value:function(t){var e=this.$(".autocomplete-dropdown"),n=Array.from(e.children).find((function(t){return t.classList.contains("selected-match")})),r=Array.from(e.children).indexOf(n);if(n){if("up"===t){if(0===r)return e.children[e.children.length-1].classList.add("selected-match"),void e.children[r].classList.remove("selected-match");e.children[r-1].classList.add("selected-match"),e.children[r].classList.remove("selected-match")}else if("down"===t){if(r===e.children.length-1)return e.children[0].classList.add("selected-match"),void e.children[r].classList.remove("selected-match");e.children[r+1].classList.add("selected-match"),e.children[r].classList.remove("selected-match")}}else e.children[0].classList.add("selected-match")}},{key:"toogleAutocompleteDropdown",value:function(t){"unfold"===t?this.$(".autocomplete-dropdown").style.height="100px":"fold"===t&&(this.$(".autocomplete-dropdown").innerHTML="")}},{key:"isDebugMode",value:function(){return"1"===new URLSearchParams(window.location.search).get("debug")}}],r&&ku(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s,c}(r);function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Pu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Au(r.key),r)}}function Au(t){var e=function(t){if("object"!=Lu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Lu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lu(e)?e:e+""}function $u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($u=function(){return!!t})()}function Mu(t){return Mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mu(t)}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}window.customElements.define("agora-searchbar",ju);var Iu,Ru,Nu,Bu,zu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Mu(e),function(t,e){if(e&&("object"==Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$u()?Reflect.construct(e,n||[],Mu(t).constructor):e.apply(t,n))}(this,e,["agora-layout-v1","".concat(z.LAYOUT_COMPONENTS,"/v1/v1.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Tu||(t=['\n            \x3c!-- Greetings --\x3e\n            <div class="greetings a">\n                <span>Hi there, <em>John</em></span><br>\n                <span>How could I help you?</span>\n                <p class="greetings-description">\n                    You can navigate directly through our acceleration services \n                    or ask our assistant to guide you through the process of finding resources.\n                </p>\n            </div>\n            <div class="logo b">\n                <span class="agora-name">Agora</span>\n                <span class="alliance-name">Unite!</span>\n            </div>\n            <div class="showcase c">\n                <agora-showcase></agora-showcase> \n            </div>\n            <div class="greetings d"></div>\n        '],e||(e=t.slice(0)),Tu=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],r&&Pu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Fu(t){return Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(t)}function qu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hu(r.key),r)}}function Hu(t){var e=function(t){if("object"!=Fu(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Fu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fu(e)?e:e+""}function Uu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Uu=function(){return!!t})()}function Vu(t){return Vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(t)}function Zu(t,e){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zu(t,e)}window.customElements.define("agora-layout-v1",zu);var Yu,Wu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Vu(e),function(t,e){if(e&&("object"==Fu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Uu()?Reflect.construct(e,n||[],Vu(t).constructor):e.apply(t,n))}(this,e,["agora-layout-v2","".concat(z.LAYOUT_COMPONENTS,"/v2/v2.css")])).configContext=new o("config",t,!1),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zu(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return F(Iu||(Iu=qu(['\n            <main class="main">\n                \x3c!-- Action Bar --\x3e\n                <agora-action-bar></agora-action-bar>\n\n                \x3c!-- Agora Result Map --\x3e\n                \x3c!-- <agora-result-map></agora-result-map> --\x3e\n\n                \x3c!-- Left Side --\x3e\n                <div class="left">\n                    \x3c!-- Navigator --\x3e\n                    <div class="navigator-wrapper">\n                        <agora-navigator></agora-navigator>\n                    </div>\n\n                    \x3c!-- Map Visualizer --\x3e\n                    <agora-map-visualizer></agora-map-visualizer>\n                </div>\n\n                \x3c!-- Right Side --\x3e\n                <div class="right">\n\n                    \x3c!-- Greetings and Showcase --\x3e\n                    <div class="showcase">\n                        <agora-landing></agora-landing>\n                    </div>\n\n                    \x3c!-- Results --\x3e\n                    <agora-result-window></agora-result-window>\n                </div>\n            </main>\n\n            \x3c!-- Chat or Searchbar --\x3e\n            ','\n\n            \x3c!-- Pin Box --\x3e\n            \x3c!--\n            <div class="pinbox-unfold-button">','</div>\n            <agora-pin-box></agora-pin-box>\n            --\x3e\n\n            \x3c!-- Carousel --\x3e\n            <agora-card-info-carousel></agora-card-info-carousel>\n\n            \x3c!-- Bottom Fade --\x3e\n            <div class="bottom-fade"></div>\n\n            \x3c!-- Metagora Navigator --\x3e\n            ',"\n        "])),this.configContext.getData("enabled_ai")?F(Ru||(Ru=qu(['<agora-chat class="chat"></agora-chat>']))):F(Nu||(Nu=qu(['<agora-searchbar class="searchbar"></agora-searchbar>']))),Q,"Metagora"===this.configContext.getData("name")?F(Bu||(Bu=qu(["<agora-metagora-navigator></agora-metagora-navigator>"]))):"")}},{key:"listeners",value:function(){var t=this;this.$(".pinbox-unfold-button")&&(this.$(".pinbox-unfold-button").onclick=function(){return t.tooglePinBox()})}},{key:"tooglePinBox",value:function(){this.$(".pinbox-unfold-button").classList.toggle("unfolded"),this.$("agora-pin-box").toogleFold()}}])&&Gu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function Xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qu(r.key),r)}}function Qu(t){var e=function(t){if("object"!=Ju(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ju(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ju(e)?e:e+""}function Ku(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ku=function(){return!!t})()}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tf(t)}function ef(t,e){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ef(t,e)}window.customElements.define("agora-layout-v2",Wu);var nf,rf=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=tf(e),function(t,e){if(e&&("object"==Ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ku()?Reflect.construct(e,n||[],tf(t).constructor):e.apply(t,n))}(this,e,["agora-chat-loader","".concat(z.BASE_COMPONENTS,"/ChatLoader/ChatLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ef(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Yu||(t=['\n            <div class="circle a"></div>\n            <div class="circle b"></div>\n            <div class="circle c"></div>\n        '],e||(e=t.slice(0)),Yu=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}],r&&Xu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function of(t){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(t)}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sf(r.key),r)}}function sf(t){var e=function(t){if("object"!=of(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==of(e)?e:e+""}function cf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cf=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lf(t)}function uf(t,e){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uf(t,e)}window.customElements.define("agora-chat-loader",rf);var ff,hf,pf,df,gf,vf,yf,mf,bf,wf,_f,xf=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=lf(e),function(t,e){if(e&&("object"==of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cf()?Reflect.construct(e,n||[],lf(t).constructor):e.apply(t,n))}(this,e,["agora-base-loader","".concat(z.BASE_COMPONENTS,"/BaseLoader/BaseLoader.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uf(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(nf||(t=["\n            ","\n        "],e||(e=t.slice(0)),nf=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),K);var t,e}}],r&&af(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function kf(t){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(t)}function Sf(){Sf=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==kf(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(kf(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Of(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Cf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tf(r.key),r)}}function Tf(t){var e=function(t){if("object"!=kf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kf(e)?e:e+""}function jf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jf=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lf(t)}function Pf(t,e){return Pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pf(t,e)}window.customElements.define("agora-base-loader",xf);var Af,$f,Mf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Lf(e),function(t,e){if(e&&("object"==kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jf()?Reflect.construct(e,n||[],Lf(t).constructor):e.apply(t,n))}(this,e,["agora-dynamic-card","".concat(z.BASE_COMPONENTS,"/DynamicCard/DynamicCard.css")])).configContext=new o("config",t,!1),t.serviceContext=new o("service",t,!1),t.data=new a(null,t),t.enableDrag(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pf(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return this.highlightIfFeatured(),this.hideIfNotFeatured(),F(ff||(ff=Cf(["\n            ","\n        "])),this.build())}},{key:"listeners",value:function(){var t=this;this.wrapper.ondragstart=function(e){return t.handleDrag(e)},this.wrapper.ondragend=function(e){return t.handleDrop(e)},this.wrapper.onclick=function(){return t.openInfoDialog()},this.$(".card-image").onload=function(){return t.replaceImageIfItsPlaceholder()}}},{key:"build",value:function(){var t;this.data.setState(JSON.parse(this.dataset.data),!1);var e=F(hf||(hf=Cf(['<img class="card-image" src="',"/web/image?model=","&id=",'&field=image"/>'])),this.configContext.getData("host"),this.getAttribute("model"),this.id.split("-")[1]),n=this.data.getState().name?F(pf||(pf=Cf(['<span class="card-name">',"</span>"])),this.data.getState().name):null,r=this.data.getState().lastname?F(df||(df=Cf(['<span class="card-lastname">',"</span>"])),this.data.getState().lastname):null,o=this.data.getState().summary?F(gf||(gf=Cf(['<span class="card-summary">',"</span>"])),this.data.getState().summary):null,i=this.data.getState().description?F(vf||(vf=Cf(['<span class="card-summary">',"</span>"])),this.data.getState().description):null,a=this.data.getState().content?F(yf||(yf=Cf(['<span class="card-summary">',"</span>"])),this.data.getState().content):null,s=this.data.getState().university_origin||this.data.getState().home_partner_institution?F(mf||(mf=Cf(['<span class="card-origin">',"</span>"])),null!==(t=this.data.getState().university_origin)&&void 0!==t?t:this.data.getState().home_partner_institution):null,c=Math.round(10*Number(this.getAttribute("absolute-score")));(isNaN(c)||0===c)&&(c="~");var l=this.data.getState().featured;return F(bf||(bf=Cf(['\n            <div class="catalogue">',"</div>\n            ",'\n            <div class="card-content">\n                ',"\n                ","\n                ",'\n                <div class="separator"></div>\n                ',"\n                ","\n                ",'\n                <div class="fill-space"></div>\n\n                <div class="additional-info">\n                    ','\n                    <div \n                        class="public-score" \n                        title="This score represents the relevance of this\nitem in the search results."\n                        style="filter: hue-rotate(','deg);"\n                    >',"</div>\n                    ",'\n                </div>\n                <span \n                    class="score" \n                    title="(A)bsolute and (R)elative (to the group) scores"\n                    style="','"\n                >\n                        A: ',", R: ","\n                </span>\n            </div>\n        "],['\n            <div class="catalogue">',"</div>\n            ",'\n            <div class="card-content">\n                ',"\n                ","\n                ",'\n                <div class="separator"></div>\n                ',"\n                ","\n                ",'\n                <div class="fill-space"></div>\n\n                <div class="additional-info">\n                    ','\n                    <div \n                        class="public-score" \n                        title="This score represents the relevance of this\\nitem in the search results."\n                        style="filter: hue-rotate(','deg);"\n                    >',"</div>\n                    ",'\n                </div>\n                <span \n                    class="score" \n                    title="(A)bsolute and (R)elative (to the group) scores"\n                    style="','"\n                >\n                        A: ',", R: ","\n                </span>\n            </div>\n        "])),this.getAttribute("model-verbose-name"),e,s,n,r,o,i,a,l?F(wf||(wf=Cf(['\n                                <span title="This element is featured by Agora" class="featured-badge">\n                                    ',"\n                                </span>\n                            "])),K):"",20*(c-10),c,this.wrapper.classList.contains("featured")?F(_f||(_f=Cf(['\n                                \x3c!-- <span title="This element is recommended by AIDA" class="featured-badge">\n                                    ',"\n                                </span>--\x3e"])),K):"",au()?"":"display:none",this.getAttribute("absolute-score"),this.getAttribute("relative-score"))}},{key:"openInfoDialog",value:function(){var t,e,n,r,o,i,a=document.querySelector("agora-app"),s={id:this.data.getState().id,src:null!==(t="".concat(this.configContext.getData("host"),"/web/image?model=").concat(this.getAttribute("model"),"&id=").concat(this.id.split("-")[1],"&field=image"))&&void 0!==t?t:"",name:null!==(e=this.data.getState().name)&&void 0!==e?e:"",lastname:null!==(n=this.data.getState().lastname)&&void 0!==n?n:"",summary:null!==(r=null!==(o=this.data.getState().summary)&&void 0!==o?o:this.data.getState().description)&&void 0!==r?r:"",university_origin:this.data.getState().university_origin?this.data.getState().university_origin[1]:"",href:null!==(i=this.getAttribute("href"))&&void 0!==i?i:"",additional_fields:this.parseAdditionalFields(),data:this.data.getState(),has_image:!this.wrapper.classList.contains("no-image")};a.openInfoDialog(s)}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"replaceImageIfItsPlaceholder",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Of(i,r,o,a,s,"next",t)}function s(t){Of(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Sf().mark((function t(){var e,n;return Sf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:256===(e=this.$(".card-image")).naturalWidth&&256===e.naturalHeight&&(this.wrapper.classList.add("no-image"),(n=document.createElement("div")).classList.add("card-image"),n.classList.add("default-image-0"),e.remove(),this.wrapper.insertBefore(n,this.wrapper.firstChild));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getDefaultImageIndex",value:function(){return Math.floor(6*Math.random())}},{key:"highlightIfFeatured",value:function(){this.hasAttribute("featured")&&this.wrapper.classList.add("featured")}},{key:"hideIfNotFeatured",value:function(){this.hasAttribute("featured")||(this.style.display="none")}},{key:"enableDrag",value:function(){this.wrapper.draggable=!0}},{key:"handleDrag",value:function(t){this.wrapper.classList.add("ondrag"),t.dataTransfer.setData("data",JSON.stringify(this.data.getState())),t.dataTransfer.setData("id",this.id),t.dataTransfer.setData("model",this.getAttribute("model")),t.dataTransfer.setData("href",this.getAttribute("href")),t.dataTransfer.setData("featured-fields",this.getAttribute("featured-fields")),t.dataTransfer.setData("featured",this.hasAttribute("featured"))}},{key:"handleDrop",value:function(t){this.wrapper.classList.remove("ondrag")}}],r&&Ef(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r);function Df(t){return Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(t)}function If(){If=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",v={};function y(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,a)&&(w=x);var k=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Df(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?g:p,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Df(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function Rf(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Nf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zf(r.key),r)}}function zf(t){var e=function(t){if("object"!=Df(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Df(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Df(e)?e:e+""}function Ff(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ff=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qf(t)}function Gf(t,e){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gf(t,e)}window.customElements.define("agora-dynamic-card",Mf);var Hf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=qf(e),function(t,e){if(e&&("object"==Df(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ff()?Reflect.construct(e,n||[],qf(t).constructor):e.apply(t,n))}(this,e,["agora-pin-card","".concat(z.BASE_COMPONENTS,"/PinCard/PinCard.css")])).configContext=new o("config",t,!1),t.data=new a(JSON.parse(t.dataset.data),t),t.loadAttributes(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gf(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=JSON.parse(this.dataset.data),e="".concat(this.configContext.getData("host"),"/web/image?model=").concat(t.model,"&id=").concat(t.id.split("-")[1],"&field=image");return F(Af||(Af=Nf(['\n            <div class="image-wrapper">\n                <img class="image" src="','" />\n            </div>\n            <span class="name">','</span>\n            <div class="icon-wrapper">\n                <span class="info-icon">','</span>\n                <span class="delete-icon">',"</span>\n            </div>\n        "])),e,t.data.name,et,tt)}},{key:"listeners",value:function(){var t=this;this.$(".info-icon").onclick=function(){return t.openInfo()},this.$(".delete-icon").onclick=function(){return t.delete()},this.$(".image").onload=function(){return t.replaceImageIfItsPlaceholder()}}},{key:"loadAttributes",value:function(){this.id=this.data.getState().id,this.setAttribute("model",this.data.getState().model),this.setAttribute("href",this.data.getState().href),this.setAttribute("featured-fields",this.data.getState().featured_fields),this.setAttribute("featured",this.data.getState().featured),this.data.setState(this.data.getState().data,!1)}},{key:"replaceImageIfItsPlaceholder",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Rf(i,r,o,a,s,"next",t)}function s(t){Rf(i,r,o,a,s,"throw",t)}a(void 0)}))}}(If().mark((function t(){var e,n;return If().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:256===(e=this.$(".image")).naturalWidth&&256===e.naturalHeight&&(this.wrapper.classList.add("no-image"),(n=document.createElement("div")).classList.add("card-image"),n.classList.add("default-image"),e.remove(),this.$(".image-wrapper").appendChild(n));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"openInfo",value:function(){var t,e,n,r,o,i,a=document.querySelector("agora-app").$(".card-info-dialog");document.querySelector("agora-app").$(".carousel-controls").style.display="none",a.classList.add("fade-in"),a.classList.remove("no-image"),this.wrapper.classList.contains("no-image")&&a.classList.add("no-image"),a.querySelector(".card-info-image").src=null!==(t="".concat(this.configContext.getData("host"),"/web/image?model=").concat(this.getAttribute("model"),"&id=").concat(this.id.split("-")[1],"&field=image"))&&void 0!==t?t:"",a.querySelector(".card-info-name").textContent=null!==(e=this.data.getState().name)&&void 0!==e?e:"",a.querySelector(".card-info-lastname").innerHTML=null!==(n=this.data.getState().lastname)&&void 0!==n?n:"",a.querySelector(".card-info-summary").innerHTML=null!==(r=null!==(o=this.data.getState().summary)&&void 0!==o?o:this.data.getState().description)&&void 0!==r?r:"",a.querySelector(".card-info-origin").textContent=this.data.getState().university_origin?this.data.getState().university_origin[1]:"",a.querySelector(".card-info-explore-button").dataset.url=null!==(i=this.getAttribute("href"))&&void 0!==i?i:"",this.displayAdditionalFieldsInDialog(a),a.showModal(),a.scrollTo(0,0)}},{key:"displayAdditionalFieldsInDialog",value:function(t){var e=this,n=this.parseAdditionalFields();if(0===n.length&&t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").remove();else{if(t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").innerHTML="";else{var r=document.createElement("div");r.classList.add("card-info-additional-fields"),t.querySelector(".card-info-content").appendChild(r)}n.forEach((function(n){if(e.data.getState()[n]){var r=n.replace(/_/g," ");r=r.toUpperCase();var o=F($f||($f=Nf(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),r,e.data.getState()[n]);t.querySelector(".card-info-additional-fields").innerHTML+=o}}))}}},{key:"parseAdditionalFields",value:function(){return this.getAttribute("featured-fields").split(",")}},{key:"delete",value:function(){this.parentComponent.removePinnedCard(this.id)}}],r&&Bf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r);window.customElements.define("agora-pin-card",Hf);var Uf,Vf,Zf,Yf,Wf;function Jf(t){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(t)}function Xf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,th(r.key),r)}}function th(t){var e=function(t){if("object"!=Jf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Jf(e)?e:e+""}function eh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eh=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nh(t)}function rh(t,e){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rh(t,e)}var oh,ih,ah=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=nh(e),function(t,e){if(e&&("object"==Jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,eh()?Reflect.construct(e,n||[],nh(t).constructor):e.apply(t,n))}(this,e,["agora-result-window","".concat(z.MID_COMPONENTS,"/ResultWindow/ResultWindow.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.serviceContext=new o("service",t,!0),t.signals=new i(t),t.signals.register("cards-fetched"),t.signals.register("display-no-results"),t.signals.register("display-no-data-models"),t.signals.register("clear-error-messages"),t.builtResults=new a([],t),t.isLoading=new a(!1,t),t.isFiltered=new a(!1,t),t.scrollInterval=null,t.currentScrollSpeed=0,t.scrollTreshold=.2,t.scrollSpeed=.25,t.speedMultiplier=6,!t.configContext.getData("enabled_ai")&&t.clear(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rh(t,e)}(e,t),n=e,r=[{key:"template",value:function(){var t=this,e=(this.resultContext.getData("data")?function(t){return function(t){if(Array.isArray(t))return Qf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qf(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qf(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(this.resultContext.getData("data").map((function(t){return t.service})))).sort():[]).map((function(e){var n=t.resultContext.getData("data").filter((function(t){return t.service===e}));return{service:e,items:n}}));if(this.isFiltered.getState()){var n=this.resultContext.getData("filters").filter((function(t){return t.service})).map((function(t){return t.service}));this.resultContext.getData("filters").filter((function(t){return t.model})).map((function(t){return t.model})),e=e.filter((function(t){return n.includes(t.service)}))}return 0===e.length?this.style.display="none":this.style.display="block",F(Uf||(Uf=Xf(['\n            \x3c!-- No Results Message --\x3e\n            <div class="no-results-message" style="display: none;">\n                <h1>No results found</h1>\n                <p>Try changing the search terms.</p>\n            </div>\n\n            <div class="no-data-models-message" style="display: none;">\n                <h1>No data models found</h1>\n                <p>Contact the service provider or the administrator to get access to the data.</p>\n                <br>\n                <p>\n                    Model views should be configured in the acceleration services module.<br>\n                    If a model doesn\'t have a view (website) assigned, it will not be displayed in the results<br>\n                    since its elements wouldn\'t be accessible beyond the search interface.\n                </p>\n            </div>\n\n            \x3c!-- Result counter --\x3e\n            \x3c!-- TODO --\x3e\n\n            \x3c!-- Cards --\x3e\n            <div class="card-wrapper">\n                ','\n            </div>\n\n            \x3c!-- Greetings --\x3e\n            <agora-greetings class="hidden" hidden="true"></agora-greetings>\n            \n            \x3c!-- Loader --\x3e\n            ',"\n        "])),e.map((function(e){var n=e.service.toLowerCase().replace(/([!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~])/g,"").replace(/  /g,"-").replace(/ /g,"-");return F(Vf||(Vf=Xf(['\n                            <div class="','-wrapper" data-name="','">\n                                <div class="movable-wrapper">\n                                    ',"\n                                </div>\n                            </div>\n                        "])),n,e.service,e.items.map((function(e){var n=t.createCardObject(e);return F(Zf||(Zf=Xf(['\n                                                <agora-dynamic-card \n                                                    id="','"\n                                                    class="fade-in"\n                                                    href="','"\n                                                    type="','"\n                                                    model="','"\n                                                    model-verbose-name="','"\n                                                    service="',"\"\n                                                    data-data='","'\n                                                    featured-fields=\"",'"\n                                                    featured="','"\n                                                    absolute-score="','"\n                                                    relative-score="','"\n                                                ></agora-dynamic-card>\n                                            '])),n.id,"".concat(t.configContext.getData("host"),"/offering/").concat(n.view_id,"/").concat(n.id.split("-")[1]),n.type,n.model,n.model_verbose_name,n.service,n.dataset,n.featured_fields,n.featured,n.score.absolute,n.score.relative)})).join(""))})).join(""),this.isLoading.getState()?F(Yf||(Yf=Xf(['\n                    <agora-base-loader width="100" height="100"></agora-base-loader>\n                ']))):F(Wf||(Wf=Xf(["\n                    \n                "]))))}},{key:"listeners",value:function(){var t=this;Array.from(this.$(".card-wrapper").children).forEach((function(e){var n=function(n){return t.handleCursorScroll(n,e)},r=e.querySelector(".movable-wrapper");e.onmouseenter=function(){document.addEventListener("mousemove",n),t.highlightServiceOnHover(e,!0),t.scrollInterval=setInterval((function(){0!==t.currentScrollSpeed&&(r.scrollLeft+=t.currentScrollSpeed)}),.01)},e.onmouseleave=function(){clearInterval(t.scrollInterval),t.scrollInterval=null,t.currentScrollSpeed=0,document.removeEventListener("mousemove",n),t.highlightServiceOnHover(e,!1)},t.handleCardWrapperScroll(e.querySelector(".movable-wrapper"))})),this.$$(".movable-wrapper").forEach((function(e){e.onscroll=function(){return t.handleCardWrapperScroll(e)}})),this.$(".show-more")&&(this.$(".show-more").onclick=function(e){return t.$(".show-more").classList.contains("folded")?t.unfoldCardWrapper(e):t.foldCardWrapper(e)})}},{key:"clear",value:function(){this.resultContext.setData({data:[],grouped:[],filters:[]}),this.builtResults.setState([]),this.$(".no-results-message").style.display="none",this.$(".no-data-models-message").style.display="none",this.signals.emit("clear-error-messages")}},{key:"filterResults",value:function(){this.resultContext.getData("filters").length>0?this.isFiltered.setState(!0):this.isFiltered.setState(!1)}},{key:"createCardObject",value:function(t){var e=ae(this.serviceContext.getData("services"),"websites"),n={type:"item",id:"element-".concat(t.data.id),model:t.model,model_verbose_name:t.model_verbose_name,service:t.service,featured_fields:t.featured_fields||[],dataset:JSON.stringify(t.data,Kt),score:{absolute:t.score.absolute||1,relative:t.score.relative||1}};return e.forEach((function(t){t.websites.forEach((function(t){t.model===n.model&&(n.view_id=t.view_id)}))})),n}},{key:"countResults",value:function(t){var e=this.resultContext.getData("data").find((function(e){return e.service===t})),n=e.element_ids.length,r=e.featured_element_ids.length;return{numElementIds:n,numFeaturedElementIds:r,notFeaturedElementIds:n-r}}},{key:"handleCardWrapperScroll",value:function(t){var e=t.scrollLeft,n=t.scrollWidth-t.clientWidth;e<10&&t.classList.remove("scroll-left-active"),e>10&&t.classList.add("scroll-left-active"),n-e<10&&t.classList.remove("scroll-right-active"),n-e>10&&t.classList.add("scroll-right-active")}},{key:"handleCursorScroll",value:function(t,e){var n=e.querySelector(".movable-wrapper"),r=e.clientWidth;if(!(n.scrollWidth<=r+50)){var o,i=e.getBoundingClientRect(),a=i.x+i.width/2,s=t.clientX,c=-1*Math.round(a-s),l=(o=Math.round(c/r*100)/100*2,Math.min(Math.max(o,-1),1));if(Math.abs(l)>this.scrollTreshold){var u=Math.sign(l),f=Math.abs(l)*this.speedMultiplier;this.currentScrollSpeed=u*(this.scrollSpeed+f)}else this.currentScrollSpeed=0}}},{key:"unfoldCardWrapper",value:function(t){var e=t.target;e.classList.remove("folded"),e.innerHTML=V;var n=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(n.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="block")})),this.handleCardWrapperScroll(n)}},{key:"foldCardWrapper",value:function(t){var e=t.target;e.classList.add("folded"),e.innerHTML="+".concat(this.countResults(e.parentElement.dataset.name).notFeaturedElementIds);var n=this.$(".show-more").parentElement.querySelector(".movable-wrapper");Array.from(n.children).forEach((function(t){t.hasAttribute("featured")||(t.style.display="none")})),this.handleCardWrapperScroll(n)}},{key:"highlightServiceOnHover",value:function(t,e){document.querySelector("agora-app").$("agora-layout-v2").$("agora-navigator").$$("agora-navigator-item").forEach((function(n){e&&n.dataset.name===t.dataset.name?n.wrapper.classList.add("highlight"):n.wrapper.classList.remove("highlight")}))}},{key:"displayNoResultsMessage",value:function(){this.style.display="block",this.$(".no-results-message").style.display="grid",this.$(".no-data-models-message").style.display="none",this.signals.emit("display-no-results")}},{key:"displayNoDataModelsMessage",value:function(){this.style.display="block",this.$(".no-data-models-message").style.display="grid",this.$(".no-results-message").style.display="none",this.signals.emit("display-no-data-models")}}],r&&Kf(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function sh(t){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(t)}function ch(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uh(r.key),r)}}function uh(t){var e=function(t){if("object"!=sh(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=sh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sh(e)?e:e+""}function fh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fh=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hh(t)}function ph(t,e){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ph(t,e)}window.customElements.define("agora-result-window",ah);var dh,gh,vh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=hh(e),function(t,e){if(e&&("object"==sh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fh()?Reflect.construct(e,n||[],hh(t).constructor):e.apply(t,n))}(this,e,["agora-card-info-carousel","".concat(z.MID_COMPONENTS,"/CardInfoCarousel/CardInfoCarousel.css")])).configContext=new o("config",t,!1),t.resultContext=new o("result",t,!0),t.searchContext=new o("search",t,!0,"local"),t.serviceContext=new o("service",t,!1),t.groupedData=new a(null,t),t.displayedCardId=new a(null,t),t.maxDescriptionLength=new a(200,t),t.signals=new i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ph(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(oh||(oh=ch(['\n            \x3c!-- Close Button --\x3e\n            <button class="close-button">','</button>\n\n            \x3c!-- Card Content --\x3e\n            <div class="card-info-wrapper">\n                \x3c!-- Card Image --\x3e\n                <div class="card-info-image-container">\n                    <img class="card-info-image" src="">\n                </div>\n\n                \x3c!-- Card Main Content --\x3e\n                <div class="card-info-content">\n                    \x3c!-- Card Service --\x3e\n                    <span class="card-info-service"></span>\n                    <span class="card-info-origin-wrapper">\n                        <span class="card-info-origin"></span>\n                        <span class="card-info-breadcrumb"></span>\n                    </span>\n                    <span class="card-info-name"></span>\n                    <span class="card-info-lastname"></span>\n                    <span class="card-info-summary"></span>\n                </div>\n\n                \x3c!-- Card Actions --\x3e\n                <div class="card-info-actions">\n                    <button class="card-info-explore-button">Explore</button>\n                </div>\n            </div>\n\n            \x3c!-- Carousel Controls --\x3e\n            <div class="controls-wrapper">\n                <span class="prev-control">','</span>\n                <span class="next-control">',"</span>\n            </div>\n        "])),ct,rt,ot)}},{key:"listeners",value:function(){var t=this;this.wrapper.onclick=function(e){return t.close(e)},this.$(".next-control").onclick=function(e){return t.showNext(e)},this.$(".prev-control").onclick=function(e){return t.showPrevious(e)},this.$(".card-info-explore-button").onclick=function(){return window.open(t.$(".card-info-explore-button").dataset.url,"_blank")},document.addEventListener("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.close()}},{key:"show",value:function(t,e,n){this.displayedCardId.setState(t,!1);var r=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t)}));e||(e=this.updateUrl(r)),this.updateVisibility(n),this.updateCardConent(r,e),this.displayAdditionalFields(r.data,r.featured_fields),this.updateNavigationControls(),this.highlightSearchTerms(r.roots)}},{key:"updateUrl",value:function(t){return ae(this.serviceContext.getData("services"),"websites").forEach((function(e){e.websites.forEach((function(e){e.model===t.model&&(t.data.view_id=e.view_id)}))})),"".concat(this.configContext.getData("host"),"/offering/").concat(t.data.view_id,"/").concat(t.data.id)}},{key:"updateVisibility",value:function(t){this.style.display="block",this.$(".card-info-wrapper").classList.add("fade-in"),this.wrapper.classList.remove("no-image"),this.wrapper.style.display="flex"}},{key:"updateCardConent",value:function(t,e){var n,r,o,i,a,s,c,l,u;this.$(".card-info-service").textContent=null!==(n=t.service)&&void 0!==n?n:"",this.$(".card-info-breadcrumb").innerHTML=F(ih||(ih=ch(['\n            <span class="root">','</span>\n            <span class="separator">></span>\n            <a class="leaf" href="','" target="_blank">',"</span>\n        "])),t.service,t.model_view_url,t.model_verbose_name),this.$(".card-info-image").src=null!==(r="".concat(this.configContext.getData("host"),"/web/image?model=").concat(t.model,"&id=").concat(t.data.id,"&field=image"))&&void 0!==r?r:"",this.$(".card-info-name").textContent=null!==(o=t.data.name)&&void 0!==o?o:"",this.$(".card-info-lastname").innerHTML=null!==(i=t.data.lastname)&&void 0!==i?i:"",this.$(".card-info-summary").innerHTML=null!==(a=null!==(s=null!==(c=t.data.summary)&&void 0!==c?c:t.data.description)&&void 0!==s?s:t.data.content)&&void 0!==a?a:"",this.$(".card-info-origin").textContent=null!==(l=null!==(u=t.data.university_origin)&&void 0!==u?u:t.data.home_partner_institution)&&void 0!==l?l:"",this.$(".card-info-explore-button").dataset.url=null!=e?e:"",this.$(".card-info-content").scrollTo(0,0)}},{key:"updateNavigationControls",value:function(){this.toogleNextControl(),this.tooglePreviousControl()}},{key:"showNext",value:function(t){var e=this,n=this.resultContext.getData("data").find((function(t){return Number(t.data.id)===Number(e.displayedCardId.getState())})),r=this.groupedData.getState().find((function(t){return t.service===n.service})),o=r.items.findIndex((function(t){return Number(t.data.id)===Number(n.data.id)}));o!==r.items.length-1&&(this.displayedCardId.setState(r.items[o+1].data.id,!1),this.show(this.displayedCardId.getState(),n.data.detail_url,n.data.image_url))}},{key:"showPrevious",value:function(t){var e=this,n=this.resultContext.getData("data").find((function(t){return Number(t.data.id)===Number(e.displayedCardId.getState())})),r=this.groupedData.getState().find((function(t){return t.service===n.service})),o=r.items.findIndex((function(t){return Number(t.data.id)===Number(n.data.id)}));0!==o&&(this.displayedCardId.setState(r.items[o-1].data.id,!1),this.show(this.displayedCardId.getState(),n.data.detail_url,n.data.image_url))}},{key:"toogleNextControl",value:function(){var t=this,e=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t.displayedCardId.getState())})),n=this.groupedData.getState().find((function(t){return t.service===e.service})),r=n.items.findIndex((function(t){return Number(t.data.id)===Number(e.data.id)}));this.$(".next-control").classList.toggle("hidden",r===n.items.length-1)}},{key:"tooglePreviousControl",value:function(){var t=this,e=this.resultContext.getData("data").find((function(e){return Number(e.data.id)===Number(t.displayedCardId.getState())})),n=this.groupedData.getState().find((function(t){return t.service===e.service})).items.findIndex((function(t){return Number(t.data.id)===Number(e.data.id)}));this.$(".prev-control").classList.toggle("hidden",0===n)}},{key:"close",value:function(t){t?t.target.classList.contains("close-button")?this.style.display="none":(t.stopPropagation(),t.target===this.wrapper&&(this.style.display="none")):this.style.display="none"}},{key:"setData",value:function(t){this.groupedData.setState(t,!1)}},{key:"displayAdditionalFields",value:function(t,e){}},{key:"highlightSearchTerms",value:function(t){var e=this.searchContext.getData("current")||[];e=(e=t).filter((function(t){if(!["i","I"].includes(t))return t}));var n=this.$(".card-info-name").innerHTML,r=this.$(".card-info-lastname").innerHTML,o=this.$(".card-info-summary").innerHTML;e.forEach((function(t){var e=new RegExp("\\b".concat(t,"\\w*\\b"),"gi");n=n.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")})),r=r.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")})),o=o.replace(e,(function(t){return'<span class="highlight">'.concat(t,"</span>")}))})),this.$(".card-info-name").innerHTML=n,this.$(".card-info-lastname").innerHTML=r,this.$(".card-info-summary").innerHTML=o}},{key:"handleAnimation",value:function(t,e){var n=this;t.preventDefault(),this.$(".card-info-wrapper").classList.remove("fade-in"),this.$(".card-info-wrapper").classList.remove("fade-left"),this.$(".card-info-wrapper").classList.remove("fade-right"),"prev"===e&&(this.$(".card-info-wrapper").classList.add("fade-left"),this.$(".controls-wrapper").style.opacity=0,this.$(".card-info-wrapper").style.overflowY="hidden",this.$(".card-info-wrapper").onanimationend=function(){n.$(".card-info-wrapper").classList.remove("fade-left"),n.$(".card-info-wrapper").classList.add("fade-in"),n.$(".card-info-wrapper").onanimationend=function(){n.$(".card-info-wrapper").classList.remove("fade-in"),n.$(".controls-wrapper").style.opacity=1,n.$(".card-info-wrapper").style.overflowY="auto"}}),"next"===e&&(this.$(".card-info-wrapper").classList.add("fade-right"),this.$(".controls-wrapper").style.opacity=0,this.$(".card-info-wrapper").style.overflowY="hidden",this.$(".card-info-wrapper").onanimationend=function(){n.$(".card-info-wrapper").classList.remove("fade-right"),n.$(".card-info-wrapper").classList.add("fade-in"),n.$(".card-info-wrapper").onanimationend=function(){n.$(".card-info-wrapper").classList.remove("fade-in"),n.$(".controls-wrapper").style.opacity=1,n.$(".card-info-wrapper").style.overflowY="auto"}})}}],r&&lh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function yh(t){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(t)}function mh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wh(r.key),r)}}function wh(t){var e=function(t){if("object"!=yh(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yh(e)?e:e+""}function _h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_h=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xh(t)}function kh(t,e){return kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kh(t,e)}window.customElements.define("agora-card-info-carousel",vh);var Sh,Oh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=xh(e),function(t,e){if(e&&("object"==yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_h()?Reflect.construct(e,n||[],xh(t).constructor):e.apply(t,n))}(this,e,["agora-pin-box","".concat(z.MID_COMPONENTS,"/PinBox/PinBox.css")])).pinContext=new o("pin",t,!1,"local"),t.unfolded=new a(!1,t),t.data=new a(null,t),t.load(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kh(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(dh||(dh=mh(['\n            <div class="pin-icon ','">','</div>\n            <div class="card-wrapper ','">\n                ','\n                <div class="drop-placeholder">Drop and save your items here</div>\n            </div>\n        '])),this.unfolded.getState()?"unfolded":"",Q,this.data.getState()&&this.data.getState().length>0?"":"no-cards",this.data.getState()&&this.data.getState().length>0?this.data.getState().map((function(t){return F(gh||(gh=mh(["\n                        <agora-pin-card data-data='","'></agora-pin-card>\n                        "])),JSON.stringify(t,Kt))})).join(""):"")}},{key:"listeners",value:function(){var t=this;this.$(".pin-icon").onclick=function(){return t.toogleFold()},this.wrapper.ondragover=function(e){return t.handleDragOver(e)},this.wrapper.ondragleave=function(e){return t.handleDragLeave(e)},this.wrapper.ondrop=function(e){return t.handleDragDrop(e)}}},{key:"load",value:function(){var t=this.pinContext.getData("data");t&&this.data.setState(t,!1)}},{key:"toogleFold",value:function(){this.unfolded.setState(!this.unfolded.getState(),!1),this.$(".pin-icon").classList.toggle("unfolded")}},{key:"handleDragOver",value:function(t){t.preventDefault(),this.wrapper.classList.add("dragover")}},{key:"handleDragLeave",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover")}},{key:"handleDragDrop",value:function(t){t.preventDefault(),this.wrapper.classList.remove("dragover");var e={id:t.dataTransfer.getData("id"),model:t.dataTransfer.getData("model"),href:t.dataTransfer.getData("href"),featured_fields:t.dataTransfer.getData("featured-fields"),featured:t.dataTransfer.getData("featured"),data:JSON.parse(t.dataTransfer.getData("data"))};this.addPinnedCard(e)}},{key:"addPinnedCard",value:function(t){this.pinContext.getData("data")||this.pinContext.setData({data:[]});var e=this.pinContext.getData("data");ae(e,"id").find((function(e){return e.id===t.id}))||(e.push(t),this.pinContext.setData({data:e}),this.data.setState(e,!0))}},{key:"removePinnedCard",value:function(t){if(this.pinContext.getData("data")){var e=this.pinContext.getData("data").filter((function(e){return e.id!==t}));this.pinContext.setData({data:e}),this.data.setState(e,!0)}}}],r&&bh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Ch(t){return Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(t)}function Eh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Th(r.key),r)}}function Th(t){var e=function(t){if("object"!=Ch(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ch(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ch(e)?e:e+""}function jh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jh=function(){return!!t})()}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lh(t)}function Ph(t,e){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ph(t,e)}window.customElements.define("agora-pin-box",Oh);var Ah,$h,Mh=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Lh(e),function(t,e){if(e&&("object"==Ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jh()?Reflect.construct(e,n||[],Lh(t).constructor):e.apply(t,n))}(this,e,["agora-result-map","".concat(z.MID_COMPONENTS,"/ResultMapWindow/ResultMapWindow.css")])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(e,t),n=e,r=[{key:"template",value:function(){return F(Sh||(t=['\n            \x3c!-- Close Button --\x3e\n            <button class="close-button">','</button>\n            \n            <iframe\n                width="600"\n                height="400"\n                seamless\n                frameBorder="0"\n                scrolling="no"\n                sandbox="allow-scripts allow-same-origin"\n                src="http://superset.widening.eu/superset/explore/p/dwao9E728ZN/?standalone=1&height=400"\n            ></iframe>\n        '],e||(e=t.slice(0)),Sh=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),ct);var t,e}},{key:"listeners",value:function(){var t=this;this.$(".close-button").onclick=function(e){return t.close(e)},this.wrapper.onclick=function(e){return t.handleBackgroundClick(e)},document.addEventListener("keydown",(function(e){return t.handleKeyDown(e)}))}},{key:"toogleMapWindow",value:function(){this.wrapper.classList.toggle("active")}},{key:"close",value:function(){this.wrapper.classList.remove("active")}},{key:"handleBackgroundClick",value:function(t){t.target===this.wrapper&&this.close()}},{key:"handleKeyDown",value:function(t){"Escape"===t.key&&this.wrapper.classList.contains("active")&&this.close()}}],r&&Eh(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r);function Dh(t){return Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(t)}function Ih(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Rh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nh(r.key),r)}}function Nh(t){var e=function(t){if("object"!=Dh(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Dh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dh(e)?e:e+""}function Bh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bh=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zh(t)}function Fh(t,e){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fh(t,e)}window.customElements.define("agora-result-map",Mh);var qh=function(t){function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(t,e,n){return e=zh(e),function(t,e){if(e&&("object"==Dh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bh()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}(this,n,["agora-app","".concat(z.SRC,"/App.css")])).companyContext=new o("company",t,!1),t.resultContext=new o("result",t,!1),t.serviceContext=new o("service",t,!1),t.metagoraContext=new o("metagora",t,!1),t.chatContext=new o("chat",t,!1),t.configContext=new o("config",t,!1),t.languageContext=new o("language",t,!1,"local"),t.layout=new a("main",t),t.setupConfig(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fh(t,e)}(n,t),r=n,i=[{key:"setupConfig",value:function(){var t,n,r,o,i,a,s={name:null!==(t=this.getAttribute("name"))&&void 0!==t?t:e.name,host:null!==(n=this.getAttribute("host"))&&void 0!==n?n:e.host,company_id:null!==(r=this.getAttribute("company_id"))&&void 0!==r?r:e.company_id,enabled_ai:null!==(o=this.hasAttribute("enabled_ai"))&&void 0!==o?o:e.enabled_ai,ai_host:null!==(i=this.getAttribute("ai_host"))&&void 0!==i?i:e.ai_host,translation_host:null!==(a=this.getAttribute("translation_host"))&&void 0!==a?a:e.translation_host,current_version:e.current_version};this.configContext.setData(s)}},{key:"template",value:function(){return F(Ah||(Ah=Ih(['\n            \x3c!-- <agora-navigator></agora-navigator> --\x3e\n            \x3c!-- <agora-navbar></agora-navbar> --\x3e\n            \x3c!-- <agora-layout-v1></agora-layout-v1> --\x3e\n            \n            <agora-layout-v2></agora-layout-v2>\n\n            \x3c!-- Element Info Dialog --\x3e\n            <dialog class="card-info-dialog">\n                \x3c!-- Card Content --\x3e\n                <div class="card-info-dialog-wrapper">\n                    \x3c!-- Card Image --\x3e\n                    <div class="card-info-image-container">\n                        <img class="card-info-image" src="">\n                    </div>\n\n                    \x3c!-- Card Main Content --\x3e\n                    <div class="card-info-content">\n                        <span class="card-info-origin"></span>\n                        <span class="card-info-name"></span>\n                        <span class="card-info-lastname"></span>\n                        <span class="card-info-summary"></span>\n                    </div>\n\n                    \x3c!-- Card Actions --\x3e\n                    <div class="card-info-actions">\n                        <button class="card-info-explore-button">Explore</button>\n                    </div>\n                </div>\n\n                \x3c!-- Carousel Controls --\x3e\n                <div class="carousel-controls">\n                    <span class="prev-control">','</span>\n                    <span class="next-control">',"</span>\n                </div>\n            </dialog>\n            \x3c!-- This element could be encapsulated in a component --\x3e\n        "])),rt,ot)}},{key:"listeners",value:function(){var t=this;this.$(".card-info-dialog").onclick=function(e){return t.closeInfoDialog(e)},this.$(".card-info-dialog").onanimationend=function(){return t.$(".card-info-dialog").classList.remove("fade-in")},this.$(".card-info-explore-button").onclick=function(){return window.open(t.$(".card-info-explore-button").dataset.url,"_blank")},this.wrapper.onclick=function(e){if("AGORA-NAVBAR"!==e.target.tagName){var n=t.$("agora-navbar");if(!n)return;n.foldAllSubmenus()}},this.$(".prev-control").onclick=function(e){return t.handleCarouselControls(e,"prev")},this.$(".next-control").onclick=function(e){return t.handleCarouselControls(e,"next")}}},{key:"connectors",value:function(){var t=this.configContext.getData("enabled_ai")?this.$("agora-layout-v2").$("agora-chat").$("agora-chat-window"):null,e=this.$("agora-layout-v2").$("agora-result-window"),n=this.configContext.getData("enabled_ai")?null:this.$("agora-layout-v2").$("agora-searchbar"),r=this.$("agora-layout-v2").$("agora-navigator"),o=this.$("agora-layout-v2").$("agora-card-info-carousel"),i=this.$("agora-layout-v2").$("agora-landing"),a=this.$("agora-layout-v2").$("agora-metagora-navigator");e&&t&&e.signals.connect(t,"results-updated",(function(){return e.clear()})),e&&n&&(e.signals.connect(n,"no-results",(function(){return e.displayNoResultsMessage()})),e.signals.connect(n,"no-data-models",(function(){return e.displayNoDataModelsMessage()}))),r&&t&&r.signals.connect(t,"results-updated",(function(){return r.render()})),o&&t&&o.signals.connect(e,"cards-fetched",(function(){return o.setData(e.builtResults.getState())})),o&&n&&o.signals.connect(n,"results-updated",(function(t){return o.setData(t)})),i&&r&&i.signals.connect(r,"changed-agora",(function(){return i.reset()})),a&&r&&r.signals.connect(a,"changed-agora",(function(t){return r.updateAgora(t.index,t.isMetagora)})),r&&e&&e.signals.connect(r,"changed-filters",(function(){return e.filterResults()})),e&&i&&(i.signals.connect(e,"display-no-results",(function(){return i.hide()})),i.signals.connect(e,"display-no-data-models",(function(){return i.hide()})),i.signals.connect(e,"clear-error-messages",(function(){return i.show()})))}},{key:"openInfoDialog",value:function(t){this.$("agora-layout-v2").$("agora-card-info-carousel").show(t.id,t.href,t.has_image)}},{key:"displayAdditionalFieldsInDialog",value:function(t,e){var n=e.additional_fields,r=e.data;if(0===n.length&&t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").remove();else{if(t.querySelector(".card-info-additional-fields"))t.querySelector(".card-info-additional-fields").innerHTML="";else{var o=document.createElement("div");o.classList.add("card-info-additional-fields"),t.querySelector(".card-info-content").appendChild(o)}n.forEach((function(e){if(r[e]){var n=e.replace(/_/g," ");n=n.toUpperCase();var o=F($h||($h=Ih(['\n                <div class="additional-field">\n                    <span class="field-name">','</span>\n                    <span class="field-value">',"</span>\n                </div>\n            "])),n,r[e]);t.querySelector(".card-info-additional-fields").innerHTML+=o}}))}}},{key:"closeInfoDialog",value:function(t){["BUTTON","SVG","PATH","svg","path"].includes(t.target.tagName)||t.target.classList.contains("carousel-controls")||t.target.classList.contains("prev-control")||t.target.classList.contains("next-control")||this.$(".card-info-dialog").close()}},{key:"handleCarouselControls",value:function(t,e){var n=this;t.preventDefault(),this.$(".card-info-dialog").classList.remove("fade-in"),this.$(".card-info-dialog").classList.remove("fade-left"),this.$(".card-info-dialog").classList.remove("fade-right"),"prev"===e&&(this.$(".card-info-dialog").classList.add("fade-left"),this.$(".carousel-controls").style.opacity=0,this.$(".card-info-dialog").style.overflowY="hidden",this.$(".card-info-dialog").onanimationend=function(){n.$(".card-info-dialog").classList.remove("fade-left"),n.$(".card-info-dialog").classList.add("fade-in"),n.$(".card-info-dialog").onanimationend=function(){n.$(".card-info-dialog").classList.remove("fade-in"),n.$(".carousel-controls").style.opacity=1,n.$(".card-info-dialog").style.overflowY="auto"}}),"next"===e&&(this.$(".card-info-dialog").classList.add("fade-right"),this.$(".carousel-controls").style.opacity=0,this.$(".card-info-dialog").style.overflowY="hidden",this.$(".card-info-dialog").onanimationend=function(){n.$(".card-info-dialog").classList.remove("fade-right"),n.$(".card-info-dialog").classList.add("fade-in"),n.$(".card-info-dialog").onanimationend=function(){n.$(".card-info-dialog").classList.remove("fade-in"),n.$(".carousel-controls").style.opacity=1,n.$(".card-info-dialog").style.overflowY="auto"}})}}],i&&Rh(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}(r);window.customElements.define("agora-app",qh)}},r={};function o(t){var e=r[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var i=r[t]={exports:{}};try{var a={id:t,module:i,factory:n[t],require:o};o.i.forEach((function(t){t(a)})),i=a.module,a.factory.call(i.exports,i,i.exports,a.require)}catch(t){throw i.error=t,t}return i.exports}o.m=n,o.c=r,o.i=[],o.hu=t=>t+"."+o.h()+".hot-update.js",o.hmrF=()=>"main."+o.h()+".hot-update.json",o.h=()=>"190ab9cdbaf24460aec2",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="agora-ai-assistant-frontend:",o.l=(n,r,i,a)=>{if(t[n])t[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var f=l[u];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+i){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",e+i),s.src=n),t[n]=[r];var h=(e,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((t=>t(r))),e)return e(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},(()=>{var t,e,n,r={},i=o.c,a=[],s=[],c="idle",l=0,u=[];function f(t){c=t;for(var e=[],n=0;n<s.length;n++)e[n]=s[n].call(null,t);return Promise.all(e).then((function(){}))}function h(){0==--l&&f("ready").then((function(){if(0===l){var t=u;u=[];for(var e=0;e<t.length;e++)t[e]()}}))}function p(t){if("idle"!==c)throw new Error("check() is only allowed in idle status");return f("check").then(o.hmrM).then((function(n){return n?f("prepare").then((function(){var r=[];return e=[],Promise.all(Object.keys(o.hmrC).reduce((function(t,i){return o.hmrC[i](n.c,n.r,n.m,t,e,r),t}),[])).then((function(){return e=function(){return t?g(t):f("ready").then((function(){return r}))},0===l?e():new Promise((function(t){u.push((function(){t(e())}))}));var e}))})):f(v()?"ready":"idle").then((function(){return null}))}))}function d(t){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):g(t)}function g(t){t=t||{},v();var r=e.map((function(e){return e(t)}));e=void 0;var o=r.map((function(t){return t.error})).filter(Boolean);if(o.length>0)return f("abort").then((function(){throw o[0]}));var i=f("dispose");r.forEach((function(t){t.dispose&&t.dispose()}));var a,s=f("apply"),c=function(t){a||(a=t)},l=[];return r.forEach((function(t){if(t.apply){var e=t.apply(c);if(e)for(var n=0;n<e.length;n++)l.push(e[n])}})),Promise.all([i,s]).then((function(){return a?f("fail").then((function(){throw a})):n?g(t).then((function(t){return l.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):f("idle").then((function(){return l}))}))}function v(){if(n)return e||(e=[]),Object.keys(o.hmrI).forEach((function(t){n.forEach((function(n){o.hmrI[t](n,e)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(u){var g,v,y,m,b=u.module,w=function(e,n){var r=i[n];if(!r)return e;var o=function(o){if(r.hot.active){if(i[o]){var s=i[o].parents;-1===s.indexOf(n)&&s.push(n)}else a=[n],t=o;-1===r.children.indexOf(o)&&r.children.push(o)}else console.warn("[HMR] unexpected require("+o+") from disposed module "+n),a=[];return e(o)},s=function(t){return{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(n){e[t]=n}}};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&"e"!==u&&Object.defineProperty(o,u,s(u));return o.e=function(t,n){return function(t){switch(c){case"ready":f("prepare");case"prepare":return l++,t.then(h,h),t;default:return t}}(e.e(t,n))},o}(u.require,u.id);b.hot=(g=u.id,v=b,m={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=t!==g,_requireSelf:function(){a=v.parents.slice(),t=y?void 0:g,o(g)},active:!0,accept:function(t,e,n){if(void 0===t)m._selfAccepted=!0;else if("function"==typeof t)m._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var r=0;r<t.length;r++)m._acceptedDependencies[t[r]]=e||function(){},m._acceptedErrorHandlers[t[r]]=n;else m._acceptedDependencies[t]=e||function(){},m._acceptedErrorHandlers[t]=n},decline:function(t){if(void 0===t)m._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)m._declinedDependencies[t[e]]=!0;else m._declinedDependencies[t]=!0},dispose:function(t){m._disposeHandlers.push(t)},addDisposeHandler:function(t){m._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=m._disposeHandlers.indexOf(t);e>=0&&m._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":e=[],Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](g,e)})),f("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](g,e)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(g)}},check:p,apply:d,status:function(t){if(!t)return c;s.push(t)},addStatusHandler:function(t){s.push(t)},removeStatusHandler:function(t){var e=s.indexOf(t);e>=0&&s.splice(e,1)},data:r[g]},t=void 0,m),b.parents=a,b.children=[],a=[],u.require=w})),o.hmrC={},o.hmrI={}})(),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t,e,n,r,i,a=o.hmrS_jsonp=o.hmrS_jsonp||{792:0},s={};function c(e,n){return t=n,new Promise(((t,n)=>{s[e]=t;var r=o.p+o.hu(e),i=new Error;o.l(r,(t=>{if(s[e]){s[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading hot update chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function l(t){function s(t){for(var e=[t],n={},r=e.map((function(t){return{chain:[t],id:t}}));r.length>0;){var i=r.pop(),a=i.id,s=i.chain,l=o.c[a];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var u=0;u<l.parents.length;u++){var f=l.parents[u],h=o.c[f];if(h){if(h.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([f]),moduleId:a,parentId:f};-1===e.indexOf(f)&&(h.hot._acceptedDependencies[a]?(n[f]||(n[f]=[]),c(n[f],[a])):(delete n[f],e.push(f),r.push({chain:s.concat([f]),id:f})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}o.f&&delete o.f.jsonpHmr,e=void 0;var l={},u=[],f={},h=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var p in n)if(o.o(n,p)){var d=n[p],g=d?s(p):{type:"disposed",moduleId:p},v=!1,y=!1,m=!1,b="";switch(g.chain&&(b="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of self decline: "+g.moduleId+b));break;case"declined":t.onDeclined&&t.onDeclined(g),t.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+b));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(g),t.ignoreUnaccepted||(v=new Error("Aborted because "+p+" is not accepted"+b));break;case"accepted":t.onAccepted&&t.onAccepted(g),y=!0;break;case"disposed":t.onDisposed&&t.onDisposed(g),m=!0;break;default:throw new Error("Unexception type "+g.type)}if(v)return{error:v};if(y)for(p in f[p]=d,c(u,g.outdatedModules),g.outdatedDependencies)o.o(g.outdatedDependencies,p)&&(l[p]||(l[p]=[]),c(l[p],g.outdatedDependencies[p]));m&&(c(u,[g.moduleId]),f[p]=h)}n=void 0;for(var w,_=[],x=0;x<u.length;x++){var k=u[x],S=o.c[k];S&&(S.hot._selfAccepted||S.hot._main)&&f[k]!==h&&!S.hot._selfInvalidated&&_.push({module:k,require:S.hot._requireSelf,errorHandler:S.hot._selfAccepted})}return{dispose:function(){var t;r.forEach((function(t){delete a[t]})),r=void 0;for(var e,n=u.slice();n.length>0;){var i=n.pop(),s=o.c[i];if(s){var c={},f=s.hot._disposeHandlers;for(x=0;x<f.length;x++)f[x].call(null,c);for(o.hmrD[i]=c,s.hot.active=!1,delete o.c[i],delete l[i],x=0;x<s.children.length;x++){var h=o.c[s.children[x]];h&&(t=h.parents.indexOf(i))>=0&&h.parents.splice(t,1)}}}for(var p in l)if(o.o(l,p)&&(s=o.c[p]))for(w=l[p],x=0;x<w.length;x++)e=w[x],(t=s.children.indexOf(e))>=0&&s.children.splice(t,1)},apply:function(e){for(var n in f)o.o(f,n)&&(o.m[n]=f[n]);for(var r=0;r<i.length;r++)i[r](o);for(var a in l)if(o.o(l,a)){var s=o.c[a];if(s){w=l[a];for(var c=[],h=[],p=[],d=0;d<w.length;d++){var g=w[d],v=s.hot._acceptedDependencies[g],y=s.hot._acceptedErrorHandlers[g];if(v){if(-1!==c.indexOf(v))continue;c.push(v),h.push(y),p.push(g)}}for(var m=0;m<c.length;m++)try{c[m].call(null,w)}catch(n){if("function"==typeof h[m])try{h[m](n,{moduleId:a,dependencyId:p[m]})}catch(r){t.onErrored&&t.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:p[m],error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"accept-errored",moduleId:a,dependencyId:p[m],error:n}),t.ignoreErrored||e(n)}}}for(var b=0;b<_.length;b++){var x=_[b],k=x.module;try{x.require(k)}catch(n){if("function"==typeof x.errorHandler)try{x.errorHandler(n,{moduleId:k,module:o.c[k]})}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:k,error:n}),t.ignoreErrored||e(n)}}return u}}}self.webpackHotUpdateagora_ai_assistant_frontend=(e,r,a)=>{for(var c in r)o.o(r,c)&&(n[c]=r[c],t&&t.push(c));a&&i.push(a),s[e]&&(s[e](),s[e]=void 0)},o.hmrI.jsonp=function(t,e){n||(n={},i=[],r=[],e.push(l)),o.o(n,t)||(n[t]=o.m[t])},o.hmrC.jsonp=function(t,s,u,f,h,p){h.push(l),e={},r=s,n=u.reduce((function(t,e){return t[e]=!1,t}),{}),i=[],t.forEach((function(t){o.o(a,t)&&void 0!==a[t]?(f.push(c(t,p)),e[t]=!0):e[t]=!1})),o.f&&(o.f.jsonpHmr=function(t,n){e&&o.o(e,t)&&!e[t]&&(n.push(c(t)),e[t]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})(),o(493)})();